import{o as tf,S as bt,i as yt,s as _t,K as wt,e as G,a as pe,c as K,b as Z,f as P,g as ge,m as O,h as Se,j as N,L as xt,M as St,N as kt,u as Ke,q as Je,U as ie,n as Ce,A as hr,V as Nu,W as Vy,X as be,Q as Fe,R as pr,p as Xe,Y as gs,Z as ms,t as $e,d as je,k as en,G as el,_ as Iu,y as Hy,r as Wy,$ as Yy,C as tl,D as nl,E as rl,F as il,a0 as cn,a1 as Q0,a2 as ep,a3 as tp,T as We,O as Xy,a4 as Lu,l as wo,a5 as Gy,P as xo,a6 as Ky,a7 as Zy,x as Ou,w as Jy}from"./index.93104ad7.js";import{_ as Ie,c as Fu,d as np,e as yi,g as Ar,h as bs,j as ii,k as sr,l as Zf,n as Qy,r as rp,o as yn,p as Jf,q as e2,s as t2,t as ip,u as ap,w as Te,x as n2,y as r2,z as op,i as Qf,A as i2,C as So,S as Pu,D as a2,E as al,F as ol,R as ys,G as sl,H as sp,I as Bu,J as Ru,K as o2,L as fr,M as $u,N as Yi,O as s2,P as ju,Q as It,T as fl,U as f2,V as qu,W as c2,X as ko,Y as fp,Z as Mo,$ as ze,f as bn,a0 as At,a1 as l2,m as u2,a2 as ec,a3 as d2,a4 as h2,a5 as p2,a6 as g2,a7 as m2,B as b2,b as zu}from"./index.6db4472e.js";import{w as lt}from"./paths.24c75e0b.js";import{H as y2,S as _2}from"./Header.0b569f70.js";import{m as Uu}from"./model_out.7143bfd2.js";const v2={"@@functional/placeholder":!0};var w2=Ie(function(t,n){return Number(t)+Number(n)});function cp(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var f;s<t.length&&(!Fu(t[s])||i>=arguments.length)?f=t[s]:(f=arguments[i],i+=1),r[s]=f,Fu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):np(a,cp(e,r,n))}}var Er=Ie(function(t,n){return t===1?yi(n):np(t,cp(t,[],n))});function x2(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var S2=Ie(function(t,n){return n>t?n:t});function go(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var k2=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=Ar.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),M2=Ie(function(t,n){return new k2(t,n)}),A2=Ie(bs(["fantasy-land/map","map"],M2,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return Er(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return ii(function(r,i){return r[i]=t(n[i]),r},{},sr(n));default:return go(t,n)}}));const zn=A2,E2=Number.isInteger||function(t){return t<<0===t};var T2=Ie(function(t,n){var r=t<0?n.length+t:t;return Zf(n)?n.charAt(r):n[r]});const lp=T2;var C2=Ie(function(t,n){if(n!=null)return E2(t)?lp(t,n):n[t]});const tc=C2;var D2=Ie(function(t,n){return zn(tc(t),n)});const cl=D2;var N2=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=x2(this.xf["@@transducer/step"](t,!0))),t},e}(),I2=Ie(function(t,n){return new N2(t,n)}),L2=Ie(bs(["any"],I2,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1}));const ll=L2;var O2=Ie(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:ii(function(r,i){return Qy(r,zn(i,n))},[],t)}),F2=Ie(function(t,n){return t.apply(this,n)});function Vu(e,t){return Jf(t)?t.map(e):sr(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var P2=yi(function e(t){return t=Vu(function(n){return typeof n=="function"?n:e(n)},t),Er(rp(S2,0,cl("length",yn(t))),function(){var n=arguments;return Vu(function(r){return F2(r,n)},t)})});const Hu=P2;function nc(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var B2=Ie(function(t,n){var r=Er(t,n);return Er(t,function(){return ii(O2,zn(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),R2=yi(function(t){return B2(t.length,t)});function $2(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var j2=function(e){return{"@@transducer/init":Ar.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?$2(r):r}}},q2=function(t){var n=j2(t);return{"@@transducer/init":Ar.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return e2(i)?ii(n,r,i):ii(n,r,[i])}}},z2=Ie(function(t,n){return zn(t,q2(n))}),U2=Ie(bs(["fantasy-land/chain","chain"],z2,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:t2(!1)(zn(t,n))}));const up=U2;function nf(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var Ei=function(t){return(t<10?"0":"")+t},V2=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Ei(t.getUTCMonth()+1)+"-"+Ei(t.getUTCDate())+"T"+Ei(t.getUTCHours())+":"+Ei(t.getUTCMinutes())+":"+Ei(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function H2(e){return function(){return!e.apply(this,arguments)}}var W2=Ie(function(t,n){return ip(H2(t),n)});const dp=W2;function hp(e,t){var n=function(s){var f=t.concat([e]);return ap(s,f)?"<Circular>":hp(s,f)},r=function(a,s){return go(function(f){return nf(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+go(n,e).join(", ")+"))";case"[object Array]":return"["+go(n,e).concat(r(e,dp(function(a){return/^\d+$/.test(a)},sr(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):nf(V2(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":nf(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,sr(e)).join(", ")+"}"}}var rf=yi(function(t){return hp(t,[])}),Y2=Ie(function(t,n){if(Jf(t)){if(Jf(n))return t.concat(n);throw new TypeError(rf(n)+" is not an array")}if(Zf(t)){if(Zf(n))return t+n;throw new TypeError(rf(n)+" is not a string")}if(t!=null&&nc(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&nc(t.concat))return t.concat(n);throw new TypeError(rf(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const Xi=Y2;var X2=yi(function(t){return Er(t.length,t)});const Wu=X2;var G2=lp(-1);const af=G2;var K2=Ie(function(t,n){return t||n}),Z2=Ie(function(t,n){return nc(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:R2(K2)(t,n)});const pp=Z2;var J2=yi(function(t){return Er(t.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,t.apply(this,i)})}),Q2=Ie(function(t,n){if(t.length===0||Te(n))return!1;for(var r=n,i=0;i<t.length;)if(!Te(r)&&n2(t[i],r))r=r[t[i]],i+=1;else return!1;return!0}),e_=Ie(function(t,n){return Q2([t],n)});const cr=e_;var t_=r2(function(t,n,r){return Er(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const rc=t_;var n_=function(){function e(t,n){this.xf=n,this.f=t,this.set=new op}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=Ar.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),r_=Ie(function(t,n){return new n_(t,n)}),i_=Ie(bs([],r_,function(e,t){for(var n=new op,r=[],i=0,a,s;i<t.length;)s=t[i],a=e(s),n.add(a)&&r.push(s),i+=1;return r})),a_=i_(Qf),o_=Ie(function(t,n){var r,i;return t.length>n.length?(r=t,i=n):(r=n,i=t),a_(i2(J2(ap)(r),i))});const s_=o_;var f_=Ie(function(t,n){return ii(function(r,i){return r[i]=t(n[i],i,n),r},{},sr(n))});const c_=f_;var l_=rp(w2,0);const u_=l_;var d_=Ie(function(t,n){for(var r={},i={},a=0,s=t.length;a<s;)i[t[a]]=1,a+=1;for(var f in n)i.hasOwnProperty(f)||(r[f]=n[f]);return r});const Yu=d_;var h_=Ie(function(t,n){for(var r={},i=0;i<t.length;)t[i]in n&&(r[t[i]]=n[t[i]]),i+=1;return r});const p_=h_;var g_=Ie(function(t,n){return Array.prototype.slice.call(n,0).sort(t)});const m_=g_;var b_=Ie(function(t,n){return Xi(So(t,n),So(n,t))});const y_=b_;var __=Ie(function(t,n){for(var r=[],i=0,a=Math.min(t.length,n.length);i<a;)r[i]=[t[i],n[i]],i+=1;return r});const v_=__;function Ot(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _s(e){let t,n,r;e.length!==2?(t=Ot,n=(f,c)=>Ot(e(f),c),r=(f,c)=>e(f)-c):(t=e===Ot||e===sa?e:w_,n=e,r=e);function i(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function s(f,c,l=0,u=f.length){const d=i(f,c,l,u-1);return d>l&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:s,right:a}}function w_(){return 0}function gp(e){return e===null?NaN:+e}function*x_(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const S_=_s(Ot),k_=S_.right;_s(gp).center;const ul=k_;function M_(e){return e.length|0}function A_(e){return!(e>0)}function E_(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function T_(e){return t=>e(...t)}function C_(...e){const t=typeof e[e.length-1]=="function"&&T_(e.pop());e=e.map(E_);const n=e.map(M_),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(A_))return a;for(;;){a.push(i.map((f,c)=>e[c][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function D_(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function mp(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of e)(f=t(f,++s,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function N_(e,t){const n=mp(e,t);return n&&Math.sqrt(n)}function ir(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Tr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,f=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);f&&(n[r++]=f),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Cr extends Map{constructor(t,n=_p){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ic(this,t))}has(t){return super.has(ic(this,t))}set(t,n){return super.set(bp(this,t),n)}delete(t){return super.delete(yp(this,t))}}class vs extends Set{constructor(t,n=_p){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ic(this,t))}add(t){return super.add(bp(this,t))}delete(t){return super.delete(yp(this,t))}}function ic({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function bp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yp({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _p(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ac(e){return e}function dl(e,...t){return hl(e,ac,ac,t)}function zi(e,t,...n){return hl(e,ac,t,n)}function I_(e,t,...n){return hl(e,Array.from,t,n)}function hl(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new Cr,c=r[s++];let l=-1;for(const u of a){const d=c(u,++l,a),h=f.get(d);h?h.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,s));return t(f)}(e,0)}function L_(e,t){return Array.from(t,n=>e[n])}function oc(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const f=Ao(s[i],s[a]);if(f)return f}})):(n=e.map(n),r.sort((i,a)=>Ao(n[i],n[a]))),L_(e,r)}return e.sort(vp(n))}function vp(e=Ot){if(e===Ot)return Ao;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Ao(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function pl(e,t,n){return(t.length!==2?oc(zi(e,t,n),([r,i],[a,s])=>Ot(i,s)||Ot(r,a)):oc(dl(e,n),([r,i],[a,s])=>t(i,s)||Ot(r,a))).map(([r])=>r)}const O_=Math.sqrt(50),F_=Math.sqrt(10),P_=Math.sqrt(2);function Eo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=O_?10:a>=F_?5:a>=P_?2:1;let f,c,l;return i<0?(l=Math.pow(10,-i)/s,f=Math.round(e*l),c=Math.round(t*l),f/l<e&&++f,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*s,f=Math.round(e/l),c=Math.round(t/l),f*l<e&&++f,c*l>t&&--c),c<f&&.5<=n&&n<2?Eo(e,t,n*2):[f,c,l]}function To(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Eo(t,e,n):Eo(e,t,n);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(s<0)for(let l=0;l<f;++l)c[l]=(a-l)/-s;else for(let l=0;l<f;++l)c[l]=(a-l)*s;else if(s<0)for(let l=0;l<f;++l)c[l]=(i+l)/-s;else for(let l=0;l<f;++l)c[l]=(i+l)*s;return c}function sc(e,t,n){return t=+t,e=+e,n=+n,Eo(e,t,n)[2]}function fc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?sc(t,e,n):sc(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $t(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function B_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Mn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function R_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function wp(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Ao:vp(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),p=Math.max(n,Math.floor(t-l*d/c+h)),m=Math.min(r,Math.floor(t+(c-l)*d/c+h));wp(e,t,p,m,i)}const a=e[t];let s=n,f=r;for(Ti(e,n,t),i(e[r],a)>0&&Ti(e,n,r);s<f;){for(Ti(e,s,f),++s,--f;i(e[s],a)<0;)++s;for(;i(e[f],a)>0;)--f}i(e[n],a)===0?Ti(e,n,f):(++f,Ti(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Ti(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xp(e,t=Ot){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Ot(s,i)>0:Ot(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Co(e,t,n){if(e=Float64Array.from(x_(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Mn(e);if(t>=1)return $t(e);var r,i=(r-1)*t,a=Math.floor(i),s=$t(wp(e,a).subarray(0,a+1)),f=Mn(e.subarray(a+1));return s+(f-s)*(i-a)}}function $_(e,t,n=gp){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),f=+n(e[a+1],a+1,e);return s+(f-s)*(i-a)}}function j_(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function cc(e,t){return Co(e,.5,t)}function*q_(e){for(const t of e)yield*t}function Sp(e){return Array.from(q_(e))}function z_(e,t){const n=new Cr;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function U_(e,t=V_){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function V_(e,t){return[e,t]}function lc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Dr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Do(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function H_(e){return e}var of=1,sf=2,uc=3,Va=4,Xu=1e-6;function W_(e){return"translate("+e+",0)"}function Y_(e){return"translate(0,"+e+")"}function X_(e){return t=>+e(t)}function G_(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function K_(){return!this.__axis}function Z_(e,t){var n=[],r=null,i=null,a=6,s=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===of||e===Va?-1:1,u=e===Va||e===sf?"x":"y",d=e===of||e===uc?W_:Y_;function h(p){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):H_),b=Math.max(a,0)+f,v=t.range(),_=+v[0]+c,x=+v[v.length-1]+c,y=(t.bandwidth?G_:X_)(t.copy(),c),w=p.selection?p.selection():p,S=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(m,t).order(),A=M.exit(),D=M.enter().append("g").attr("class","tick"),I=M.select("line"),k=M.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(D),I=I.merge(D.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),k=k.merge(D.append("text").attr("fill","currentColor").attr(u,l*b).attr("dy",e===of?"0em":e===uc?"0.71em":"0.32em")),p!==w&&(S=S.transition(p),M=M.transition(p),I=I.transition(p),k=k.transition(p),A=A.transition(p).attr("opacity",Xu).attr("transform",function(E){return isFinite(E=y(E))?d(E+c):this.getAttribute("transform")}),D.attr("opacity",Xu).attr("transform",function(E){var B=this.parentNode.__axis;return d((B&&isFinite(B=B(E))?B:y(E))+c)})),A.remove(),S.attr("d",e===Va||e===sf?s?"M"+l*s+","+_+"H"+c+"V"+x+"H"+l*s:"M"+c+","+_+"V"+x:s?"M"+_+","+l*s+"V"+c+"H"+x+"V"+l*s:"M"+_+","+c+"H"+x),M.attr("opacity",1).attr("transform",function(E){return d(y(E)+c)}),I.attr(u+"2",l*a),k.attr(u,l*b).text(g),w.filter(K_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===sf?"start":e===Va?"end":"middle"),w.each(function(){this.__axis=y})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(a=s=+p,h):a},h.tickSizeInner=function(p){return arguments.length?(a=+p,h):a},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(f=+p,h):f},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function J_(e){return Z_(uc,e)}function Dt(e){return typeof e=="string"?new Pu([[document.querySelector(e)]],[document.documentElement]):new Pu([[e]],a2)}function Q_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function dc(e,t){if(e=Q_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const hc={capture:!0,passive:!1};function pc(e){e.preventDefault(),e.stopImmediatePropagation()}function ev(e){var t=e.document.documentElement,n=Dt(e).on("dragstart.drag",pc,hc);"onselectstart"in t?n.on("selectstart.drag",pc,hc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tv(e,t){var n=e.document.documentElement,r=Dt(e).on("dragstart.drag",null);t&&(r.on("click.drag",pc,hc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const kp=Math.PI/180,Mp=180/Math.PI,No=18,Ap=.96422,Ep=1,Tp=.82521,Cp=4/29,ei=6/29,Dp=3*ei*ei,nv=ei*ei*ei;function Np(e){if(e instanceof Sn)return new Sn(e.l,e.a,e.b,e.opacity);if(e instanceof $n)return Ip(e);e instanceof ys||(e=sp(e));var t=uf(e.r),n=uf(e.g),r=uf(e.b),i=ff((.2225045*t+.7168786*n+.0606169*r)/Ep),a,s;return t===n&&n===r?a=s=i:(a=ff((.4360747*t+.3850649*n+.1430804*r)/Ap),s=ff((.0139322*t+.0971045*n+.7141733*r)/Tp)),new Sn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function gc(e,t,n,r){return arguments.length===1?Np(e):new Sn(e,t,n,r??1)}function Sn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}al(Sn,gc,ol(sl,{brighter(e){return new Sn(this.l+No*(e??1),this.a,this.b,this.opacity)},darker(e){return new Sn(this.l-No*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Ap*cf(t),e=Ep*cf(e),n=Tp*cf(n),new ys(lf(3.1338561*t-1.6168667*e-.4906146*n),lf(-.9787684*t+1.9161415*e+.033454*n),lf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ff(e){return e>nv?Math.pow(e,1/3):e/Dp+Cp}function cf(e){return e>ei?e*e*e:Dp*(e-Cp)}function lf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function uf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function rv(e){if(e instanceof $n)return new $n(e.h,e.c,e.l,e.opacity);if(e instanceof Sn||(e=Np(e)),e.a===0&&e.b===0)return new $n(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Mp;return new $n(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Io(e,t,n,r){return arguments.length===1?rv(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Ip(e){if(isNaN(e.h))return new Sn(e.l,0,0,e.opacity);var t=e.h*kp;return new Sn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}al($n,Io,ol(sl,{brighter(e){return new $n(this.h,this.c,this.l+No*(e??1),this.opacity)},darker(e){return new $n(this.h,this.c,this.l-No*(e??1),this.opacity)},rgb(){return Ip(this).rgb()}}));var Lp=-.14861,gl=1.78277,ml=-.29227,ws=-.90649,Gi=1.97294,Gu=Gi*ws,Ku=Gi*gl,Zu=gl*ml-ws*Lp;function iv(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);e instanceof ys||(e=sp(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Zu*r+Gu*t-Ku*n)/(Zu+Gu-Ku),a=r-i,s=(Gi*(n-i)-ml*a)/ws,f=Math.sqrt(s*s+a*a)/(Gi*i*(1-i)),c=f?Math.atan2(s,a)*Mp-120:NaN;return new Sr(c<0?c+360:c,f,i,e.opacity)}function An(e,t,n,r){return arguments.length===1?iv(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}al(Sr,An,ol(sl,{brighter(e){return e=e==null?Bu:Math.pow(Bu,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ru:Math.pow(Ru,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*kp,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ys(255*(t+n*(Lp*r+gl*i)),255*(t+n*(ml*r+ws*i)),255*(t+n*(Gi*r)),this.opacity)}}));function av(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function ov(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sv(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=_i(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function fv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cv(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_i(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function _i(e,t){var n=typeof t,r;return t==null||n==="boolean"?o2(t):(n==="number"?fr:n==="string"?(r=$u(t))?(t=r,Yi):s2:t instanceof $u?Yi:t instanceof Date?fv:ov(t)?av:Array.isArray(t)?sv:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cv:fr)(e,t)}function bl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lv(e){return function(t,n){var r=e((t=ju(t)).h,(n=ju(n)).h),i=It(t.s,n.s),a=It(t.l,n.l),s=It(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const uv=lv(fl);function dv(e,t){var n=It((e=gc(e)).l,(t=gc(t)).l),r=It(e.a,t.a),i=It(e.b,t.b),a=It(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function hv(e){return function(t,n){var r=e((t=Io(t)).h,(n=Io(n)).h),i=It(t.c,n.c),a=It(t.l,n.l),s=It(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const pv=hv(fl);function Op(e){return function t(n){n=+n;function r(i,a){var s=e((i=An(i)).h,(a=An(a)).h),f=It(i.s,a.s),c=It(i.l,a.l),l=It(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}Op(fl);var yl=Op(It);function xs(e,t){t===void 0&&(t=e,e=_i);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function ln(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const df=e=>()=>e;function gv(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function mv(e){e.stopImmediatePropagation()}function hf(e){e.preventDefault(),e.stopImmediatePropagation()}var Ju={name:"drag"},pf={name:"space"},zr={name:"handle"},Ur={name:"center"};const{abs:Qu,max:ht,min:pt}=Math;function ed(e){return[+e[0],+e[1]]}function td(e){return[ed(e[0]),ed(e[1])]}var mo={name:"x",handles:["w","e"].map(Lo),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},gf={name:"y",handles:["n","s"].map(Lo),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},In={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},nd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},rd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},bv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yv={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Lo(e){return{type:e}}function _v(e){return!e.ctrlKey&&!e.button}function vv(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function wv(){return navigator.maxTouchPoints||"ontouchstart"in this}function mf(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function xv(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Sv(){return kv(mo)}function kv(e){var t=vv,n=_v,r=wv,i=!0,a=f2("start","brush","end"),s=6,f;function c(b){var v=b.property("__brush",g).selectAll(".overlay").data([Lo("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",In.overlay).merge(v).each(function(){var x=mf(this).extent;Dt(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),b.selectAll(".selection").data([Lo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",In.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(e.handles,function(x){return x.type});_.exit().remove(),_.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return In[x.type]}),b.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,v,_){b.tween?b.on("start.brush",function(x){u(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){u(this,arguments).end(x)}).tween("brush",function(){var x=this,y=x.__brush,w=u(x,arguments),S=y.selection,M=e.input(typeof v=="function"?v.apply(this,arguments):v,y.extent),A=_i(S,M);function D(I){y.selection=I===1&&M===null?null:A(I),l.call(x),w.brush()}return S!==null&&M!==null?D:D(1)}):b.each(function(){var x=this,y=arguments,w=x.__brush,S=e.input(typeof v=="function"?v.apply(x,y):v,w.extent),M=u(x,y).beforestart();qu(x),w.selection=S===null?null:S,l.call(x),M.start(_).brush(_).end(_)})},c.clear=function(b,v){c.move(b,null,v)};function l(){var b=Dt(this),v=mf(this).selection;v?(b.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?v[1][1]-v[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(b,v,_){var x=b.__brush.emitter;return x&&(!_||!x.clean)?x:new d(b,v,_)}function d(b,v,_){this.that=b,this.args=v,this.state=b.__brush,this.active=0,this.clean=_}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,v){return this.starting?(this.starting=!1,this.emit("start",b,v)):this.emit("brush",b),this},brush:function(b,v){return this.emit("brush",b,v),this},end:function(b,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,v)),this},emit:function(b,v,_){var x=Dt(this.that).datum();a.call(b,this.that,new gv(b,{sourceEvent:v,target:c,selection:e.output(this.state.selection),mode:_,dispatch:a}),x)}};function h(b){if(f&&!b.touches||!n.apply(this,arguments))return;var v=this,_=b.target.__data__.type,x=(i&&b.metaKey?_="overlay":_)==="selection"?Ju:i&&b.altKey?Ur:zr,y=e===gf?null:bv[_],w=e===mo?null:yv[_],S=mf(v),M=S.extent,A=S.selection,D=M[0][0],I,k,E=M[0][1],B,F,T=M[1][0],z,Q,re=M[1][1],te,W,V=0,J=0,ee,$=y&&w&&i&&b.shiftKey,ne,ue,Y=Array.from(b.touches||[b],H=>{const le=H.identifier;return H=dc(H,v),H.point0=H.slice(),H.identifier=le,H});qu(v);var fe=u(v,arguments,!0).beforestart();if(_==="overlay"){A&&(ee=!0);const H=[Y[0],Y[1]||Y[0]];S.selection=A=[[I=e===gf?D:pt(H[0][0],H[1][0]),B=e===mo?E:pt(H[0][1],H[1][1])],[z=e===gf?T:ht(H[0][0],H[1][0]),te=e===mo?re:ht(H[0][1],H[1][1])]],Y.length>1&&ce(b)}else I=A[0][0],B=A[0][1],z=A[1][0],te=A[1][1];k=I,F=B,Q=z,W=te;var C=Dt(v).attr("pointer-events","none"),U=C.selectAll(".overlay").attr("cursor",In[_]);if(b.touches)fe.moved=j,fe.ended=se;else{var X=Dt(b.view).on("mousemove.brush",j,!0).on("mouseup.brush",se,!0);i&&X.on("keydown.brush",de,!0).on("keyup.brush",me,!0),ev(b.view)}l.call(v),fe.start(b,x.name);function j(H){for(const le of H.changedTouches||[H])for(const _e of Y)_e.identifier===le.identifier&&(_e.cur=dc(le,v));if($&&!ne&&!ue&&Y.length===1){const le=Y[0];Qu(le.cur[0]-le[0])>Qu(le.cur[1]-le[1])?ue=!0:ne=!0}for(const le of Y)le.cur&&(le[0]=le.cur[0],le[1]=le.cur[1]);ee=!0,hf(H),ce(H)}function ce(H){const le=Y[0],_e=le.point0;var Ne;switch(V=le[0]-_e[0],J=le[1]-_e[1],x){case pf:case Ju:{y&&(V=ht(D-I,pt(T-z,V)),k=I+V,Q=z+V),w&&(J=ht(E-B,pt(re-te,J)),F=B+J,W=te+J);break}case zr:{Y[1]?(y&&(k=ht(D,pt(T,Y[0][0])),Q=ht(D,pt(T,Y[1][0])),y=1),w&&(F=ht(E,pt(re,Y[0][1])),W=ht(E,pt(re,Y[1][1])),w=1)):(y<0?(V=ht(D-I,pt(T-I,V)),k=I+V,Q=z):y>0&&(V=ht(D-z,pt(T-z,V)),k=I,Q=z+V),w<0?(J=ht(E-B,pt(re-B,J)),F=B+J,W=te):w>0&&(J=ht(E-te,pt(re-te,J)),F=B,W=te+J));break}case Ur:{y&&(k=ht(D,pt(T,I-V*y)),Q=ht(D,pt(T,z+V*y))),w&&(F=ht(E,pt(re,B-J*w)),W=ht(E,pt(re,te+J*w)));break}}Q<k&&(y*=-1,Ne=I,I=z,z=Ne,Ne=k,k=Q,Q=Ne,_ in nd&&U.attr("cursor",In[_=nd[_]])),W<F&&(w*=-1,Ne=B,B=te,te=Ne,Ne=F,F=W,W=Ne,_ in rd&&U.attr("cursor",In[_=rd[_]])),S.selection&&(A=S.selection),ne&&(k=A[0][0],Q=A[1][0]),ue&&(F=A[0][1],W=A[1][1]),(A[0][0]!==k||A[0][1]!==F||A[1][0]!==Q||A[1][1]!==W)&&(S.selection=[[k,F],[Q,W]],l.call(v),fe.brush(H,x.name))}function se(H){if(mv(H),H.touches){if(H.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else tv(H.view,ee),X.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),U.attr("cursor",In.overlay),S.selection&&(A=S.selection),xv(A)&&(S.selection=null,l.call(v)),fe.end(H,x.name)}function de(H){switch(H.keyCode){case 16:{$=y&&w;break}case 18:{x===zr&&(y&&(z=Q-V*y,I=k+V*y),w&&(te=W-J*w,B=F+J*w),x=Ur,ce(H));break}case 32:{(x===zr||x===Ur)&&(y<0?z=Q-V:y>0&&(I=k-V),w<0?te=W-J:w>0&&(B=F-J),x=pf,U.attr("cursor",In.selection),ce(H));break}default:return}hf(H)}function me(H){switch(H.keyCode){case 16:{$&&(ne=ue=$=!1,ce(H));break}case 18:{x===Ur&&(y<0?z=Q:y>0&&(I=k),w<0?te=W:w>0&&(B=F),x=zr,ce(H));break}case 32:{x===pf&&(H.altKey?(y&&(z=Q-V*y,I=k+V*y),w&&(te=W-J*w,B=F+J*w),x=Ur):(y<0?z=Q:y>0&&(I=k),w<0?te=W:w>0&&(B=F),x=zr),U.attr("cursor",In[_]),ce(H));break}default:return}hf(H)}}function p(b){u(this,arguments).moved(b)}function m(b){u(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=td(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:df(td(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:df(!!b),c):n},c.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:df(!!b),c):r},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(i=!!b,c):i},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}const mc=Math.PI,bc=2*mc,_r=1e-6,Mv=bc-_r;function Fp(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Av(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fp;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Pp{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Fp:Av(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,c=r-t,l=i-n,u=s-t,d=f-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>_r)if(!(Math.abs(d*c-l*u)>_r)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-f,g=c*c+l*l,b=p*p+m*m,v=Math.sqrt(g),_=Math.sqrt(h),x=a*Math.tan((mc-Math.acos((g+h-b)/(2*v*_)))/2),y=x/_,w=x/v;Math.abs(y-1)>_r&&this._append`L${t+y*u},${n+y*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+w*c},${this._y1=n+w*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),l=t+f,u=n+c,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>_r||Math.abs(this._y1-u)>_r)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%bc+bc),h>Mv?this._append`A${r},${r},0,1,${d},${t-f},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>_r&&this._append`A${r},${r},0,${+(h>=mc)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qn(e=3){return new Pp(+e)}function Ev(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Oo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ai(e){return e=Oo(Math.abs(e)),e?e[1]:NaN}function Tv(e,t){return function(n,r){for(var i=n.length,a=[],s=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Cv(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Dv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(e){if(!(t=Dv.exec(e)))throw new Error("invalid format: "+e);var t;return new _l({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ki.prototype=_l.prototype;function _l(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nv(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Bp;function Iv(e,t){var n=Oo(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Bp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Oo(e,Math.max(0,t+a-1))[0]}function id(e,t){var n=Oo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ad={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ev,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>id(e*100,t),r:id,s:Iv,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function od(e){return e}var sd=Array.prototype.map,fd=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lv(e){var t=e.grouping===void 0||e.thousands===void 0?od:Tv(sd.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?od:Cv(sd.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Ki(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,v=d.width,_=d.comma,x=d.precision,y=d.trim,w=d.type;w==="n"?(_=!0,w="g"):ad[w]||(x===void 0&&(x=12),y=!0,w="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var S=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M=g==="$"?r:/[%p]/.test(w)?s:"",A=ad[w],D=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(k){var E=S,B=M,F,T,z;if(w==="c")B=A(k)+B,k="";else{k=+k;var Q=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),x),y&&(k=Nv(k)),Q&&+k==0&&m!=="+"&&(Q=!1),E=(Q?m==="("?m:f:m==="-"||m==="("?"":m)+E,B=(w==="s"?fd[8+Bp/3]:"")+B+(Q&&m==="("?")":""),D){for(F=-1,T=k.length;++F<T;)if(z=k.charCodeAt(F),48>z||z>57){B=(z===46?i+k.slice(F+1):k.slice(F))+B,k=k.slice(0,F);break}}}_&&!b&&(k=t(k,1/0));var re=E.length+k.length+B.length,te=re<v?new Array(v-re+1).join(h):"";switch(_&&b&&(k=t(te+k,te.length?v-B.length:1/0),te=""),p){case"<":k=E+k+B+te;break;case"=":k=E+te+k+B;break;case"^":k=te.slice(0,re=te.length>>1)+E+k+B+te.slice(re);break;default:k=te+E+k+B;break}return a(k)}return I.toString=function(){return d+""},I}function u(d,h){var p=l((d=Ki(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(ai(h)/3)))*3,g=Math.pow(10,-m),b=fd[8+m/3];return function(v){return p(g*v)+b}}return{format:l,formatPrefix:u}}var Ha,vi,Rp;Ov({thousands:",",grouping:[3],currency:["$",""]});function Ov(e){return Ha=Lv(e),vi=Ha.format,Rp=Ha.formatPrefix,Ha}function Fv(e){return Math.max(0,-ai(Math.abs(e)))}function Pv(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ai(t)/3)))*3-ai(Math.abs(e)))}function Bv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ai(t)-ai(e))+1}var xe=1e-6,$p=1e-12,Ae=Math.PI,Ye=Ae/2,cd=Ae/4,jt=Ae*2,Mt=180/Ae,He=Ae/180,Oe=Math.abs,wi=Math.atan,Un=Math.atan2,Me=Math.cos,jp=Math.exp,Fo=Math.log,bf=Math.pow,ve=Math.sin,Yt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ft=Math.sqrt,vl=Math.tan;function qp(e){return e>1?0:e<-1?Ae:Math.acos(e)}function Jt(e){return e>1?Ye:e<-1?-Ye:Math.asin(e)}function Xt(){}function Po(e,t){e&&ud.hasOwnProperty(e.type)&&ud[e.type](e,t)}var ld={Feature:function(e,t){Po(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Po(n[r].geometry,t)}},ud={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){yc(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)yc(n[r],t,0)},Polygon:function(e,t){dd(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)dd(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Po(n[r],t)}};function yc(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function dd(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)yc(e[n],t,1);t.polygonEnd()}function vr(e,t){e&&ld.hasOwnProperty(e.type)?ld[e.type](e,t):Po(e,t)}function _c(e){return[Un(e[1],e[0]),Jt(e[2])]}function oi(e){var t=e[0],n=e[1],r=Me(n);return[r*Me(t),r*ve(t),ve(n)]}function Wa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function yf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ya(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function vc(e){var t=Ft(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wc(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function xc(e,t){return Oe(e)>Ae&&(e-=Math.round(e/jt)*jt),[e,t]}xc.invert=xc;function zp(e,t,n){return(e%=jt)?t||n?wc(pd(e),gd(t,n)):pd(e):t||n?gd(t,n):xc}function hd(e){return function(t,n){return t+=e,Oe(t)>Ae&&(t-=Math.round(t/jt)*jt),[t,n]}}function pd(e){var t=hd(e);return t.invert=hd(-e),t}function gd(e,t){var n=Me(e),r=ve(e),i=Me(t),a=ve(t);function s(f,c){var l=Me(c),u=Me(f)*l,d=ve(f)*l,h=ve(c),p=h*n+u*r;return[Un(d*i-p*a,u*n-h*r),Jt(p*i+d*a)]}return s.invert=function(f,c){var l=Me(c),u=Me(f)*l,d=ve(f)*l,h=ve(c),p=h*i-d*a;return[Un(d*i+h*a,u*n+p*r),Jt(p*n-u*r)]},s}function Rv(e){e=zp(e[0]*He,e[1]*He,e.length>2?e[2]*He:0);function t(n){return n=e(n[0]*He,n[1]*He),n[0]*=Mt,n[1]*=Mt,n}return t.invert=function(n){return n=e.invert(n[0]*He,n[1]*He),n[0]*=Mt,n[1]*=Mt,n},t}function $v(e,t,n,r,i,a){if(n){var s=Me(t),f=ve(t),c=r*n;i==null?(i=t+r*jt,a=t-c/2):(i=md(s,i),a=md(s,a),(r>0?i<a:i>a)&&(i+=r*jt));for(var l,u=i;r>0?u>a:u<a;u-=c)l=_c([s,-f*Me(u),-f*ve(u)]),e.point(l[0],l[1])}}function md(e,t){t=oi(t),t[0]-=e,vc(t);var n=qp(-t[1]);return((-t[2]<0?-n:n)+jt-xe)%jt}function Up(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Xt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function bo(e,t){return Oe(e[0]-t[0])<xe&&Oe(e[1]-t[1])<xe}function Xa(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Vp(e,t,n,r,i){var a=[],s=[],f,c;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,b=m[0],v=m[g],_;if(bo(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}v[0]+=2*xe}a.push(_=new Xa(b,m,null,!0)),s.push(_.o=new Xa(b,null,_,!1)),a.push(_=new Xa(v,m,null,!1)),s.push(_.o=new Xa(v,null,_,!0))}}),!!a.length){for(s.sort(t),bd(a),bd(s),f=0,c=s.length;f<c;++f)s[f].e=n=!n;for(var l=a[0],u,d;;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function bd(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function _f(e){return Oe(e[0])<=Ae?e[0]:Yt(e[0])*((Oe(e[0])+Ae)%jt-Ae)}function jv(e,t){var n=_f(t),r=t[1],i=ve(r),a=[ve(n),-Me(n),0],s=0,f=0,c=new Tr;i===1?r=Ye+xe:i===-1&&(r=-Ye-xe);for(var l=0,u=e.length;l<u;++l)if(h=(d=e[l]).length)for(var d,h,p=d[h-1],m=_f(p),g=p[1]/2+cd,b=ve(g),v=Me(g),_=0;_<h;++_,m=y,b=S,v=M,p=x){var x=d[_],y=_f(x),w=x[1]/2+cd,S=ve(w),M=Me(w),A=y-m,D=A>=0?1:-1,I=D*A,k=I>Ae,E=b*S;if(c.add(Un(E*D*ve(I),v*M+E*Me(I))),s+=k?A+D*jt:A,k^m>=n^y>=n){var B=Bo(oi(p),oi(x));vc(B);var F=Bo(a,B);vc(F);var T=(k^A>=0?-1:1)*Jt(F[2]);(r>T||r===T&&(B[0]||B[1]))&&(f+=k^A>=0?1:-1)}}return(s<-xe||s<xe&&c<-$p)^f&1}function Hp(e,t,n,r){return function(i){var a=t(i),s=Up(),f=t(s),c=!1,l,u,d,h={point:p,lineStart:g,lineEnd:b,polygonStart:function(){h.point=v,h.lineStart=_,h.lineEnd=x,u=[],l=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=b,u=Sp(u);var y=jv(l,r);u.length?(c||(i.polygonStart(),c=!0),Vp(u,zv,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,w){e(y,w)&&i.point(y,w)}function m(y,w){a.point(y,w)}function g(){h.point=m,a.lineStart()}function b(){h.point=p,a.lineEnd()}function v(y,w){d.push([y,w]),f.point(y,w)}function _(){f.lineStart(),d=[]}function x(){v(d[0][0],d[0][1]),f.lineEnd();var y=f.clean(),w=s.result(),S,M=w.length,A,D,I;if(d.pop(),l.push(d),d=null,!!M){if(y&1){if(D=w[0],(A=D.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),S=0;S<A;++S)i.point((I=D[S])[0],I[1]);i.lineEnd()}return}M>1&&y&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(qv))}}return h}}function qv(e){return e.length>1}function zv(e,t){return((e=e.x)[0]<0?e[1]-Ye-xe:Ye-e[1])-((t=t.x)[0]<0?t[1]-Ye-xe:Ye-t[1])}const yd=Hp(function(){return!0},Uv,Hv,[-Ae,-Ye]);function Uv(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var f=a>0?Ae:-Ae,c=Oe(a-t);Oe(c-Ae)<xe?(e.point(t,n=(n+s)/2>0?Ye:-Ye),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(a,n),i=0):r!==f&&c>=Ae&&(Oe(t-r)<xe&&(t-=r*xe),Oe(a-f)<xe&&(a-=f*xe),n=Vv(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=a,n=s),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Vv(e,t,n,r){var i,a,s=ve(e-n);return Oe(s)>xe?wi((ve(t)*(a=Me(r))*ve(n)-ve(r)*(i=Me(t))*ve(e))/(i*a*s)):(t+r)/2}function Hv(e,t,n,r){var i;if(e==null)i=n*Ye,r.point(-Ae,i),r.point(0,i),r.point(Ae,i),r.point(Ae,0),r.point(Ae,-i),r.point(0,-i),r.point(-Ae,-i),r.point(-Ae,0),r.point(-Ae,i);else if(Oe(e[0]-t[0])>xe){var a=e[0]<t[0]?Ae:-Ae;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Wv(e){var t=Me(e),n=2*He,r=t>0,i=Oe(t)>xe;function a(u,d,h,p){$v(p,e,n,h,u,d)}function s(u,d){return Me(u)*Me(d)>t}function f(u){var d,h,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(b,v){var _=[b,v],x,y=s(b,v),w=r?y?0:l(b,v):y?l(b+(b<0?Ae:-Ae),v):0;if(!d&&(m=p=y)&&u.lineStart(),y!==p&&(x=c(d,_),(!x||bo(d,x)||bo(_,x))&&(_[2]=1)),y!==p)g=0,y?(u.lineStart(),x=c(_,d),u.point(x[0],x[1])):(x=c(d,_),u.point(x[0],x[1],2),u.lineEnd()),d=x;else if(i&&d&&r^y){var S;!(w&h)&&(S=c(_,d,!0))&&(g=0,r?(u.lineStart(),u.point(S[0][0],S[0][1]),u.point(S[1][0],S[1][1]),u.lineEnd()):(u.point(S[1][0],S[1][1]),u.lineEnd(),u.lineStart(),u.point(S[0][0],S[0][1],3)))}y&&(!d||!bo(d,_))&&u.point(_[0],_[1]),d=_,p=y,h=w},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function c(u,d,h){var p=oi(u),m=oi(d),g=[1,0,0],b=Bo(p,m),v=Wa(b,b),_=b[0],x=v-_*_;if(!x)return!h&&u;var y=t*v/x,w=-t*_/x,S=Bo(g,b),M=Ya(g,y),A=Ya(b,w);yf(M,A);var D=S,I=Wa(M,D),k=Wa(D,D),E=I*I-k*(Wa(M,M)-1);if(!(E<0)){var B=Ft(E),F=Ya(D,(-I-B)/k);if(yf(F,M),F=_c(F),!h)return F;var T=u[0],z=d[0],Q=u[1],re=d[1],te;z<T&&(te=T,T=z,z=te);var W=z-T,V=Oe(W-Ae)<xe,J=V||W<xe;if(!V&&re<Q&&(te=Q,Q=re,re=te),J?V?Q+re>0^F[1]<(Oe(F[0]-T)<xe?Q:re):Q<=F[1]&&F[1]<=re:W>Ae^(T<=F[0]&&F[0]<=z)){var ee=Ya(D,(-I+B)/k);return yf(ee,M),[F,_c(ee)]}}}function l(u,d){var h=r?e:Ae-e,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return Hp(s,f,a,r?[0,-e]:[-Ae,e-Ae])}function Yv(e,t,n,r,i,a){var s=e[0],f=e[1],c=t[0],l=t[1],u=0,d=1,h=c-s,p=l-f,m;if(m=n-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=a-f,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*h,e[1]=f+u*p),d<1&&(t[0]=s+d*h,t[1]=f+d*p),!0}}}}}var Fi=1e9,Ga=-Fi;function Wp(e,t,n,r){function i(l,u){return e<=l&&l<=n&&t<=u&&u<=r}function a(l,u,d,h){var p=0,m=0;if(l==null||(p=s(l,d))!==(m=s(u,d))||c(l,u)<0^d>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==m);else h.point(u[0],u[1])}function s(l,u){return Oe(l[0]-e)<xe?u>0?0:3:Oe(l[0]-n)<xe?u>0?2:1:Oe(l[1]-t)<xe?u>0?1:0:u>0?3:2}function f(l,u){return c(l.x,u.x)}function c(l,u){var d=s(l,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-l[1]:d===1?l[0]-u[0]:d===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,d=Up(),h,p,m,g,b,v,_,x,y,w,S,M={point:A,lineStart:E,lineEnd:B,polygonStart:I,polygonEnd:k};function A(T,z){i(T,z)&&u.point(T,z)}function D(){for(var T=0,z=0,Q=p.length;z<Q;++z)for(var re=p[z],te=1,W=re.length,V=re[0],J,ee,$=V[0],ne=V[1];te<W;++te)J=$,ee=ne,V=re[te],$=V[0],ne=V[1],ee<=r?ne>r&&($-J)*(r-ee)>(ne-ee)*(e-J)&&++T:ne<=r&&($-J)*(r-ee)<(ne-ee)*(e-J)&&--T;return T}function I(){u=d,h=[],p=[],S=!0}function k(){var T=D(),z=S&&T,Q=(h=Sp(h)).length;(z||Q)&&(l.polygonStart(),z&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),Q&&Vp(h,f,T,a,l),l.polygonEnd()),u=l,h=p=m=null}function E(){M.point=F,p&&p.push(m=[]),w=!0,y=!1,_=x=NaN}function B(){h&&(F(g,b),v&&y&&d.rejoin(),h.push(d.result())),M.point=A,y&&u.lineEnd()}function F(T,z){var Q=i(T,z);if(p&&m.push([T,z]),w)g=T,b=z,v=Q,w=!1,Q&&(u.lineStart(),u.point(T,z));else if(Q&&y)u.point(T,z);else{var re=[_=Math.max(Ga,Math.min(Fi,_)),x=Math.max(Ga,Math.min(Fi,x))],te=[T=Math.max(Ga,Math.min(Fi,T)),z=Math.max(Ga,Math.min(Fi,z))];Yv(re,te,e,t,n,r)?(y||(u.lineStart(),u.point(re[0],re[1])),u.point(te[0],te[1]),Q||u.lineEnd(),S=!1):Q&&(u.lineStart(),u.point(T,z),S=!1)}_=T,x=z,y=Q}return M}}const Sc=e=>e;var vf=new Tr,kc=new Tr,Yp,Xp,Mc,Ac,Zn={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){Zn.lineStart=Xv,Zn.lineEnd=Kv},polygonEnd:function(){Zn.lineStart=Zn.lineEnd=Zn.point=Xt,vf.add(Oe(kc)),kc=new Tr},result:function(){var e=vf/2;return vf=new Tr,e}};function Xv(){Zn.point=Gv}function Gv(e,t){Zn.point=Gp,Yp=Mc=e,Xp=Ac=t}function Gp(e,t){kc.add(Ac*e-Mc*t),Mc=e,Ac=t}function Kv(){Gp(Yp,Xp)}const _d=Zn;var si=1/0,Ro=si,Zi=-si,$o=Zi,Zv={point:Jv,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var e=[[si,Ro],[Zi,$o]];return Zi=$o=-(Ro=si=1/0),e}};function Jv(e,t){e<si&&(si=e),e>Zi&&(Zi=e),t<Ro&&(Ro=t),t>$o&&($o=t)}const jo=Zv;var Ec=0,Tc=0,Pi=0,qo=0,zo=0,Kr=0,Cc=0,Dc=0,Bi=0,Kp,Zp,_n,vn,sn={point:Nr,lineStart:vd,lineEnd:wd,polygonStart:function(){sn.lineStart=tw,sn.lineEnd=nw},polygonEnd:function(){sn.point=Nr,sn.lineStart=vd,sn.lineEnd=wd},result:function(){var e=Bi?[Cc/Bi,Dc/Bi]:Kr?[qo/Kr,zo/Kr]:Pi?[Ec/Pi,Tc/Pi]:[NaN,NaN];return Ec=Tc=Pi=qo=zo=Kr=Cc=Dc=Bi=0,e}};function Nr(e,t){Ec+=e,Tc+=t,++Pi}function vd(){sn.point=Qv}function Qv(e,t){sn.point=ew,Nr(_n=e,vn=t)}function ew(e,t){var n=e-_n,r=t-vn,i=Ft(n*n+r*r);qo+=i*(_n+e)/2,zo+=i*(vn+t)/2,Kr+=i,Nr(_n=e,vn=t)}function wd(){sn.point=Nr}function tw(){sn.point=rw}function nw(){Jp(Kp,Zp)}function rw(e,t){sn.point=Jp,Nr(Kp=_n=e,Zp=vn=t)}function Jp(e,t){var n=e-_n,r=t-vn,i=Ft(n*n+r*r);qo+=i*(_n+e)/2,zo+=i*(vn+t)/2,Kr+=i,i=vn*e-_n*t,Cc+=i*(_n+e),Dc+=i*(vn+t),Bi+=i*3,Nr(_n=e,vn=t)}const xd=sn;function Qp(e){this._context=e}Qp.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,jt);break}}},result:Xt};var Nc=new Tr,wf,e1,t1,Ri,$i,Uo={point:Xt,lineStart:function(){Uo.point=iw},lineEnd:function(){wf&&n1(e1,t1),Uo.point=Xt},polygonStart:function(){wf=!0},polygonEnd:function(){wf=null},result:function(){var e=+Nc;return Nc=new Tr,e}};function iw(e,t){Uo.point=n1,e1=Ri=e,t1=$i=t}function n1(e,t){Ri-=e,$i-=t,Nc.add(Ft(Ri*Ri+$i*$i)),Ri=e,$i=t}const Sd=Uo;let kd,Vo,Md,Ad;class Ed{constructor(t){this._append=t==null?r1:aw(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Md||this._append!==Vo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Md=r,Vo=this._append,Ad=this._,this._=i}this._+=Ad;break}}}result(){const t=this._;return this._="",t.length?t:null}}function r1(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aw(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return r1;if(t!==kd){const n=10**t;kd=t,Vo=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Vo}function fa(e,t){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),vr(f,i(a))),a.result()}return s.area=function(f){return vr(f,i(_d)),_d.result()},s.measure=function(f){return vr(f,i(Sd)),Sd.result()},s.bounds=function(f){return vr(f,i(jo)),jo.result()},s.centroid=function(f){return vr(f,i(xd)),xd.result()},s.projection=function(f){return arguments.length?(i=f==null?(e=null,Sc):(e=f).stream,s):e},s.context=function(f){return arguments.length?(a=f==null?(t=null,new Ed(n)):new Qp(t=f),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return t===null&&(a=new Ed(n)),s},s.projection(e).digits(n).context(t)}function Ho(e){return{stream:Ss(e)}}function Ss(e){return function(t){var n=new Ic;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ic(){}Ic.prototype={constructor:Ic,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function wl(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),vr(n,e.stream(jo)),t(jo.result()),r!=null&&e.clipExtent(r),e}function xl(e,t,n){return wl(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([f,c])},n)}function i1(e,t,n){return xl(e,[[0,0],t],n)}function a1(e,t,n){return wl(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];e.scale(150*a).translate([s,f])},n)}function o1(e,t,n){return wl(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}var Td=16,ow=Me(30*He);function Cd(e,t){return+t?fw(e,t):sw(e)}function sw(e){return Ss({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function fw(e,t){function n(r,i,a,s,f,c,l,u,d,h,p,m,g,b){var v=l-r,_=u-i,x=v*v+_*_;if(x>4*t&&g--){var y=s+h,w=f+p,S=c+m,M=Ft(y*y+w*w+S*S),A=Jt(S/=M),D=Oe(Oe(S)-1)<xe||Oe(a-d)<xe?(a+d)/2:Un(w,y),I=e(D,A),k=I[0],E=I[1],B=k-r,F=E-i,T=_*B-v*F;(T*T/x>t||Oe((v*B+_*F)/x-.5)>.3||s*h+f*p+c*m<ow)&&(n(r,i,a,s,f,c,k,E,D,y/=M,w/=M,S,g,b),b.point(k,E),n(k,E,D,y,w,S,l,u,d,h,p,m,g,b))}}return function(r){var i,a,s,f,c,l,u,d,h,p,m,g,b={point:v,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),b.lineStart=w},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function v(A,D){A=e(A,D),r.point(A[0],A[1])}function _(){d=NaN,b.point=x,r.lineStart()}function x(A,D){var I=oi([A,D]),k=e(A,D);n(d,h,u,p,m,g,d=k[0],h=k[1],u=A,p=I[0],m=I[1],g=I[2],Td,r),r.point(d,h)}function y(){b.point=v,r.lineEnd()}function w(){_(),b.point=S,b.lineEnd=M}function S(A,D){x(i=A,D),a=d,s=h,f=p,c=m,l=g,b.point=x}function M(){n(d,h,u,p,m,g,a,s,i,f,c,l,Td,r),b.lineEnd=y,y()}return b}}var cw=Ss({point:function(e,t){this.stream.point(e*He,t*He)}});function lw(e){return Ss({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function uw(e,t,n,r,i){function a(s,f){return s*=r,f*=i,[t+e*s,n-e*f]}return a.invert=function(s,f){return[(s-t)/e*r,(n-f)/e*i]},a}function Dd(e,t,n,r,i,a){if(!a)return uw(e,t,n,r,i);var s=Me(a),f=ve(a),c=s*e,l=f*e,u=s/e,d=f/e,h=(f*n-s*t)/e,p=(f*t+s*n)/e;function m(g,b){return g*=r,b*=i,[c*g-l*b+t,n-l*g-c*b]}return m.invert=function(g,b){return[r*(u*g-d*b+h),i*(p-d*g-u*b)]},m}function gr(e){return s1(function(){return e})()}function s1(e){var t,n=150,r=480,i=250,a=0,s=0,f=0,c=0,l=0,u,d=0,h=1,p=1,m=null,g=yd,b=null,v,_,x,y=Sc,w=.5,S,M,A,D,I;function k(T){return A(T[0]*He,T[1]*He)}function E(T){return T=A.invert(T[0],T[1]),T&&[T[0]*Mt,T[1]*Mt]}k.stream=function(T){return D&&I===T?D:D=cw(lw(u)(g(S(y(I=T)))))},k.preclip=function(T){return arguments.length?(g=T,m=void 0,F()):g},k.postclip=function(T){return arguments.length?(y=T,b=v=_=x=null,F()):y},k.clipAngle=function(T){return arguments.length?(g=+T?Wv(m=T*He):(m=null,yd),F()):m*Mt},k.clipExtent=function(T){return arguments.length?(y=T==null?(b=v=_=x=null,Sc):Wp(b=+T[0][0],v=+T[0][1],_=+T[1][0],x=+T[1][1]),F()):b==null?null:[[b,v],[_,x]]},k.scale=function(T){return arguments.length?(n=+T,B()):n},k.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],B()):[r,i]},k.center=function(T){return arguments.length?(a=T[0]%360*He,s=T[1]%360*He,B()):[a*Mt,s*Mt]},k.rotate=function(T){return arguments.length?(f=T[0]%360*He,c=T[1]%360*He,l=T.length>2?T[2]%360*He:0,B()):[f*Mt,c*Mt,l*Mt]},k.angle=function(T){return arguments.length?(d=T%360*He,B()):d*Mt},k.reflectX=function(T){return arguments.length?(h=T?-1:1,B()):h<0},k.reflectY=function(T){return arguments.length?(p=T?-1:1,B()):p<0},k.precision=function(T){return arguments.length?(S=Cd(M,w=T*T),F()):Ft(w)},k.fitExtent=function(T,z){return xl(k,T,z)},k.fitSize=function(T,z){return i1(k,T,z)},k.fitWidth=function(T,z){return a1(k,T,z)},k.fitHeight=function(T,z){return o1(k,T,z)};function B(){var T=Dd(n,0,0,h,p,d).apply(null,t(a,s)),z=Dd(n,r-T[0],i-T[1],h,p,d);return u=zp(f,c,l),M=wc(t,z),A=wc(u,M),S=Cd(M,w),F()}function F(){return D=I=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&E,B()}}function Sl(e){var t=0,n=Ae/3,r=s1(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*He,n=a[1]*He):[t*Mt,n*Mt]},i}function dw(e){var t=Me(e);function n(r,i){return[r*t,ve(i)/t]}return n.invert=function(r,i){return[r/t,Jt(i*t)]},n}function hw(e,t){var n=ve(e),r=(n+ve(t))/2;if(Oe(r)<xe)return dw(e);var i=1+n*(2*r-n),a=Ft(i)/r;function s(f,c){var l=Ft(i-2*r*ve(c))/r;return[l*ve(f*=r),a-l*Me(f)]}return s.invert=function(f,c){var l=a-c,u=Un(f,Oe(l))*Yt(l);return l*r<0&&(u-=Ae*Yt(f)*Yt(l)),[u/r,Jt((i-(f*f+l*l)*r*r)/(2*r))]},s}function Wo(){return Sl(hw).scale(155.424).center([0,33.6442])}function f1(){return Wo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pw(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function gw(){var e,t,n=f1(),r,i=Wo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Wo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,l={point:function(h,p){c=[h,p]}};function u(h){var p=h[0],m=h[1];return c=null,r.point(p,m),c||(a.point(p,m),c)||(f.point(p,m),c)}u.invert=function(h){var p=n.scale(),m=n.translate(),g=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=pw([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(l),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+xe,g+.12*p+xe],[m-.214*p-xe,g+.234*p-xe]]).stream(l),f=s.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+xe,g+.166*p+xe],[m-.115*p-xe,g+.234*p-xe]]).stream(l),d()},u.fitExtent=function(h,p){return xl(u,h,p)},u.fitSize=function(h,p){return i1(u,h,p)},u.fitWidth=function(h,p){return a1(u,h,p)},u.fitHeight=function(h,p){return o1(u,h,p)};function d(){return e=t=null,u}return u.scale(1070)}function c1(e){return function(t,n){var r=Me(t),i=Me(n),a=e(r*i);return a===1/0?[2,0]:[a*i*ve(t),a*ve(n)]}}function ca(e){return function(t,n){var r=Ft(t*t+n*n),i=e(r),a=ve(i),s=Me(i);return[Un(t*a,r*s),Jt(r&&n*a/r)]}}var l1=c1(function(e){return Ft(2/(1+e))});l1.invert=ca(function(e){return 2*Jt(e/2)});function mw(){return gr(l1).scale(124.75).clipAngle(180-.001)}var u1=c1(function(e){return(e=qp(e))&&e/ve(e)});u1.invert=ca(function(e){return e});function bw(){return gr(u1).scale(79.4188).clipAngle(180-.001)}function ks(e,t){return[e,Fo(vl((Ye+t)/2))]}ks.invert=function(e,t){return[e,2*wi(jp(t))-Ye]};function yw(){return d1(ks).scale(961/jt)}function d1(e){var t=gr(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,f,c,l;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=f=c=l=null:(s=+d[0][0],f=+d[0][1],c=+d[1][0],l=+d[1][1]),u()):s==null?null:[[s,f],[c,l]]};function u(){var d=Ae*r(),h=t(Rv(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===ks?[[Math.max(h[0]-d,s),f],[Math.min(h[0]+d,c),l]]:[[s,Math.max(h[1]-d,f)],[c,Math.min(h[1]+d,l)]])}return u()}function Ka(e){return vl((Ye+e)/2)}function _w(e,t){var n=Me(e),r=e===t?ve(e):Fo(n/Me(t))/Fo(Ka(t)/Ka(e)),i=n*bf(Ka(e),r)/r;if(!r)return ks;function a(s,f){i>0?f<-Ye+xe&&(f=-Ye+xe):f>Ye-xe&&(f=Ye-xe);var c=i/bf(Ka(f),r);return[c*ve(r*s),i-c*Me(r*s)]}return a.invert=function(s,f){var c=i-f,l=Yt(r)*Ft(s*s+c*c),u=Un(s,Oe(c))*Yt(c);return c*r<0&&(u-=Ae*Yt(s)*Yt(c)),[u/r,2*wi(bf(i/l,1/r))-Ye]},a}function vw(){return Sl(_w).scale(109.5).parallels([30,30])}function Yo(e,t){return[e,t]}Yo.invert=Yo;function ww(){return gr(Yo).scale(152.63)}function xw(e,t){var n=Me(e),r=e===t?ve(e):(n-Me(t))/(t-e),i=n/r+e;if(Oe(r)<xe)return Yo;function a(s,f){var c=i-f,l=r*s;return[c*ve(l),i-c*Me(l)]}return a.invert=function(s,f){var c=i-f,l=Un(s,Oe(c))*Yt(c);return c*r<0&&(l-=Ae*Yt(s)*Yt(c)),[l/r,i-Yt(r)*Ft(s*s+c*c)]},a}function Sw(){return Sl(xw).scale(131.154).center([0,13.9389])}var Ui=1.340264,Vi=-.081106,Hi=893e-6,Wi=.003796,Xo=Ft(3)/2,kw=12;function h1(e,t){var n=Jt(Xo*ve(t)),r=n*n,i=r*r*r;return[e*Me(n)/(Xo*(Ui+3*Vi*r+i*(7*Hi+9*Wi*r))),n*(Ui+Vi*r+i*(Hi+Wi*r))]}h1.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,f,c;a<kw&&(f=n*(Ui+Vi*r+i*(Hi+Wi*r))-t,c=Ui+3*Vi*r+i*(7*Hi+9*Wi*r),n-=s=f/c,r=n*n,i=r*r*r,!(Oe(s)<$p));++a);return[Xo*e*(Ui+3*Vi*r+i*(7*Hi+9*Wi*r))/Me(n),Jt(ve(n)/Xo)]};function Mw(){return gr(h1).scale(177.158)}function p1(e,t){var n=Me(t),r=Me(e)*n;return[n*ve(e)/r,ve(t)/r]}p1.invert=ca(wi);function Aw(){return gr(p1).scale(144.049).clipAngle(60)}function g1(e,t){return[Me(t)*ve(e),ve(t)]}g1.invert=ca(Jt);function Ew(){return gr(g1).scale(249.5).clipAngle(90+xe)}function m1(e,t){var n=Me(t),r=1+Me(e)*n;return[n*ve(e)/r,ve(t)/r]}m1.invert=ca(function(e){return 2*wi(e)});function Tw(){return gr(m1).scale(250).clipAngle(142)}function b1(e,t){return[Fo(vl((Ye+t)/2)),-e]}b1.invert=function(e,t){return[-t,2*wi(jp(e))-Ye]};function Cw(){var e=d1(b1),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Cn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ms(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lc=Symbol("implicit");function kl(){var e=new Cr,t=[],n=[],r=Lc;function i(a){let s=e.get(a);if(s===void 0){if(r!==Lc)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Cr;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kl(t,n).unknown(r)},Cn.apply(i,arguments),i}function As(){var e=kl().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,f=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-c+l*2),f&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*u,s=a*(1-c),f&&(m=Math.round(m),s=Math.round(s));var b=lc(h).map(function(v){return m+a*v});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(f=!!h,d()):f},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return As(t(),[r,i]).round(f).paddingInner(c).paddingOuter(l).align(u)},Cn.apply(d(),arguments)}function y1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return y1(t())},e}function Dw(){return y1(As.apply(null,arguments).paddingInner(1))}function Nw(e){return function(){return e}}function Oc(e){return+e}var Nd=[0,1];function Gt(e){return e}function Fc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Nw(isNaN(t)?NaN:.5)}function Iw(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Lw(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Fc(i,r),a=n(s,a)):(r=Fc(r,i),a=n(a,s)),function(f){return a(r(f))}}function Ow(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Fc(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(f){var c=ul(e,f,1,r)-1;return a[c](i[c](f))}}function la(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Es(){var e=Nd,t=Nd,n=_i,r,i,a,s=Gt,f,c,l;function u(){var h=Math.min(e.length,t.length);return s!==Gt&&(s=Iw(e[0],e[h-1])),f=h>2?Ow:Lw,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=f(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((l||(l=f(t,e.map(r),fr)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Oc),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=bl,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Gt,u()):s!==Gt},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function _1(){return Es()(Gt,Gt)}function Fw(e,t,n,r){var i=fc(e,t,n),a;switch(r=Ki(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Pv(i,s))&&(r.precision=a),Rp(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Bv(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Fv(i))&&(r.precision=a-(r.type==="%")*2);break}}return vi(r)}function ua(e){var t=e.domain;return e.ticks=function(n){var r=t();return To(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Fw(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],f=r[a],c,l,u=10;for(f<s&&(l=s,s=f,f=l,l=i,i=a,a=l);u-- >0;){if(l=sc(s,f,n),l===c)return r[i]=s,r[a]=f,t(r);if(l>0)s=Math.floor(s/l)*l,f=Math.ceil(f/l)*l;else if(l<0)s=Math.ceil(s*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function Ml(){var e=_1();return e.copy=function(){return la(e,Ml())},Cn.apply(e,arguments),ua(e)}function v1(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Oc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return v1(e).unknown(t)},e=arguments.length?Array.from(e,Oc):[0,1],ua(n)}function w1(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Id(e){return Math.log(e)}function Ld(e){return Math.exp(e)}function Pw(e){return-Math.log(-e)}function Bw(e){return-Math.exp(-e)}function Rw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $w(e){return e===10?Rw:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jw(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Od(e){return(t,n)=>-e(-t,n)}function x1(e){const t=e(Id,Ld),n=t.domain;let r=10,i,a;function s(){return i=jw(r),a=$w(r),n()[0]<0?(i=Od(i),a=Od(a),e(Pw,Bw)):e(Id,Ld),t}return t.base=function(f){return arguments.length?(r=+f,s()):r},t.domain=function(f){return arguments.length?(n(f),s()):n()},t.ticks=f=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=i(l),p=i(u),m,g;const b=f==null?10:+f;let v=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}v.length*2<b&&(v=To(l,u,b))}else v=To(h,p,Math.min(p-h,b)).map(a);return d?v.reverse():v},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ki(c)).precision==null&&(c.trim=!0),c=vi(c)),f===1/0)return c;const l=Math.max(1,r*f/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},t.nice=()=>n(w1(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function S1(){const e=x1(Es()).domain([1,10]);return e.copy=()=>la(e,S1()).base(e.base()),Cn.apply(e,arguments),e}function Fd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pd(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k1(e){var t=1,n=e(Fd(t),Pd(t));return n.constant=function(r){return arguments.length?e(Fd(t=+r),Pd(t)):t},ua(n)}function M1(){var e=k1(Es());return e.copy=function(){return la(e,M1()).constant(e.constant())},Cn.apply(e,arguments)}function Bd(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zw(e){return e<0?-e*e:e*e}function A1(e){var t=e(Gt,Gt),n=1;function r(){return n===1?e(Gt,Gt):n===.5?e(qw,zw):e(Bd(n),Bd(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ua(t)}function E1(){var e=A1(Es());return e.copy=function(){return la(e,E1()).exponent(e.exponent())},Cn.apply(e,arguments),e}function T1(){var e=[],t=[],n=[],r;function i(){var s=0,f=Math.max(1,t.length);for(n=new Array(f-1);++s<f;)n[s-1]=$_(e,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:t[ul(n,s)]}return a.invertExtent=function(s){var f=t.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let f of s)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Ot),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return T1().domain(e).range(t).unknown(r)},Cn.apply(a,arguments)}function C1(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[ul(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return C1().domain(e).range(t).unknown(n)},Cn.apply(i,arguments)}const xf=new Date,Sf=new Date;function rt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return c;let l;do c.push(l=new Date(+a)),t(a,f),e(a);while(l<a&&a<s);return c},i.filter=a=>rt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;t(s,-1),!a(s););else for(;--f>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(xf.setTime(+a),Sf.setTime(+s),e(xf),e(Sf),Math.floor(n(xf,Sf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Go=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Go.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Go);Go.range;const jn=1e3,Kt=jn*60,qn=Kt*60,Vn=qn*24,Al=Vn*7,Rd=Vn*30,kf=Vn*365,fn=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCSeconds());fn.range;const da=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getMinutes());da.range;const ha=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kt)},(e,t)=>(t-e)/Kt,e=>e.getUTCMinutes());ha.range;const pa=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*jn-e.getMinutes()*Kt)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getHours());pa.range;const ga=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCHours());ga.range;const Fr=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kt)/Vn,e=>e.getDate()-1);Fr.range;const Ts=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>e.getUTCDate()-1);Ts.range;const Cs=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vn,e=>Math.floor(e/Vn));Cs.range;function Pr(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kt)/Al)}const fi=Pr(0),Ji=Pr(1),D1=Pr(2),N1=Pr(3),Ir=Pr(4),I1=Pr(5),L1=Pr(6);fi.range;Ji.range;D1.range;N1.range;Ir.range;I1.range;L1.range;function Br(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Al)}const ci=Br(0),Qi=Br(1),O1=Br(2),F1=Br(3),Lr=Br(4),P1=Br(5),B1=Br(6);ci.range;Qi.range;O1.range;F1.range;Lr.range;P1.range;B1.range;const ma=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ma.range;const ba=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ba.range;const un=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});un.range;const dn=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});dn.range;function R1(e,t,n,r,i,a){const s=[[fn,1,jn],[fn,5,5*jn],[fn,15,15*jn],[fn,30,30*jn],[a,1,Kt],[a,5,5*Kt],[a,15,15*Kt],[a,30,30*Kt],[i,1,qn],[i,3,3*qn],[i,6,6*qn],[i,12,12*qn],[r,1,Vn],[r,2,2*Vn],[n,1,Al],[t,1,Rd],[t,3,3*Rd],[e,1,kf]];function f(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:c(l,u,d),m=p?p.range(l,+u+1):[];return h?m.reverse():m}function c(l,u,d){const h=Math.abs(u-l)/d,p=_s(([,,b])=>b).right(s,h);if(p===s.length)return e.every(fc(l/kf,u/kf,d));if(p===0)return Go.every(Math.max(fc(l,u,d),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[f,c]}const[Uw,Vw]=R1(dn,ba,ci,Cs,ga,ha),[Hw,Ww]=R1(un,ma,fi,Fr,pa,da);function Mf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Af(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ci(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Yw(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,f=e.months,c=e.shortMonths,l=Di(i),u=Ni(i),d=Di(a),h=Ni(a),p=Di(s),m=Ni(s),g=Di(f),b=Ni(f),v=Di(c),_=Ni(c),x={a:Q,A:re,b:te,B:W,c:null,d:Vd,e:Vd,f:m3,g:A3,G:T3,H:h3,I:p3,j:g3,L:$1,m:b3,M:y3,p:V,q:J,Q:Yd,s:Xd,S:_3,u:v3,U:w3,V:x3,w:S3,W:k3,x:null,X:null,y:M3,Y:E3,Z:C3,"%":Wd},y={a:ee,A:$,b:ne,B:ue,c:null,d:Hd,e:Hd,f:L3,g:U3,G:H3,H:D3,I:N3,j:I3,L:q1,m:O3,M:F3,p:Y,q:fe,Q:Yd,s:Xd,S:P3,u:B3,U:R3,V:$3,w:j3,W:q3,x:null,X:null,y:z3,Y:V3,Z:W3,"%":Wd},w={a:I,A:k,b:E,B,c:F,d:zd,e:zd,f:c3,g:qd,G:jd,H:Ud,I:Ud,j:a3,L:f3,m:i3,M:o3,p:D,q:r3,Q:u3,s:d3,S:s3,u:Jw,U:Qw,V:e3,w:Zw,W:t3,x:T,X:z,y:qd,Y:jd,Z:n3,"%":l3};x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),y.x=S(n,y),y.X=S(r,y),y.c=S(t,y);function S(C,U){return function(X){var j=[],ce=-1,se=0,de=C.length,me,H,le;for(X instanceof Date||(X=new Date(+X));++ce<de;)C.charCodeAt(ce)===37&&(j.push(C.slice(se,ce)),(H=$d[me=C.charAt(++ce)])!=null?me=C.charAt(++ce):H=me==="e"?" ":"0",(le=U[me])&&(me=le(X,H)),j.push(me),se=ce+1);return j.push(C.slice(se,ce)),j.join("")}}function M(C,U){return function(X){var j=Ci(1900,void 0,1),ce=A(j,C,X+="",0),se,de;if(ce!=X.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(U&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(se=Af(Ci(j.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?Qi.ceil(se):Qi(se),se=Ts.offset(se,(j.V-1)*7),j.y=se.getUTCFullYear(),j.m=se.getUTCMonth(),j.d=se.getUTCDate()+(j.w+6)%7):(se=Mf(Ci(j.y,0,1)),de=se.getDay(),se=de>4||de===0?Ji.ceil(se):Ji(se),se=Fr.offset(se,(j.V-1)*7),j.y=se.getFullYear(),j.m=se.getMonth(),j.d=se.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),de="Z"in j?Af(Ci(j.y,0,1)).getUTCDay():Mf(Ci(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(de+5)%7:j.w+j.U*7-(de+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,Af(j)):Mf(j)}}function A(C,U,X,j){for(var ce=0,se=U.length,de=X.length,me,H;ce<se;){if(j>=de)return-1;if(me=U.charCodeAt(ce++),me===37){if(me=U.charAt(ce++),H=w[me in $d?U.charAt(ce++):me],!H||(j=H(C,X,j))<0)return-1}else if(me!=X.charCodeAt(j++))return-1}return j}function D(C,U,X){var j=l.exec(U.slice(X));return j?(C.p=u.get(j[0].toLowerCase()),X+j[0].length):-1}function I(C,U,X){var j=p.exec(U.slice(X));return j?(C.w=m.get(j[0].toLowerCase()),X+j[0].length):-1}function k(C,U,X){var j=d.exec(U.slice(X));return j?(C.w=h.get(j[0].toLowerCase()),X+j[0].length):-1}function E(C,U,X){var j=v.exec(U.slice(X));return j?(C.m=_.get(j[0].toLowerCase()),X+j[0].length):-1}function B(C,U,X){var j=g.exec(U.slice(X));return j?(C.m=b.get(j[0].toLowerCase()),X+j[0].length):-1}function F(C,U,X){return A(C,t,U,X)}function T(C,U,X){return A(C,n,U,X)}function z(C,U,X){return A(C,r,U,X)}function Q(C){return s[C.getDay()]}function re(C){return a[C.getDay()]}function te(C){return c[C.getMonth()]}function W(C){return f[C.getMonth()]}function V(C){return i[+(C.getHours()>=12)]}function J(C){return 1+~~(C.getMonth()/3)}function ee(C){return s[C.getUTCDay()]}function $(C){return a[C.getUTCDay()]}function ne(C){return c[C.getUTCMonth()]}function ue(C){return f[C.getUTCMonth()]}function Y(C){return i[+(C.getUTCHours()>=12)]}function fe(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var U=S(C+="",x);return U.toString=function(){return C},U},parse:function(C){var U=M(C+="",!1);return U.toString=function(){return C},U},utcFormat:function(C){var U=S(C+="",y);return U.toString=function(){return C},U},utcParse:function(C){var U=M(C+="",!0);return U.toString=function(){return C},U}}}var $d={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,Xw=/^%/,Gw=/[\\^$*+?|[\]().{}]/g;function De(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Kw(e){return e.replace(Gw,"\\$&")}function Di(e){return new RegExp("^(?:"+e.map(Kw).join("|")+")","i")}function Ni(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Zw(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Jw(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qw(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function e3(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function t3(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jd(e,t,n){var r=ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qd(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function n3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function r3(e,t,n){var r=ft.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function i3(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zd(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function a3(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Ud(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function o3(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function s3(e,t,n){var r=ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function f3(e,t,n){var r=ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function c3(e,t,n){var r=ft.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function l3(e,t,n){var r=Xw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function u3(e,t,n){var r=ft.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function d3(e,t,n){var r=ft.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vd(e,t){return De(e.getDate(),t,2)}function h3(e,t){return De(e.getHours(),t,2)}function p3(e,t){return De(e.getHours()%12||12,t,2)}function g3(e,t){return De(1+Fr.count(un(e),e),t,3)}function $1(e,t){return De(e.getMilliseconds(),t,3)}function m3(e,t){return $1(e,t)+"000"}function b3(e,t){return De(e.getMonth()+1,t,2)}function y3(e,t){return De(e.getMinutes(),t,2)}function _3(e,t){return De(e.getSeconds(),t,2)}function v3(e){var t=e.getDay();return t===0?7:t}function w3(e,t){return De(fi.count(un(e)-1,e),t,2)}function j1(e){var t=e.getDay();return t>=4||t===0?Ir(e):Ir.ceil(e)}function x3(e,t){return e=j1(e),De(Ir.count(un(e),e)+(un(e).getDay()===4),t,2)}function S3(e){return e.getDay()}function k3(e,t){return De(Ji.count(un(e)-1,e),t,2)}function M3(e,t){return De(e.getFullYear()%100,t,2)}function A3(e,t){return e=j1(e),De(e.getFullYear()%100,t,2)}function E3(e,t){return De(e.getFullYear()%1e4,t,4)}function T3(e,t){var n=e.getDay();return e=n>=4||n===0?Ir(e):Ir.ceil(e),De(e.getFullYear()%1e4,t,4)}function C3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function Hd(e,t){return De(e.getUTCDate(),t,2)}function D3(e,t){return De(e.getUTCHours(),t,2)}function N3(e,t){return De(e.getUTCHours()%12||12,t,2)}function I3(e,t){return De(1+Ts.count(dn(e),e),t,3)}function q1(e,t){return De(e.getUTCMilliseconds(),t,3)}function L3(e,t){return q1(e,t)+"000"}function O3(e,t){return De(e.getUTCMonth()+1,t,2)}function F3(e,t){return De(e.getUTCMinutes(),t,2)}function P3(e,t){return De(e.getUTCSeconds(),t,2)}function B3(e){var t=e.getUTCDay();return t===0?7:t}function R3(e,t){return De(ci.count(dn(e)-1,e),t,2)}function z1(e){var t=e.getUTCDay();return t>=4||t===0?Lr(e):Lr.ceil(e)}function $3(e,t){return e=z1(e),De(Lr.count(dn(e),e)+(dn(e).getUTCDay()===4),t,2)}function j3(e){return e.getUTCDay()}function q3(e,t){return De(Qi.count(dn(e)-1,e),t,2)}function z3(e,t){return De(e.getUTCFullYear()%100,t,2)}function U3(e,t){return e=z1(e),De(e.getUTCFullYear()%100,t,2)}function V3(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function H3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lr(e):Lr.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function W3(){return"+0000"}function Wd(){return"%"}function Yd(e){return+e}function Xd(e){return Math.floor(+e/1e3)}var Vr,El,ya;Y3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y3(e){return Vr=Yw(e),El=Vr.format,Vr.parse,ya=Vr.utcFormat,Vr.utcParse,Vr}function X3(e){return new Date(e)}function G3(e){return e instanceof Date?+e:+new Date(+e)}function Tl(e,t,n,r,i,a,s,f,c,l){var u=_1(),d=u.invert,h=u.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),b=l("%I %p"),v=l("%a %d"),_=l("%b %d"),x=l("%B"),y=l("%Y");function w(S){return(c(S)<S?p:f(S)<S?m:s(S)<S?g:a(S)<S?b:r(S)<S?i(S)<S?v:_:n(S)<S?x:y)(S)}return u.invert=function(S){return new Date(d(S))},u.domain=function(S){return arguments.length?h(Array.from(S,G3)):h().map(X3)},u.ticks=function(S){var M=h();return e(M[0],M[M.length-1],S??10)},u.tickFormat=function(S,M){return M==null?w:l(M)},u.nice=function(S){var M=h();return(!S||typeof S.range!="function")&&(S=t(M[0],M[M.length-1],S??10)),S?h(w1(M,S)):u},u.copy=function(){return la(u,Tl(e,t,n,r,i,a,s,f,c,l))},u}function K3(){return Cn.apply(Tl(Hw,Ww,un,ma,fi,Fr,pa,da,fn,El).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Z3(){return Cn.apply(Tl(Uw,Vw,dn,ba,ci,Ts,ga,ha,fn,ya).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ds(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ns(){var e=0,t=.5,n=1,r=1,i,a,s,f,c,l=Gt,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?f:c),l(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),s=u(n=+n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(b){var v,_,x;return arguments.length?([v,_,x]=b,l=xs(g,[v,_,x]),p):[l(0),l(.5),l(1)]}}return p.range=m(_i),p.rangeRound=m(bl),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),s=g(n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function U1(){var e=ua(Ns()(Gt));return e.copy=function(){return Ds(e,U1())},Ms.apply(e,arguments)}function V1(){var e=x1(Ns()).domain([.1,1,10]);return e.copy=function(){return Ds(e,V1()).base(e.base())},Ms.apply(e,arguments)}function H1(){var e=k1(Ns());return e.copy=function(){return Ds(e,H1()).constant(e.constant())},Ms.apply(e,arguments)}function W1(){var e=A1(Ns());return e.copy=function(){return Ds(e,W1()).exponent(e.exponent())},Ms.apply(e,arguments)}function we(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const J3=we("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Q3=we("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),e6=we("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),t6=we("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),n6=we("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),r6=we("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),i6=we("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),a6=we("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),o6=we("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),s6=we("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),f6=we("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Re=e=>c2(e[e.length-1]);var Y1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(we);const X1=Re(Y1);var G1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(we);const K1=Re(G1);var Z1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(we);const J1=Re(Z1);var Q1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(we);const eg=Re(Q1);var Pc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(we);const Ko=Re(Pc);var tg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(we);const ng=Re(tg);var Bc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(we);const Zo=Re(Bc);var rg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(we);const ig=Re(rg);var ag=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(we);const og=Re(ag);var sg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(we);const fg=Re(sg);var cg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(we);const lg=Re(cg);var ug=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(we);const dg=Re(ug);var hg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(we);const pg=Re(hg);var gg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(we);const mg=Re(gg);var bg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(we);const yg=Re(bg);var _g=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(we);const vg=Re(_g);var wg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(we);const xg=Re(wg);var Sg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(we);const kg=Re(Sg);var Mg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(we);const Ag=Re(Mg);var Eg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(we);const Tg=Re(Eg);var Cg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(we);const Dg=Re(Cg);var Ng=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(we);const Ig=Re(Ng);var Lg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(we);const Og=Re(Lg);var Fg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(we);const Pg=Re(Fg);var Bg=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(we);const Rg=Re(Bg);var $g=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(we);const jg=Re($g);var qg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(we);const zg=Re(qg);function Ug(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Vg=yl(An(300,.5,0),An(-240,.5,1));var Hg=yl(An(-100,.75,.35),An(80,1.5,.8)),Wg=yl(An(260,.75,.35),An(80,1.5,.8)),Za=An();function Yg(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Za.h=360*e-100,Za.s=1.5-1.5*t,Za.l=.8-.9*t,Za+""}var Ja=ko(),c6=Math.PI/3,l6=Math.PI*2/3;function Xg(e){var t;return e=(.5-e)*Math.PI,Ja.r=255*(t=Math.sin(e))*t,Ja.g=255*(t=Math.sin(e+c6))*t,Ja.b=255*(t=Math.sin(e+l6))*t,Ja+""}function Gg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Is(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Kg=Is(we("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Zg=Is(we("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jg=Is(we("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Qg=Is(we("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Hr(e){return function(){return e}}const em=Math.cos,Cl=Math.min,Jo=Math.sin,at=Math.sqrt,Gd=1e-12,Qo=Math.PI,Ls=2*Qo;function u6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Pp(t)}function d6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tm(e){this._context=e}tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Os(e){return new tm(e)}function h6(e){return e[0]}function p6(e){return e[1]}function g6(e,t){var n=Hr(!0),r=null,i=Os,a=null,s=u6(f);e=typeof e=="function"?e:e===void 0?h6:Hr(e),t=typeof t=="function"?t:t===void 0?p6:Hr(t);function f(c){var l,u=(c=d6(c)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),l=0;l<=u;++l)!(l<u&&n(d=c[l],l,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,l,c),+t(d,l,c));if(p)return a=null,p+""||null}return f.x=function(c){return arguments.length?(e=typeof c=="function"?c:Hr(+c),f):e},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:Hr(+c),f):t},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Hr(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),f):r},f}class nm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m6(e){return new nm(e,!0)}function b6(e){return new nm(e,!1)}const y6=at(3),rm={draw(e,t){const n=at(t+Cl(t/28,.75))*.59436,r=n/2,i=r*y6;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},ea={draw(e,t){const n=at(t/Qo);e.moveTo(n,0),e.arc(0,0,n,0,Ls)}},im={draw(e,t){const n=at(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},am=at(1/3),_6=am*2,om={draw(e,t){const n=at(t/_6),r=n*am;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},sm={draw(e,t){const n=at(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},fm={draw(e,t){const n=at(t-Cl(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},cm={draw(e,t){const n=at(t),r=-n/2;e.rect(r,r,n,n)}},lm={draw(e,t){const n=at(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},v6=.8908130915292852,um=Jo(Qo/10)/Jo(7*Qo/10),w6=Jo(Ls/10)*um,x6=-em(Ls/10)*um,dm={draw(e,t){const n=at(t*v6),r=w6*n,i=x6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Ls*a/5,f=em(s),c=Jo(s);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*i,c*r+f*i)}e.closePath()}},Ef=at(3),hm={draw(e,t){const n=-at(t/(Ef*3));e.moveTo(0,n*2),e.lineTo(-Ef*n,-n),e.lineTo(Ef*n,-n),e.closePath()}},S6=at(3),pm={draw(e,t){const n=at(t)*.6824,r=n/2,i=n*S6/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Vt=-.5,Ht=at(3)/2,Rc=1/at(12),k6=(Rc/2+1)*3,gm={draw(e,t){const n=at(t/k6),r=n/2,i=n*Rc,a=r,s=n*Rc+n,f=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(f,c),e.lineTo(Vt*r-Ht*i,Ht*r+Vt*i),e.lineTo(Vt*a-Ht*s,Ht*a+Vt*s),e.lineTo(Vt*f-Ht*c,Ht*f+Vt*c),e.lineTo(Vt*r+Ht*i,Vt*i-Ht*r),e.lineTo(Vt*a+Ht*s,Vt*s-Ht*a),e.lineTo(Vt*f+Ht*c,Vt*c-Ht*f),e.closePath()}},mm={draw(e,t){const n=at(t-Cl(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},M6=[ea,im,om,cm,dm,hm,gm],A6=[ea,fm,mm,pm,rm,lm,sm];function lr(){}function es(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Fs(e){this._context=e}Fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:es(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:es(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E6(e){return new Fs(e)}function bm(e){this._context=e}bm.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:es(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T6(e){return new bm(e)}function ym(e){this._context=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:es(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C6(e){return new ym(e)}function _m(e,t){this._basis=new Fs(e),this._beta=t}_m.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+c*a),this._beta*t[f]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const D6=function e(t){function n(r){return t===1?new Fs(r):new _m(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function ts(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Dl(e,t){this._context=e,this._k=(1-t)/6}Dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ts(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ts(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const N6=function e(t){function n(r){return new Dl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Nl(e,t){this._context=e,this._k=(1-t)/6}Nl.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ts(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const I6=function e(t){function n(r){return new Nl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Il(e,t){this._context=e,this._k=(1-t)/6}Il.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ts(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const L6=function e(t){function n(r){return new Il(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ll(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Gd){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Gd){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function vm(e,t){this._context=e,this._alpha=t}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ll(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const O6=function e(t){function n(r){return t?new vm(r,t):new Dl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function wm(e,t){this._context=e,this._alpha=t}wm.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ll(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const F6=function e(t){function n(r){return t?new wm(r,t):new Nl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function xm(e,t){this._context=e,this._alpha=t}xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ll(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const P6=function e(t){function n(r){return t?new xm(r,t):new Il(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Sm(e){this._context=e}Sm.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B6(e){return new Sm(e)}function Kd(e){return e<0?-1:1}function Zd(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(Kd(a)+Kd(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function Jd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Tf(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,f=(a-r)/3;e._context.bezierCurveTo(r+f,i+f*t,a-f,s-f*n,a,s)}function ns(e){this._context=e}ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tf(this,this._t0,Jd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tf(this,Jd(this,n=Zd(this,e,t)),n);break;default:Tf(this,this._t0,n=Zd(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function km(e){this._context=new Mm(e)}(km.prototype=Object.create(ns.prototype)).point=function(e,t){ns.prototype.point.call(this,t,e)};function Mm(e){this._context=e}Mm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function R6(e){return new ns(e)}function $6(e){return new km(e)}function Am(e){this._context=e}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Qd(e),i=Qd(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Qd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function j6(e){return new Am(e)}function Ps(e,t){this._context=e,this._t=t}Ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function q6(e){return new Ps(e,.5)}function z6(e){return new Ps(e,0)}function U6(e){return new Ps(e,1)}const V6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Em(e){return typeof e>"u"||e===null}function H6(e){return typeof e=="object"&&e!==null}function W6(e){return Array.isArray(e)?e:Em(e)?[]:[e]}function Y6(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function X6(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function G6(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var K6=Em,Z6=H6,J6=W6,Q6=X6,e5=G6,t5=Y6,Et={isNothing:K6,isObject:Z6,toArray:J6,repeat:Q6,isNegativeZero:e5,extend:t5};function Tm(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function ta(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Tm(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ta.prototype=Object.create(Error.prototype);ta.prototype.constructor=ta;ta.prototype.toString=function(t){return this.name+": "+Tm(this,t)};var Rn=ta;function Cf(e,t,n,r,i){var a="",s="",f=Math.floor(i/2)-1;return r-t>f&&(a=" ... ",t=r-f+a.length),n-r>f&&(s=" ...",n=r+f-s.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+a.length}}function Df(e,t){return Et.repeat(" ",t-e.length)+e}function n5(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var f="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=Cf(e.buffer,r[s-c],i[s-c],e.position-(r[s]-r[s-c]),d),f=Et.repeat(" ",t.indent)+Df((e.line-c+1).toString(),u)+" | "+l.str+`
`+f;for(l=Cf(e.buffer,r[s],i[s],e.position,d),f+=Et.repeat(" ",t.indent)+Df((e.line+1).toString(),u)+" | "+l.str+`
`,f+=Et.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=Cf(e.buffer,r[s+c],i[s+c],e.position-(r[s]-r[s+c]),d),f+=Et.repeat(" ",t.indent)+Df((e.line+c+1).toString(),u)+" | "+l.str+`
`;return f.replace(/\n$/,"")}var r5=n5,i5=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],a5=["scalar","sequence","mapping"];function o5(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function s5(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(i5.indexOf(n)===-1)throw new Rn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=o5(t.styleAliases||null),a5.indexOf(this.kind)===-1)throw new Rn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var mt=s5;function eh(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}function f5(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function $c(e){return this.extend(e)}$c.prototype.extend=function(t){var n=[],r=[];if(t instanceof mt)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Rn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof mt))throw new Rn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Rn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Rn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof mt))throw new Rn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create($c.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=eh(i,"implicit"),i.compiledExplicit=eh(i,"explicit"),i.compiledTypeMap=f5(i.compiledImplicit,i.compiledExplicit),i};var c5=$c,l5=new mt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),u5=new mt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),d5=new mt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),h5=new c5({explicit:[l5,u5,d5]});function p5(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function g5(){return null}function m5(e){return e===null}var b5=new mt("tag:yaml.org,2002:null",{kind:"scalar",resolve:p5,construct:g5,predicate:m5,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function y5(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function _5(e){return e==="true"||e==="True"||e==="TRUE"}function v5(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var w5=new mt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:y5,construct:_5,predicate:v5,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function x5(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function S5(e){return 48<=e&&e<=55}function k5(e){return 48<=e&&e<=57}function M5(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!x5(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!S5(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!k5(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function A5(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function E5(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Et.isNegativeZero(e)}var T5=new mt("tag:yaml.org,2002:int",{kind:"scalar",resolve:M5,construct:A5,predicate:E5,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),C5=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function D5(e){return!(e===null||!C5.test(e)||e[e.length-1]==="_")}function N5(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var I5=/^[-+]?[0-9]+e/;function L5(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Et.isNegativeZero(e))return"-0.0";return n=e.toString(10),I5.test(n)?n.replace("e",".e"):n}function O5(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Et.isNegativeZero(e))}var F5=new mt("tag:yaml.org,2002:float",{kind:"scalar",resolve:D5,construct:N5,predicate:O5,represent:L5,defaultStyle:"lowercase"}),P5=h5.extend({implicit:[b5,w5,T5,F5]}),B5=P5,Cm=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Dm=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function R5(e){return e===null?!1:Cm.exec(e)!==null||Dm.exec(e)!==null}function $5(e){var t,n,r,i,a,s,f,c=0,l=null,u,d,h;if(t=Cm.exec(e),t===null&&(t=Dm.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],f=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(n,r,i,a,s,f,c)),l&&h.setTime(h.getTime()-l),h}function j5(e){return e.toISOString()}var q5=new mt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:R5,construct:$5,instanceOf:Date,represent:j5});function z5(e){return e==="<<"||e===null}var U5=new mt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:z5}),Ol=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function V5(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=Ol;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function H5(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=Ol,s=0,f=[];for(t=0;t<i;t++)t%4===0&&t&&(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)):n===18?(f.push(s>>10&255),f.push(s>>2&255)):n===12&&f.push(s>>4&255),new Uint8Array(f)}function W5(e){var t="",n=0,r,i,a=e.length,s=Ol;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function Y5(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var X5=new mt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:V5,construct:H5,predicate:Y5,represent:W5}),G5=Object.prototype.hasOwnProperty,K5=Object.prototype.toString;function Z5(e){if(e===null)return!0;var t=[],n,r,i,a,s,f=e;for(n=0,r=f.length;n<r;n+=1){if(i=f[n],s=!1,K5.call(i)!=="[object Object]")return!1;for(a in i)if(G5.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function J5(e){return e!==null?e:[]}var Q5=new mt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Z5,construct:J5}),e4=Object.prototype.toString;function t4(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],e4.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function n4(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var r4=new mt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:t4,construct:n4}),i4=Object.prototype.hasOwnProperty;function a4(e){if(e===null)return!0;var t,n=e;for(t in n)if(i4.call(n,t)&&n[t]!==null)return!1;return!0}function o4(e){return e!==null?e:{}}var s4=new mt("tag:yaml.org,2002:set",{kind:"mapping",resolve:a4,construct:o4}),f4=B5.extend({implicit:[q5,U5],explicit:[X5,Q5,r4,s4]}),ur=Object.prototype.hasOwnProperty,rs=1,Nm=2,Im=3,is=4,Nf=1,c4=2,th=3,l4=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,u4=/[\x85\u2028\u2029]/,d4=/[,\[\]\{\}]/,Lm=/^(?:!|!!|![a-z\-]+!)$/i,Om=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nh(e){return Object.prototype.toString.call(e)}function kn(e){return e===10||e===13}function kr(e){return e===9||e===32}function Lt(e){return e===9||e===32||e===10||e===13}function Zr(e){return e===44||e===91||e===93||e===123||e===125}function h4(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function p4(e){return e===120?2:e===117?4:e===85?8:0}function g4(e){return 48<=e&&e<=57?e-48:-1}function rh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function m4(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Fm=new Array(256),Pm=new Array(256);for(var Wr=0;Wr<256;Wr++)Fm[Wr]=rh(Wr)?1:0,Pm[Wr]=rh(Wr);function b4(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||f4,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Bm(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=r5(n),new Rn(t,n)}function he(e,t){throw Bm(e,t)}function as(e,t){e.onWarning&&e.onWarning.call(null,Bm(e,t))}var ih={YAML:function(t,n,r){var i,a,s;t.version!==null&&he(t,"duplication of %YAML directive"),r.length!==1&&he(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&he(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&he(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&as(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&he(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],Lm.test(i)||he(t,"ill-formed tag handle (first argument) of the TAG directive"),ur.call(t.tagMap,i)&&he(t,'there is a previously declared suffix for "'+i+'" tag handle'),Om.test(a)||he(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{he(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function ar(e,t,n,r){var i,a,s,f;if(t<n){if(f=e.input.slice(t,n),r)for(i=0,a=f.length;i<a;i+=1)s=f.charCodeAt(i),s===9||32<=s&&s<=1114111||he(e,"expected valid JSON character");else l4.test(f)&&he(e,"the stream contains non-printable characters");e.result+=f}}function ah(e,t,n,r){var i,a,s,f;for(Et.isObject(n)||he(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,f=i.length;s<f;s+=1)a=i[s],ur.call(t,a)||(t[a]=n[a],r[a]=!0)}function Jr(e,t,n,r,i,a,s,f,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&he(e,"nested arrays are not supported inside keys"),typeof i=="object"&&nh(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&nh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(l=0,u=a.length;l<u;l+=1)ah(e,t,a[l],n);else ah(e,t,a,n);else!e.json&&!ur.call(n,i)&&ur.call(t,i)&&(e.line=s||e.line,e.lineStart=f||e.lineStart,e.position=c||e.position,he(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function Fl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):he(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Qe(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;kr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(kn(i))for(Fl(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&as(e,"deficient indentation"),r}function Bs(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Lt(n)))}function Pl(e,t){t===1?e.result+=" ":t>1&&(e.result+=Et.repeat(`
`,t-1))}function y4(e,t,n){var r,i,a,s,f,c,l,u,d=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Lt(p)||Zr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Lt(i)||n&&Zr(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,f=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Lt(i)||n&&Zr(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),Lt(r))break}else{if(e.position===e.lineStart&&Bs(e)||n&&Zr(p))break;if(kn(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,Qe(e,!1,-1),e.lineIndent>=t){f=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}f&&(ar(e,a,s,!1),Pl(e,e.line-c),a=s=e.position,f=!1),kr(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return ar(e,a,s,!1),e.result?!0:(e.kind=d,e.result=h,!1)}function _4(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(ar(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else kn(n)?(ar(e,r,i,!0),Pl(e,Qe(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Bs(e)?he(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);he(e,"unexpected end of the stream within a single quoted scalar")}function v4(e,t){var n,r,i,a,s,f;if(f=e.input.charCodeAt(e.position),f!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(f=e.input.charCodeAt(e.position))!==0;){if(f===34)return ar(e,n,e.position,!0),e.position++,!0;if(f===92){if(ar(e,n,e.position,!0),f=e.input.charCodeAt(++e.position),kn(f))Qe(e,!1,t);else if(f<256&&Fm[f])e.result+=Pm[f],e.position++;else if((s=p4(f))>0){for(i=s,a=0;i>0;i--)f=e.input.charCodeAt(++e.position),(s=h4(f))>=0?a=(a<<4)+s:he(e,"expected hexadecimal character");e.result+=m4(a),e.position++}else he(e,"unknown escape sequence");n=r=e.position}else kn(f)?(ar(e,n,r,!0),Pl(e,Qe(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Bs(e)?he(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}he(e,"unexpected end of the stream within a double quoted scalar")}function w4(e,t){var n=!0,r,i,a,s=e.tag,f,c=e.anchor,l,u,d,h,p,m=Object.create(null),g,b,v,_;if(_=e.input.charCodeAt(e.position),_===91)u=93,p=!1,f=[];else if(_===123)u=125,p=!0,f={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),_=e.input.charCodeAt(++e.position);_!==0;){if(Qe(e,!0,t),_=e.input.charCodeAt(e.position),_===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=f,!0;n?_===44&&he(e,"expected the node content, but found ','"):he(e,"missed comma between flow collection entries"),b=g=v=null,d=h=!1,_===63&&(l=e.input.charCodeAt(e.position+1),Lt(l)&&(d=h=!0,e.position++,Qe(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,li(e,t,rs,!1,!0),b=e.tag,g=e.result,Qe(e,!0,t),_=e.input.charCodeAt(e.position),(h||e.line===r)&&_===58&&(d=!0,_=e.input.charCodeAt(++e.position),Qe(e,!0,t),li(e,t,rs,!1,!0),v=e.result),p?Jr(e,f,m,b,g,v,r,i,a):d?f.push(Jr(e,null,m,b,g,v,r,i,a)):f.push(g),Qe(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(n=!0,_=e.input.charCodeAt(++e.position)):n=!1}he(e,"unexpected end of the stream within a flow collection")}function x4(e,t){var n,r,i=Nf,a=!1,s=!1,f=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Nf===i?i=d===43?th:c4:he(e,"repeat of a chomping mode identifier");else if((u=g4(d))>=0)u===0?he(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?he(e,"repeat of an indentation width identifier"):(f=t+u-1,s=!0);else break;if(kr(d)){do d=e.input.charCodeAt(++e.position);while(kr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!kn(d)&&d!==0)}for(;d!==0;){for(Fl(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<f)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>f&&(f=e.lineIndent),kn(d)){c++;continue}if(e.lineIndent<f){i===th?e.result+=Et.repeat(`
`,a?1+c:c):i===Nf&&a&&(e.result+=`
`);break}for(r?kr(d)?(l=!0,e.result+=Et.repeat(`
`,a?1+c:c)):l?(l=!1,e.result+=Et.repeat(`
`,c+1)):c===0?a&&(e.result+=" "):e.result+=Et.repeat(`
`,c):e.result+=Et.repeat(`
`,a?1+c:c),a=!0,s=!0,c=0,n=e.position;!kn(d)&&d!==0;)d=e.input.charCodeAt(++e.position);ar(e,n,e.position,!1)}return!0}function oh(e,t){var n,r=e.tag,i=e.anchor,a=[],s,f=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!Lt(s))));){if(f=!0,e.position++,Qe(e,!0,-1)&&e.lineIndent<=t){a.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,li(e,t,Im,!1,!0),a.push(e.result),Qe(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)he(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return f?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function S4(e,t,n){var r,i,a,s,f,c,l=e.tag,u=e.anchor,d={},h=Object.create(null),p=null,m=null,g=null,b=!1,v=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),_=e.input.charCodeAt(e.position);_!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(_===63||_===58)&&Lt(r))_===63?(b&&(Jr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):he(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=r;else{if(s=e.line,f=e.lineStart,c=e.position,!li(e,n,Nm,!1,!0))break;if(e.line===a){for(_=e.input.charCodeAt(e.position);kr(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),Lt(_)||he(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Jr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(v)he(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)he(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,f=e.lineStart,c=e.position),li(e,t,is,!0,i)&&(b?m=e.result:g=e.result),b||(Jr(e,d,h,p,m,g,s,f,c),p=m=g=null),Qe(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&_!==0)he(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Jr(e,d,h,p,m,null,s,f,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),v}function k4(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&he(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):he(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Lt(s);)s===33&&(r?he(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Lm.test(i)||he(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),d4.test(a)&&he(e,"tag suffix cannot contain flow indicator characters")}a&&!Om.test(a)&&he(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{he(e,"tag name is malformed: "+a)}return n?e.tag=a:ur.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:he(e,'undeclared tag handle "'+i+'"'),!0}function M4(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&he(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Lt(n)&&!Zr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function A4(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Lt(r)&&!Zr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ur.call(e.anchorMap,n)||he(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Qe(e,!0,-1),!0}function li(e,t,n,r,i){var a,s,f,c=1,l=!1,u=!1,d,h,p,m,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=f=is===n||Im===n,r&&Qe(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;k4(e)||M4(e);)Qe(e,!0,-1)?(l=!0,f=a,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):f=!1;if(f&&(f=l||i),(c===1||is===n)&&(rs===n||Nm===n?g=t:g=t+1,b=e.position-e.lineStart,c===1?f&&(oh(e,b)||S4(e,b,g))||w4(e,g)?u=!0:(s&&x4(e,g)||_4(e,g)||v4(e,g)?u=!0:A4(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&he(e,"alias node should not have any properties")):y4(e,g,rs===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=f&&oh(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&he(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ur.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,h=p.length;d<h;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||he(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&he(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):he(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function E4(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Qe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Lt(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&he(e,"directive name must not be less than one character in length");s!==0;){for(;kr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!kn(s));break}if(kn(s))break;for(n=e.position;s!==0&&!Lt(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&Fl(e),ur.call(ih,r)?ih[r](e,r,i):as(e,'unknown document directive "'+r+'"')}if(Qe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Qe(e,!0,-1)):a&&he(e,"directives end mark is expected"),li(e,e.lineIndent-1,is,!1,!0),Qe(e,!0,-1),e.checkLineBreaks&&u4.test(e.input.slice(t,e.position))&&as(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Bs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Qe(e,!0,-1));return}if(e.position<e.length-1)he(e,"end of the stream or a document separator is expected");else return}function Rm(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new b4(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,he(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)E4(n);return n.documents}function T4(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=Rm(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function C4(e,t){var n=Rm(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Rn("expected a single document in the stream, but found more")}}var D4=T4,N4=C4,I4={loadAll:D4,load:N4},L4=I4.load;function dr(e){return e!=null&&!Number.isNaN(e)}function En(e,t){return+dr(t)-+dr(e)||Ot(e,t)}function os(e,t){return+dr(t)-+dr(e)||sa(e,t)}function Bl(e){return e!=null&&`${e}`!=""}function $m(e){return isFinite(e)?e:NaN}function _a(e){return e>0&&isFinite(e)?e:NaN}function Rs(e){return e<0&&isFinite(e)?e:NaN}function O4(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${F4(e.getUTCFullYear())}-${Bn(e.getUTCMonth()+1,2)}-${Bn(e.getUTCDate(),2)}${n||r||i||a?`T${Bn(n,2)}:${Bn(r,2)}${i||a?`:${Bn(i,2)}${a?`.${Bn(a,3)}`:""}`:""}Z`:""}`}function F4(e){return e<0?`-${Bn(-e,6)}`:e>9999?`+${Bn(e,6)}`:Bn(e,4)}function Bn(e,t){return`${e}`.padStart(t,"0")}const P4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function jm(e,t){return P4.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function ui(e){if(e==null)return;const t=e[0],n=e[e.length-1];return sa(t,n)}const Qr=1e3,er=Qr*60,tr=er*60,Tn=tr*24,mn=Tn*7,Mr=Tn*30,Gn=Tn*365,If=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Qr],["5 seconds",5*Qr],["15 seconds",15*Qr],["30 seconds",30*Qr],["minute",er],["5 minutes",5*er],["15 minutes",15*er],["30 minutes",30*er],["hour",tr],["3 hours",3*tr],["6 hours",6*tr],["12 hours",12*tr],["day",Tn],["2 days",2*Tn],["week",mn],["2 weeks",2*mn],["month",Mr],["3 months",3*Mr],["6 months",6*Mr],["year",Gn],["2 years",2*Gn],["5 years",5*Gn],["10 years",10*Gn],["20 years",20*Gn],["50 years",50*Gn],["100 years",100*Gn]],Rl=new Map([["second",Qr],["minute",er],["hour",tr],["day",Tn],["monday",mn],["tuesday",mn],["wednesday",mn],["thursday",mn],["friday",mn],["saturday",mn],["sunday",mn],["week",mn],["month",Mr],["year",Gn]]),qm=new Map([["second",fn],["minute",da],["hour",pa],["day",Fr],["monday",Ji],["tuesday",D1],["wednesday",N1],["thursday",Ir],["friday",I1],["saturday",L1],["sunday",fi],["week",fi],["month",ma],["year",un]]),$l=new Map([["second",fn],["minute",ha],["hour",ga],["day",Cs],["monday",Qi],["tuesday",O1],["wednesday",F1],["thursday",Lr],["friday",P1],["saturday",B1],["sunday",ci],["week",ci],["month",ba],["year",dn]]),va=Symbol("intervalDuration"),$s=Symbol("intervalType");for(const[e,t]of qm)t[va]=Rl.get(e),t[$s]="time";for(const[e,t]of $l)t[va]=Rl.get(e),t[$s]="utc";const ji=[["year",dn,"utc"],["month",ba,"utc"],["day",Cs,"utc",6*Mr],["hour",ga,"utc",3*Tn],["minute",ha,"utc",6*tr],["second",fn,"utc",30*er]],yo=[["year",un,"time"],["month",ma,"time"],["day",Fr,"time",6*Mr],["hour",pa,"time",3*Tn],["minute",da,"time",6*tr],["second",fn,"time",30*er]],B4=[ji[0],yo[0],ji[1],yo[1],ji[2],yo[2],...ji.slice(3)];function zm(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=$l.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function Um(e){return Hm(zm(e),"time")}function Vm(e){return Hm(zm(e),"utc")}function Hm([e,t],n){let r=(n==="time"?qm:$l).get(e);return t>1&&(r=r.every(t),r[va]=Rl.get(e)*t,r[$s]=n),r}function sh(e,t){if(!(t>1))return;const n=e[va];if(!If.some(([,i])=>i===n)||n%Tn===0&&Tn<n&&n<Mr)return;const[r]=If[_s(([,i])=>Math.log(i)).center(If,Math.log(n*t))];return(e[$s]==="time"?Um:Vm)(r)}function fh(e,t,n){const r=t==="time"?El:ya;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=R4(n);switch(e){case"millisecond":return Yr(r(".%L"),r(":%M:%S"),i);case"second":return Yr(r(":%S"),r("%-I:%M"),i);case"minute":return Yr(r("%-I:%M"),r("%p"),i);case"hour":return Yr(r("%-I %p"),r("%b %-d"),i);case"day":return Yr(r("%-d"),r("%b"),i);case"month":return Yr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function R4(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function $4(e){return e==="time"?yo:e==="utc"?ji:B4}function j4(e,t,n){const r=$t(U_(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return fh("millisecond","utc",n);for(const[i,a,s,f]of $4(e)){if(r>f||i==="hour"&&!r)break;if(t.every(c=>a.floor(c)>=c))return fh(i,s,n)}}function Yr(e,t,n){return(r,i,a)=>{const s=e(r,i),f=t(r,i),c=i-ui(a);return i!==c&&a[c]!==void 0&&f===t(a[c],c)?s:n(s,f)}}const na=Object.getPrototypeOf(Uint8Array),q4=Object.prototype.toString,Wm=Symbol("reindex");function Zt(e,t,n){const r=typeof t;return r==="string"?ch(e,Ym(t),n):r==="function"?ch(e,t,n):r==="number"||t instanceof Date||r==="boolean"?st(e,wa(t),n):typeof(t==null?void 0:t.transform)=="function"?lh(t.transform(e),n):z4(lh(t,n),e==null?void 0:e[Wm])}function z4(e,t){return e!=null&&t?ql(e,t):e}function ch(e,t,n){return st(e,(n==null?void 0:n.prototype)instanceof na?U4(t):t,n)}function lh(e,t){return t===void 0?qt(e):e instanceof t?e:t.prototype instanceof na&&!(e instanceof na)?t.from(e,jl):t.from(e)}function U4(e){return(t,n)=>jl(e(t,n))}const _o=[null],Ym=e=>t=>t[e],Xm={transform:mr},zt={transform:e=>e},V4=()=>1,H4=()=>!0,Tt=e=>e==null?e:`${e}`,qe=e=>e==null?e:+e,Gm=e=>e?e[0]:void 0,W4=e=>e?e[1]:void 0,wa=e=>()=>e;function Y4(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Co(n,t,r)}function nr(e){return e instanceof na?e:st(e,jl,Float64Array)}function jl(e){return e==null?NaN:Number(e)}function X4(e){return st(e,G4)}function G4(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?jm(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Or(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:zs(e)?[void 0,e]:[e,void 0]}function gt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function Km(e,t,n){if(e!=null)return hn(e,t,n)}function hn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function qt(e){return e==null||e instanceof Array||e instanceof na?e:Array.from(e)}function st(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function ra(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Zm({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function K4({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function Z4(e){return Zm(e)||K4(e)||e.interval!==void 0}function Rr(e){return(e==null?void 0:e.toString)===q4}function ss(e){return Rr(e)&&(e.type!==void 0||e.domain!==void 0)}function js(e){return Rr(e)&&typeof e.transform!="function"}function di(e){return js(e)&&e.value===void 0&&e.channel===void 0}function J4(e,t,n,r=zt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function xa(e,t){return e===void 0&&t===void 0?[Gm,W4]:[e,t]}function Jm({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Or(t)),e===void 0&&([e]=Or(n)),e}function mr(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function ql(e,t){return st(t,n=>e[n],e.constructor)}function Q4(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function wr(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jc(e){let t;return[{transform:()=>t,label:Sa(e)},n=>t=n]}function e8(e){return e==null?[e]:jc(e)}function Sa(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function t8(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Qt(r)||Qt(i)?st(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):st(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function n8(e,t){const n=Qm(t==null?void 0:t.interval,t==null?void 0:t.type);return n?st(e,n):e}function Qm(e,t){const n=zl(e,t);return n&&(r=>dr(r)?n.floor(r):r)}function zl(e,t){if(e!=null){if(typeof e=="number")return r8(e);if(typeof e=="string")return(t==="time"?Um:Vm)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function r8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>lc(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>lc(Math.ceil(n/t),r/t).map(i=>i*t)}}function ka(e,t){if(e=zl(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function i8(e,t){if(e=ka(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function a8(e){return typeof(e==null?void 0:e.range)=="function"}function qs(e){return e===void 0||js(e)?e:{value:e}}function o8(e){return e==null?null:{transform:t=>Zt(t,e,Float64Array),label:Sa(e)}}function $r(e){return e&&typeof e[Symbol.iterator]=="function"}function eb(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function uh(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Qt(e){for(const t of e)if(t!=null)return t instanceof Date}function s8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&jm(t)}function f8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function c8(e){for(const t of e)if(t!=null)return typeof t=="number"}function Lf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const l8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function zs(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||l8.has(e))}function u8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Nt(e){return e==null||ia(e)}function ia(e){return/^\s*none\s*$/i.test(e)}function d8(e){return/^\s*round\s*$/i.test(e)}function qc(e,t){return Km(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Us(e="middle"){return qc(e,"frameAnchor")}function h8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function p8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function tb(e){return $r(e)?p8(e):e}function nb(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=hn(e,"clip",["frame","sphere"])),e}const xn=Symbol("position"),Hn=Symbol("color"),Ma=Symbol("radius"),Aa=Symbol("length"),Ea=Symbol("opacity"),Vs=Symbol("symbol"),rb=Symbol("projection"),Ue=new Map([["x",xn],["y",xn],["fx",xn],["fy",xn],["r",Ma],["color",Hn],["opacity",Ea],["symbol",Vs],["length",Aa],["projection",rb]]);function g8(e){return e===xn||e===rb}function m8(e){return e===xn||e===Ma||e===Aa||e===Ea}const b8=Math.sqrt(3),y8=2/b8,_8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*y8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Ul=new Map([["asterisk",rm],["circle",ea],["cross",im],["diamond",om],["diamond2",sm],["hexagon",_8],["plus",fm],["square",cm],["square2",lm],["star",dm],["times",mm],["triangle",hm],["triangle2",pm],["wye",gm]]);function Vl(e){return e&&typeof e.draw=="function"}function v8(e){return Vl(e)?!0:typeof e!="string"?!1:Ul.has(e.toLowerCase())}function Hl(e){if(e==null||Vl(e))return e;const t=Ul.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function w8(e){if(e==null||Vl(e))return[void 0,e];if(typeof e=="string"){const t=Ul.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Wl({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=ib(e)),t!=null&&!di(t)&&(r=Of(r,Yl(t))),n&&(r=Of(r,ab))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||di(t))&&{sort:t},transform:Of(r,s)}}function hi({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=ib(e)),t!=null&&!di(t)&&(r=Ff(r,Yl(t))),n&&(r=Ff(r,ab))),{...i,...(t===null||di(t))&&{sort:t},initializer:Ff(r,a)}}function Of(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,qt(n),r,i)}}function Ff(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,f,c,l,u,d;return{data:f=n,facets:c=r,channels:s}=e.call(this,n,r,i,...a),{data:u=f,facets:d=c,channels:l}=t.call(this,f,c,{...i,...s},...a),{data:u,facets:d,channels:{...s,...l}}}}function x8(e,t){return(e.initializer!=null?hi:Wl)(e,t)}function ib(e){return(t,n)=>{const r=Zt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function ab(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function S8(e,{sort:t,...n}={}){return{...(js(e)&&e.channel!==void 0?hi:x8)(n,Yl(e)),sort:di(t)?t:null}}function Yl(e){return(typeof e=="function"&&e.length!==1?k8:M8)(e)}function k8(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function M8(e){let t,n;({channel:t,value:e,order:n}={...qs(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?os:En),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=En;break;case"descending":n=os;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(t===void 0)f=Zt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[t],!f)return{};f=f.value}const c=(l,u)=>n(f[l],f[u]);return{data:i,facets:a.map(l=>l.slice().sort(c))}}}function A8(e,t,n=E8){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Rr(e))return T8(e);if(typeof e=="function")return C8(e);if(/^p\d{2}$/i.test(e))return Pn(Y4(e));switch(`${e}`.toLowerCase()){case"first":return N8;case"last":return I8;case"identity":return D8;case"count":return hh;case"distinct":return L8;case"sum":return t==null?hh:O8;case"proportion":return ph(t,"data");case"proportion-facet":return ph(t,"facet");case"deviation":return Pn(N_);case"min":return Pn(Mn);case"min-index":return Pn(R_);case"max":return Pn($t);case"max-index":return Pn(B_);case"mean":return dh(j_);case"median":return dh(cc);case"variance":return Pn(mp);case"mode":return Pn(z_)}return n(e)}function E8(e){throw new Error(`invalid reduce: ${e}`)}function T8(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function C8(e){return{reduceIndex(t,n,r){return e(ql(n,t),r)}}}function Pn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function dh(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Qt(n)?new Date(r):r}}}const D8={reduceIndex(e,t){return ql(t,e)}},N8={reduceIndex(e,t){return t[e[0]]}},I8={reduceIndex(e,t){return t[e[e.length-1]]}},hh={label:"Frequency",reduceIndex(e){return e.length}},L8={label:"Distinct",reduceIndex(e,t){const n=new vs;for(const r of e)n.add(t[r]);return n.size}},O8=Pn(Dr);function ph(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Dr(n,a=>r[a])/i}}function aa(e,{scale:t,type:n,value:r,filter:i,hint:a,label:s=Sa(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),ob(f,{scale:t,type:n,value:Zt(e,r),label:s,filter:i,hint:a})}function F8(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,aa(t,r,n)]))}function P8(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:st(a,s)]}));return n.channels=e,n}function ob(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Lf(r,zs)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Lf(r,u8)?null:"opacity";break;case"symbol":n!==!0&&Lf(r,v8)?(t.scale=null,t.value=st(r,Hl)):t.scale="symbol";break;default:t.scale=Ue.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Ue.has(n))throw new Error(`unknown scale: ${n}`);return t}function B8(e,t,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:c}=i;for(const l in i){if(!Ue.has(l))continue;let{value:u,order:d=a,reverse:h=s,reduce:p=f,limit:m=c}=qs(i[l]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?fb:sb:j8(d),p==null||p===!1)continue;const b=l==="fx"||l==="fy"?$8(t,r[l]):R8(n,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const v=b.value,[_=0,x=1/0]=$r(m)?m:m<0?[m]:[0,m];if(u==null)b.domain=()=>{let y=Array.from(new vs(v));return h&&(y=y.reverse()),(_!==0||x!==1/0)&&(y=y.slice(_,x)),y};else{const y=u==="data"?e:u==="height"?gh(n,"y1","y2"):u==="width"?gh(n,"x1","x2"):zc(n,u,u==="y"?"y2":u==="x"?"x2":void 0),w=A8(p===!0?"max":p,y);b.domain=()=>{let S=I_(mr(v),M=>w.reduceIndex(M,y),M=>v[M]);return d&&S.sort(d),h&&S.reverse(),(_!==0||x!==1/0)&&(S=S.slice(_,x)),S.map(Gm)}}}}function R8(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function $8(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of e[a])i[f]=s}return t}function gh(e,t,n){const r=zc(e,t),i=zc(e,n);return st(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function zc(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function j8(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return sb;case"descending":return fb}throw new Error(`invalid order: ${e}`)}function sb([e,t],[n,r]){return En(t,r)||En(e,n)}function fb([e,t],[n,r]){return os(t,r)||En(e,n)}function mh(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const cb=new Map([["accent",Q3],["category10",J3],["dark2",e6],["observable10",t6],["paired",n6],["pastel1",r6],["pastel2",i6],["set1",a6],["set2",o6],["set3",s6],["tableau10",f6]]);function q8(e){return e!=null&&cb.has(`${e}`.toLowerCase())}const bh=new Map([...cb,["brbg",Ln(Y1,X1)],["prgn",Ln(G1,K1)],["piyg",Ln(Z1,J1)],["puor",Ln(Q1,eg)],["rdbu",Ln(Pc,Ko)],["rdgy",Ln(tg,ng)],["rdylbu",Ln(Bc,Zo)],["rdylgn",Ln(rg,ig)],["spectral",Ln(ag,og)],["burd",yh(Pc,Ko)],["buylrd",yh(Bc,Zo)],["blues",ot(Ng,Ig)],["greens",ot(Lg,Og)],["greys",ot(Fg,Pg)],["oranges",ot(qg,zg)],["purples",ot(Bg,Rg)],["reds",ot($g,jg)],["turbo",On(Gg)],["viridis",On(Kg)],["magma",On(Zg)],["inferno",On(Jg)],["plasma",On(Qg)],["cividis",On(Ug)],["cubehelix",On(Vg)],["warm",On(Hg)],["cool",On(Wg)],["bugn",ot(sg,fg)],["bupu",ot(cg,lg)],["gnbu",ot(ug,dg)],["orrd",ot(hg,pg)],["pubu",ot(bg,yg)],["pubugn",ot(gg,mg)],["purd",ot(_g,vg)],["rdpu",ot(wg,xg)],["ylgn",ot(Mg,Ag)],["ylgnbu",ot(Sg,kg)],["ylorbr",ot(Eg,Tg)],["ylorrd",ot(Cg,Dg)],["rainbow",_h(Yg)],["sinebow",_h(Xg)]]);function ot(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ln(t,n):e[n])}function Ln(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ln(t,n):e[n])}function yh(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ln(r=>t(1-r),n):e[n].slice().reverse())}function On(e){return({length:t})=>ln(e,Math.max(2,Math.floor(t)))}function _h(e){return({length:t})=>ln(e,Math.floor(t)+1).slice(0,-1)}function lb(e){const t=`${e}`.toLowerCase();if(!bh.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return bh.get(t)}function Hs(e,t){const n=lb(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function z8(e,t="greys"){const n=new Set,[r,i]=Hs(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const vh=new Map([["brbg",X1],["prgn",K1],["piyg",J1],["puor",eg],["rdbu",Ko],["rdgy",ng],["rdylbu",Zo],["rdylgn",ig],["spectral",og],["burd",e=>Ko(1-e)],["buylrd",e=>Zo(1-e)],["blues",Ig],["greens",Og],["greys",Pg],["purples",Rg],["reds",jg],["oranges",zg],["turbo",Gg],["viridis",Kg],["magma",Zg],["inferno",Jg],["plasma",Qg],["cividis",Ug],["cubehelix",Vg],["warm",Hg],["cool",Wg],["bugn",fg],["bupu",lg],["gnbu",dg],["orrd",pg],["pubugn",mg],["pubu",yg],["purd",vg],["rdpu",xg],["ylgnbu",kg],["ylgn",Ag],["ylorbr",Tg],["ylorrd",Dg],["rainbow",Yg],["sinebow",Xg]]);function Xl(e){const t=`${e}`.toLowerCase();if(!vh.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return vh.get(t)}const U8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function V8(e){return e!=null&&U8.has(`${e}`.toLowerCase())}const ub=e=>t=>e(1-t),Pf=[0,1],wh=new Map([["number",fr],["rgb",Yi],["hsl",uv],["hcl",pv],["lab",dv]]);function db(e){const t=`${e}`.toLowerCase();if(!wh.has(t))throw new Error(`unknown interpolator: ${t}`);return wh.get(t)}function Ta(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:f=pb(e,n),unknown:c,round:l,scheme:u,interval:d,range:h=Ue.get(e)===Ma?t7(n,f):Ue.get(e)===Aa?n7(n,f):Ue.get(e)===Ea?Pf:void 0,interpolate:p=Ue.get(e)===Hn?u==null&&h!==void 0?Yi:Xl(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):l?bl:fr,reverse:m}){if(d=ka(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=db(p)),m=!!m,h!==void 0){const g=(f=qt(f)).length,b=(h=qt(h)).length;if(g!==b){if(p.length===1)throw new Error("invalid piecewise interpolator");p=xs(p,h),h=void 0}}if(p.length===1?(m&&(p=ub(p),m=!1),h===void 0&&(h=Float64Array.from(f,(g,b)=>b/(f.length-1)),h.length===2&&(h=Pf)),t.interpolate((h===Pf?wa:Kl)(p))):t.interpolate(p),s){const[g,b]=ir(f);(g>0||b<0)&&(f=ra(f),(ui(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return m&&(f=Do(f)),t.domain(f).unknown(c),i&&(t.nice(H8(i,r)),f=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:f,range:h,scale:t,interpolate:p,interval:d}}function H8(e,t){return e===!0?void 0:typeof e=="number"?e:i8(e,t)}function W8(e,t,n){return Ta(e,Ml(),t,n)}function Y8(e,t,n){return hb(e,t,{...n,exponent:.5})}function hb(e,t,{exponent:n=1,...r}){return Ta(e,E1().exponent(n),t,{...r,type:"pow"})}function X8(e,t,{base:n=10,domain:r=r7(t),...i}){return Ta(e,S1().base(n),t,{...i,domain:r})}function G8(e,t,{constant:n=1,...r}){return Ta(e,M1().constant(n),t,r)}function K8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=i7(t),unknown:f,interpolate:c,reverse:l}){return n===void 0&&(n=c!==void 0?ln(c,i):Ue.get(e)===Hn?Hs(a,i):void 0),s.length>0&&(s=T1(s,n===void 0?{length:i}:n).quantiles()),Gl(e,t,{domain:s,range:n,reverse:l,unknown:f})}function Z8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=pb(e,t),unknown:s,interpolate:f,reverse:c}){const[l,u]=ir(a);let d;return n===void 0?(d=To(l,u,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,n=f!==void 0?ln(f,r):Ue.get(e)===Hn?Hs(i,r):void 0):(d=ln(fr(l,u),r+1).slice(1,-1),l instanceof Date&&(d=d.map(h=>new Date(h)))),ui(qt(a))<0&&d.reverse(),Gl(e,t,{domain:d,range:n,reverse:c,unknown:s})}function Gl(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?ln(a,n.length+1):Ue.get(e)===Hn?Hs(i,n.length+1):void 0,reverse:f}){n=qt(n);const c=ui(n);if(!isNaN(c)&&!J8(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(s=Do(s)),{type:"threshold",scale:C1(c<0?Do(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function J8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=sa(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function Q8(e){return{type:"identity",scale:m8(Ue.get(e))?v1():t=>t}}function oa(e,t=$m){return e.length?[Mn(e,({value:n})=>n===void 0?n:Mn(n,t)),$t(e,({value:n})=>n===void 0?n:$t(n,t))]:[0,1]}function pb(e,t){const n=Ue.get(e);return(n===Ma||n===Ea||n===Aa?e7:oa)(t)}function e7(e){return[0,e.length?$t(e,({value:t})=>t===void 0?t:$t(t,$m)):1]}function t7(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=Co(e,.5,({value:s})=>s===void 0?NaN:Co(s,.25,_a)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/$t(i);return a<1?i.map(s=>s*a):i}function n7(e,t){const n=cc(e,({value:a})=>a===void 0?NaN:cc(a,Math.abs)),r=t.map(a=>12*a/n),i=60/$t(r);return i<1?r.map(a=>a*i):r}function r7(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return oa(e,_a);if(n<0)return oa(e,Rs)}return[1,10]}function i7(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Kl(e){return(t,n)=>r=>e(t+r*(n-t))}let Uc=0,Vc;function a7(){const e=Uc;return Uc=0,Vc=void 0,e}function or(e){e!==Vc&&(Vc=e,console.warn(e),++Uc)}function Ws(e,t,n,r,{type:i,nice:a,clamp:s,domain:f=oa(r),unknown:c,pivot:l=0,scheme:u,range:d,symmetric:h=!0,interpolate:p=Ue.get(e)===Hn?u==null&&d!==void 0?Yi:Xl(u!==void 0?u:"rdbu"):fr,reverse:m}){l=+l,f=qt(f);let[g,b]=f;if(f.length>2&&or(`Warning: the diverging ${e} scale domain contains extra elements.`),sa(g,b)<0&&([g,b]=[b,g],m=!m),g=Math.min(g,l),b=Math.max(b,l),typeof p!="function"&&(p=db(p)),d!==void 0&&(p=p.length===1?Kl(p)(...d):xs(p,d)),m&&(p=ub(p)),h){const v=n.apply(l),_=v-n.apply(g),x=n.apply(b)-v;_<x?g=n.invert(v-x):_>x&&(b=n.invert(v+_))}return t.domain([g,l,b]).unknown(c).interpolator(p),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[g,b],pivot:l,interpolate:p,scale:t}}function o7(e,t,n){return Ws(e,U1(),l7,t,n)}function s7(e,t,n){return gb(e,t,{...n,exponent:.5})}function gb(e,t,{exponent:n=1,...r}){return Ws(e,W1().exponent(n=+n),h7(n),t,{...r,type:"diverging-pow"})}function f7(e,t,{base:n=10,pivot:r=1,domain:i=oa(t,r<0?Rs:_a),...a}){return Ws(e,V1().base(n=+n),u7,t,{domain:i,pivot:r,...a})}function c7(e,t,{constant:n=1,...r}){return Ws(e,H1().constant(n=+n),p7(n),t,r)}const l7={apply(e){return e},invert(e){return e}},u7={apply:Math.log,invert:Math.exp},d7={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function h7(e){return e===.5?d7:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function p7(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function mb(e,t,n,r){return Ta(e,t,n,r)}function g7(e,t,n){return mb(e,K3(),t,n)}function m7(e,t,n){return mb(e,Z3(),t,n)}const Ca=Symbol("ordinal");function bb(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:c}){return i=ka(i,r),a===void 0&&(a=_b(n,i,e)),(r==="categorical"||r===Ca)&&(r="ordinal"),f&&(a=Do(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:c,interval:i}}function b7(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...c}){r=ka(r,n),i===void 0&&(i=_b(t,r,e));let l;if(Ue.get(e)===Vs)l=v7(t),a=a===void 0?w7(l):st(a,Hl);else if(Ue.get(e)===Hn&&(a===void 0&&(n==="ordinal"||n===Ca)&&(a=z8(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const u=Xl(s),d=a[0],h=a[1]-a[0];a=({length:p})=>ln(m=>u(d+h*m),p)}else a=lb(s);if(f===Lc)throw new Error(`implicit unknown on ${e} scale is not supported`);return bb(e,kl().unknown(f),t,{...c,type:n,domain:i,range:a,hint:l})}function y7(e,t,{align:n=.5,padding:r=.5,...i}){return yb(Dw().align(n).padding(r),t,i,e)}function _7(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return yb(As().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function yb(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=bb(r,e,t,n),e.round=i,e}function _b(e,t,n){const r=new vs;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=ir(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&Ue.get(n)===xn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return oc(r,En)}function xh(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function v7(e){return{fill:xh(e,"fill"),stroke:xh(e,"stroke")}}function w7(e){return Nt(e.fill)?A6:M6}function Hc(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,facet:{label:m=t}={},...g}={}){const b={};for(const[v,_]of e){const x=g[v],y=Sb(v,_,{round:Ue.get(v)===xn?f:void 0,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,...x});if(y){let{label:w=v==="fx"||v==="fy"?m:t,percent:S,transform:M,inset:A,insetTop:D=A!==void 0?A:v==="y"?r:0,insetRight:I=A!==void 0?A:v==="x"?i:0,insetBottom:k=A!==void 0?A:v==="y"?a:0,insetLeft:E=A!==void 0?A:v==="x"?s:0}=x||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");y.percent=!!S,y.label=w===void 0?S7(_,y):w,y.transform=M,v==="x"||v==="fx"?(y.insetLeft=+E,y.insetRight=+I):(v==="y"||v==="fy")&&(y.insetTop=+D,y.insetBottom=+k),b[v]=y}}return b}function Sh(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:s,interval:f,label:c}=i;t[r]=Mb(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),c!=null&&(a.label=c)}return n}function x7(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?Zl(t):t;i&&kh(i,s),a&&Mh(a,s);const f=i||a?vb(e,t):t;n&&kh(n,f),r&&Mh(r,f)}function S7(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!jr(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function k7(e){return Math.sign(ui(e.domain()))*Math.sign(ui(e.range()))}function Zl(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:c,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:a,height:s}}function vb({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Zl(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:f,height:t?t.scale.bandwidth()+r+a:c,facet:{width:f,height:c}}}function kh(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,f=a+n,c=i-s-r;e.range=[f,Math.max(f,c)],jr(e)||(e.range=xb(e)),e.scale.range(e.range)}wb(e)}function Mh(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,f=a+n,c=i-s-r;e.range=[Math.max(f,c),f],jr(e)?e.range.reverse():e.range=xb(e),e.scale.range(e.range)}wb(e)}function wb(e){e.round===void 0&&T7(e)&&M7(e)<=30&&e.scale.round(!0)}function M7({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function xb(e){const t=e.scale.domain().length+kb(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function A7(e,t,n){return Sb(e,n===void 0?void 0:[{hint:n}],{...t})}function Sb(e,t=[],n={}){const r=E7(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&jr({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Qt)?or(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Xr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Xr(r)}".`):i.some(s8)?or(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Xr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Xr(r)}".`):i.some(f8)&&or(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Xr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Xr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Qa(t,n,nr);break;case"identity":switch(Ue.get(e)){case xn:n=Qa(t,n,nr);break;case Vs:n=Qa(t,n,C7);break}break;case"utc":case"time":n=Qa(t,n,X4);break}switch(r){case"diverging":return o7(e,t,n);case"diverging-sqrt":return s7(e,t,n);case"diverging-pow":return gb(e,t,n);case"diverging-log":return f7(e,t,n);case"diverging-symlog":return c7(e,t,n);case"categorical":case"ordinal":case Ca:return b7(e,t,n);case"cyclical":case"sequential":case"linear":return W8(e,t,n);case"sqrt":return Y8(e,t,n);case"threshold":return Gl(e,t,n);case"quantile":return K8(e,t,n);case"quantize":return Z8(e,t,n);case"pow":return hb(e,t,n);case"log":return X8(e,t,n);case"symlog":return G8(e,t,n);case"utc":return m7(e,t,n);case"time":return g7(e,t,n);case"point":return y7(e,t,n);case"band":return _7(e,t,n);case"identity":return Q8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Xr(e){return typeof e=="symbol"?e.description:e}function Ah(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Eh={toString:()=>"projection"};function E7(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Ah(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=Eh);for(const l of t){const u=Ah(l.type);if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}}if(n===Eh)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=Ue.get(e);if(c===Ma)return"sqrt";if(c===Ea||c===Aa)return"linear";if(c===Vs)return"ordinal";if((r||i||[]).length>2)return Bf(c);if(r!==void 0){if(uh(r))return Bf(c);if(Qt(r))return"utc"}else{const l=t.map(({value:u})=>u).filter(u=>u!==void 0);if(l.some(uh))return Bf(c);if(l.some(Qt))return"utc"}if(c===Hn){if(s!=null||V8(a))return"diverging";if(q8(a))return"categorical"}return"linear"}function Bf(e){switch(e){case xn:return"point";case Hn:return Ca;default:return"ordinal"}}function jr({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ca}function kb({type:e}){return e==="threshold"}function T7({type:e}){return e==="point"||e==="band"}function rr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Qa(e,{domain:t,...n},r){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...n}}function C7(e){return st(e,Hl)}function Wc(e={}){let t;for(const n in e)if(Ue.has(n)&&ss(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Mb(A7(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function D7(e){return t=>{if(!Ue.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Mb({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const l=e.unknown?e.unknown():void 0;return{type:t,domain:ra(n),...r!==void 0&&{range:ra(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function N7(e,t){const{fx:n,fy:r}=Hc(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?C_(i,a).map(([s,f],c)=>({x:s,y:f,i:c})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function I7(e,{x:t,y:n}){return t&&(t=Yc(t)),n&&(n=Yc(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Jl(e,{fx:t,fy:n}){const r=mr(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?zi(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?zi(r,s=>(s.fx=i[s[0]],s),s=>i[s]):zi(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function L7(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function O7(e){const t=[],n=new Uint32Array(Dr(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const F7=new Map([["top",Rf],["right",qf],["bottom",$f],["left",jf],["top-left",eo(Rf,jf)],["top-right",eo(Rf,qf)],["bottom-left",eo($f,jf)],["bottom-right",eo($f,qf)],["top-empty",R7],["right-empty",q7],["bottom-empty",$7],["left-empty",j7],["empty",z7]]);function P7(e){if(e==null)return null;const t=F7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Th=new WeakMap;function Yc(e){let t=Th.get(e);return t||Th.set(e,t=new Cr(st(e,(n,r)=>[n,r]))),t}function br(e,t){return Yc(e).get(t)}function B7(e,t,n){return t=wr(t),n=wr(n),e.find(r=>Object.is(wr(r.x),t)&&Object.is(wr(r.y),n))}function Ys(e,t,n){var r;return(r=B7(e,t,n))==null?void 0:r.empty}function Rf(e,{y:t},{y:n}){return t?br(t,n)===0:!0}function $f(e,{y:t},{y:n}){return t?br(t,n)===t.length-1:!0}function jf(e,{x:t},{x:n}){return t?br(t,n)===0:!0}function qf(e,{x:t},{x:n}){return t?br(t,n)===t.length-1:!0}function R7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,r);if(a>0)return Ys(e,n,t[a-1])}function $7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,r);if(a<t.length-1)return Ys(e,n,t[a+1])}function j7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,n);if(a>0)return Ys(e,t[a-1],r)}function q7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,n);if(a<t.length-1)return Ys(e,t[a+1],r)}function z7(e,t,{empty:n}){return n}function eo(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function zf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const Ab=Math.PI,Fn=2*Ab,Ch=.618;function U7({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let f,c,l="frame";if(Rr(e)){let w;if({type:e,domain:c,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Eb(e));const{width:u,height:d,marginLeft:h,marginRight:p,marginTop:m,marginBottom:g}=s,b=u-h-p-a-r,v=d-m-g-n-i;if(e=e==null?void 0:e({width:b,height:v,clip:l,...f}),e==null)return;l=V7(l,h,m,u-p,d-g);let _=h+a,x=m+n,y;if(c!=null){const[[w,S],[M,A]]=fa(e).bounds(c),D=Math.min(b/(M-w),v/(A-S));D>0?(_-=(D*(w+M)-b)/2,x-=(D*(S+A)-v)/2,y=Ho({point(I,k){this.stream.point(I*D+_,k*D+x)}})):or("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=_===0&&x===0?Tb():Ho({point(w,S){this.stream.point(w+_,S+x)}})),{stream:w=>e.stream(y.stream(l(w)))}}function Eb(e){switch(`${e}`.toLowerCase()){case"albers-usa":return on(gw,.7463,.4673);case"albers":return to(f1,.7463,.4673);case"azimuthal-equal-area":return on(mw,4,4);case"azimuthal-equidistant":return on(bw,Fn,Fn);case"conic-conformal":return to(vw,Fn,Fn);case"conic-equal-area":return to(Wo,6.1702,2.9781);case"conic-equidistant":return to(Sw,7.312,3.6282);case"equal-earth":return on(Mw,5.4133,2.6347);case"equirectangular":return on(ww,Fn,Ab);case"gnomonic":return on(Aw,3.4641,3.4641);case"identity":return{type:Tb};case"reflect-y":return{type:H7};case"mercator":return on(yw,Fn,Fn);case"orthographic":return on(Ew,2,2);case"stereographic":return on(Tw,2,2);case"transverse-mercator":return on(Cw,Fn,Fn);default:throw new Error(`unknown projection type: ${e}`)}}function V7(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Wp(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function on(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var l,u,d;const c=e();return s!=null&&((l=c.precision)==null||l.call(c,s)),a!=null&&((u=c.rotate)==null||u.call(c,a)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function to(e,t,n){const{type:r,aspectRatio:i}=on(e,t,n);return{type:a=>{const{parallels:s,domain:f,width:c,height:l}=a,u=r(a);return s!=null&&(u.parallels(s),f===void 0&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:i}}const Tb=wa({stream:e=>e}),H7=wa(Ho({point(e,t){this.stream.point(e,-t)}}));function W7(e,t,n,r){const i=n[e],a=n[t],s=i.length,f=n[e]=new Float64Array(s).fill(NaN),c=n[t]=new Float64Array(s).fill(NaN);let l;const u=r.stream({point(d,h){f[l]=d,c[l]=h}});for(l=0;l<s;++l)u.point(i[l],a[l])}function Y7({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Rr(e)&&(e=e.type),e!=null)}function X7(e){if(typeof(e==null?void 0:e.stream)=="function")return Ch;if(Rr(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=Eb(e);if(t)return t}return Ch}}function G7(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,f){t.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)vr(s,a);return[r,i]}function Ql(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:nb(n)}}function et(e,{document:t}){return Dt(fp(e).call(t.documentElement))}function K7(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const Z7=K7(e=>new Intl.NumberFormat(e));function J7(e="en-US"){const t=Z7(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Q7(e){return O4(e,"Invalid Date")}function e9(e="en-US"){const t=J7(e);return n=>(n instanceof Date?Q7:typeof n=="number"?t:Tt)(n)}const pi=e9(),Rt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let t9=0;function Dh(){return`plot-clip-${++t9}`}function n9(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:b,opacity:v,mixBlendMode:_,imageFilter:x,paintOrder:y,pointerEvents:w,shapeRendering:S,channels:M},{ariaLabel:A,fill:D="currentColor",fillOpacity:I,stroke:k="none",strokeOpacity:E,strokeWidth:B,strokeLinecap:F,strokeLinejoin:T,strokeMiterlimit:z,paintOrder:Q}){D===null&&(f=null,c=null),k===null&&(l=null,d=null),Nt(D)?!Nt(k)&&(!Nt(f)||M!=null&&M.fill)&&(k="none"):Nt(k)&&(!Nt(l)||M!=null&&M.stroke)&&(D="none");const[re,te]=Or(f,D),[W,V]=gt(c,I),[J,ee]=Or(l,k),[$,ne]=gt(d,E),[ue,Y]=gt(v);ia(ee)||(u===void 0&&(u=B),p===void 0&&(p=F),h===void 0&&(h=T),m===void 0&&!d8(h)&&(m=z),!ia(te)&&y===void 0&&(y=Q));const[fe,C]=gt(u);return D!==null&&(e.fill=nt(te,"currentColor"),e.fillOpacity=Ii(V,1)),k!==null&&(e.stroke=nt(ee,"none"),e.strokeWidth=Ii(C,1),e.strokeOpacity=Ii(ne,1),e.strokeLinejoin=nt(h,"miter"),e.strokeLinecap=nt(p,"butt"),e.strokeMiterlimit=Ii(m,4),e.strokeDasharray=nt(g,"none"),e.strokeDashoffset=nt(b,"0")),e.target=Tt(s),e.ariaLabel=Tt(A),e.ariaDescription=Tt(i),e.ariaHidden=Tt(a),e.opacity=Ii(Y,1),e.mixBlendMode=nt(_,"normal"),e.imageFilter=nt(x,"none"),e.paintOrder=nt(y,"normal"),e.pointerEvents=nt(w,"auto"),e.shapeRendering=nt(S,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:J,scale:"auto",optional:!0},strokeOpacity:{value:$,scale:"auto",optional:!0},strokeWidth:{value:fe,optional:!0},opacity:{value:ue,scale:"auto",optional:!0}}}function r9(e,t){t&&e.filter(n=>Bl(t[n])).append("title").call(a9,t)}function i9(e,t){t&&e.filter(([n])=>Bl(t[n])).append("title").call(o9,t)}function a9(e,t){t&&e.text(n=>pi(t[n]))}function o9(e,t){t&&e.text(([n])=>pi(t[n]))}function Dn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&ye(e,"aria-label",h=>r[h]),a&&ye(e,"fill",h=>a[h]),s&&ye(e,"fill-opacity",h=>s[h]),f&&ye(e,"stroke",h=>f[h]),c&&ye(e,"stroke-opacity",h=>c[h]),l&&ye(e,"stroke-width",h=>l[h]),u&&ye(e,"opacity",h=>u[h]),d&&Cb(e,h=>d[h],t),n||r9(e,i)}function s9(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&ye(e,"aria-label",([h])=>r[h]),a&&ye(e,"fill",([h])=>a[h]),s&&ye(e,"fill-opacity",([h])=>s[h]),f&&ye(e,"stroke",([h])=>f[h]),c&&ye(e,"stroke-opacity",([h])=>c[h]),l&&ye(e,"stroke-width",([h])=>l[h]),u&&ye(e,"opacity",([h])=>u[h]),d&&Cb(e,([h])=>d[h],t),n||i9(e,i)}function f9({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:c},{tip:l}){return[e,l?void 0:t,n,r,i,a,s,f,c].filter(u=>u!==void 0)}function c9(e,t,n){const r=dl(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&or("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*l9(e,t,n,r){const{z:i}=n,{z:a}=r,s=f9(r,n),f=[...t,...s];for(const c of a?c9(e,a,i):[e]){let l,u;e:for(const d of c){for(const h of f)if(!dr(h[d])){u&&u.push(-1);continue e}if(l===void 0){u&&(yield u),l=s.map(h=>wr(h[d])),u=[d];continue}u.push(d);for(let h=0;h<s.length;++h)if(wr(s[h][d])!==l[h]){yield u,l=s.map(m=>wr(m[d])),u=[d];continue e}}u&&(yield u)}}function u9(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:f,marginLeft:c,marginRight:l,marginTop:u,marginBottom:d}=n,h=Dh();i=`url(#${h})`,e=et("svg:g",r).call(p=>p.append("svg:clipPath").attr("id",h).append("rect").attr("x",c).attr("y",u).attr("width",s-l-c).attr("height",f-u-d)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Dh();i=`url(#${f})`,e.append("clipPath").attr("id",f).append("path").attr("d",fa(s)({type:"Sphere"}));break}}ye(e,"aria-label",t.ariaLabel),ye(e,"aria-description",t.ariaDescription),ye(e,"aria-hidden",t.ariaHidden),ye(e,"clip-path",i)}function tn(e,t,n,r){u9(e,t,n,r),ye(e,"fill",t.fill),ye(e,"fill-opacity",t.fillOpacity),ye(e,"stroke",t.stroke),ye(e,"stroke-width",t.strokeWidth),ye(e,"stroke-opacity",t.strokeOpacity),ye(e,"stroke-linejoin",t.strokeLinejoin),ye(e,"stroke-linecap",t.strokeLinecap),ye(e,"stroke-miterlimit",t.strokeMiterlimit),ye(e,"stroke-dasharray",t.strokeDasharray),ye(e,"stroke-dashoffset",t.strokeDashoffset),ye(e,"shape-rendering",t.shapeRendering),ye(e,"filter",t.imageFilter),ye(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;ye(e,"pointer-events",i)}function nn(e,t){d9(e,"mix-blend-mode",t.mixBlendMode),ye(e,"opacity",t.opacity)}function Cb(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Mo.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Mo.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ye(e,t,n){n!=null&&e.attr(t,n)}function d9(e,t,n){n!=null&&e.style(t,n)}function rn(e,t,{x:n,y:r},i=Rt,a=Rt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function nt(e,t){if((e=Tt(e))!==t)return e}function Ii(e,t){if((e=qe(e))!==t)return e}const h9=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function eu(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!h9.test(e))throw new Error(`invalid class name: ${e}`);return e}function tu(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Da({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}class Ct{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:c,sort:l,dx:u=0,dy:d=0,margin:h=0,marginTop:p=h,marginRight:m=h,marginBottom:g=h,marginLeft:b=h,clip:v=i==null?void 0:i.clip,channels:_,tip:x,render:y}=r;if(this.data=t,this.sort=di(l)?l:null,this.initializer=hi(r).initializer,this.transform=this.initializer?r.transform:Wl(r).transform,a===null||a===!1?this.facet=null:(this.facet=hn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===_o&&typeof f=="string"?[f]:f,this.fy=t===_o&&typeof c=="string"?[c]:c),this.facetAnchor=P7(s),n=tb(n),_!==void 0&&(n={...p9(_),...n}),i!==void 0&&(n={...n9(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([w,S])=>{if(js(S.value)){const{value:M,label:A=S.label,scale:D=S.scale}=S.value;S={...S,label:A,scale:D,value:M}}if(t===_o&&typeof S.value=="string"){const{value:M}=S;S={...S,value:[M]}}return[w,S]}).filter(([w,{value:S,optional:M}])=>{if(S!=null)return!0;if(M)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+b,this.clip=nb(v),this.tip=g9(x),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:S}=n[w];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=Nb(y,this.render))}initialize(t,n,r){let i=qt(this.data);t===void 0&&i!=null&&(t=[mr(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=qt(i)),t!==void 0&&(t.original=a);const s=F8(this.channels,i);return this.sort!=null&&B8(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=dr}=n[i];if(a!==null){const s=r[i];t=t.filter(f=>a(s[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&W7(i,a,n,r.projection)}}scale(t,n,r){const i=P8(t,n);return r.projection&&this.project(t,i,r),i}}function Db(...e){return e.plot=Ct.prototype.plot,e}function Nb(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,f){return e.call(this,n,r,i,a,s,(c,l,u,d,h)=>t.call(this,c,l,u,d,h,f))}}function p9(e){return Object.fromEntries(Object.entries(tb(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:qs(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function g9(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?hn(e,"tip",["x","y","xy"]):e}function nu(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Rr(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function m9(e,t,n={}){let r=.5-Rt,i=.5+Rt,a=.5+Rt,s=.5-Rt;for(const{marginTop:g,marginRight:b,marginBottom:v,marginLeft:_}of t)g>r&&(r=g),b>i&&(i=b),v>a&&(a=v),_>s&&(s=_);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:l=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:d=f!==void 0?f:s}=n;c=+c,l=+l,u=+u,d=+d;let{width:h=640,height:p=b9(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,c-r+u-a)}=n;h=+h,p=+p;const m={width:h,height:p,marginTop:c,marginRight:l,marginBottom:u,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:v=g!==void 0?g:l,marginBottom:_=g!==void 0?g:u,marginLeft:x=g!==void 0?g:d}=n.facet??{};b=+b,v=+v,_=+_,x=+x,m.facet={marginTop:b,marginRight:v,marginBottom:_,marginLeft:x}}return m}function b9({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){const d=n?n.scale.domain().length:1,h=X7(i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*h,b=Math.max(.1,Math.min(10,g));return Math.round((s-u-c)*b+f+l)}const p=t?jr(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Nh("y",t)/(Nh("x",e)*a),g=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,v=g*(s-u-c)-e.insetLeft-e.insetRight;return(m*v+t.insetTop+t.insetBottom)/b+f+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Nh(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=ir(r);return Math.abs(i(s)-i(a))}const Ih=new WeakMap;function ru(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:c,...l}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...l,render:Nb(function(u,d,h,p,m,g){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:v}=m.getMarkState(this);let _=Ih.get(b);_||Ih.set(b,_={sticky:!1,roots:[],renders:[]});let x=_.renders.push(ee)-1;const{x:y,y:w,fx:S,fy:M}=d;let A=S?S(u.fx)-p.marginLeft:0,D=M?M(u.fy)-p.marginTop:0;y!=null&&y.bandwidth&&(A+=y.bandwidth()/2),w!=null&&w.bandwidth&&(D+=w.bandwidth()/2);const I=u.fi!=null;let k;if(I){let Y=_.facetStates;Y||(_.facetStates=Y=new Map),k=Y.get(this),k||Y.set(this,k=new Map)}const[E,B]=Da(this,p),{px:F,py:T}=h,z=F?Y=>F[Y]:Ib(h,E),Q=T?Y=>T[Y]:Lb(h,B);let re,te,W,V;function J(Y,fe){if(I)if(V&&(V=cancelAnimationFrame(V)),Y==null)k.delete(u.fi);else{k.set(u.fi,fe),V=requestAnimationFrame(()=>{V=null;for(const[C,U]of k)if(U<fe||U===fe&&C<u.fi){Y=null;break}ee(Y)});return}ee(Y)}function ee(Y){if(re===Y&&W===_.sticky)return;re=Y,W=m.pointerSticky=_.sticky;const fe=re==null?[]:[re];I&&(fe.fx=u.fx,fe.fy=u.fy,fe.fi=u.fi);const C=g(fe,d,h,p,m);if(te){if(I){const U=te.parentNode,X=te.getAttribute("transform"),j=C.getAttribute("transform");X?C.setAttribute("transform",X):C.removeAttribute("transform"),j?U.setAttribute("transform",j):U.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}te.replaceWith(C)}return _.roots[x]=te=C,re==null&&(k==null?void 0:k.size)>1||m.dispatchValue(re==null?null:v[re]),C}function $(Y){if(_.sticky||Y.pointerType==="mouse"&&Y.buttons===1)return;let[fe,C]=dc(Y);fe-=A,C-=D;const U=fe<p.marginLeft||fe>p.width-p.marginRight?1:e,X=C<p.marginTop||C>p.height-p.marginBottom?1:t;let j=null,ce=s*s;for(const se of u){const de=U*(z(se)-fe),me=X*(Q(se)-C),H=de*de+me*me;H<=ce&&(j=se,ce=H)}if(j!=null&&(e!==1||t!==1)){const se=z(j)-fe,de=Q(j)-C;ce=se*se+de*de}J(j,ce)}function ne(Y){Y.pointerType==="mouse"&&re!=null&&(_.sticky&&_.roots.some(fe=>fe==null?void 0:fe.contains(Y.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(fe=>fe(null))):(_.sticky=!0,ee(re)),Y.stopImmediatePropagation()))}function ue(Y){Y.pointerType==="mouse"&&(_.sticky||J(null))}return b.addEventListener("pointerenter",$),b.addEventListener("pointermove",$),b.addEventListener("pointerdown",ne),b.addEventListener("pointerleave",ue),ee(null)},c)}}function y9(e){return ru(1,1,e)}function _9(e){return ru(1,.01,e)}function Lh(e){return ru(.01,1,e)}function Ib({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Lb({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Ob(e){return jr(e)&&e.interval===void 0?void 0:"tabular-nums"}function v9(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:l=0,style:u,ticks:d=(i-l-f)/64,tickFormat:h,fontVariant:p=Ob(e),round:m=!0,opacity:g,className:b}=t;const v=Ql(t);b=eu(b),g=gt(g)[1],h===null&&(h=()=>null);const _=et("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(E=>E.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(tu,u);let x=E=>E.selectAll(".tick line").attr("y1",s+c-a),y;const w=m?(E,B)=>E.rangeRound(B):(E,B)=>E.range(B),{type:S,domain:M,range:A,interpolate:D,scale:I,pivot:k}=e;if(D){const E=A===void 0?D:xs(D.length===1?Kl(D):D,A);y=w(I.copy(),ln(fr(l,i-f),Math.min(M.length+(k!==void 0),A===void 0?1/0:A.length)));const B=256,F=v.document.createElement("canvas");F.width=B,F.height=1;const T=F.getContext("2d");for(let z=0,Q=B-1;z<B;++z)T.fillStyle=E(z/Q),T.fillRect(z,0,1,1);_.append("image").attr("opacity",g).attr("x",l).attr("y",s).attr("width",i-l-f).attr("height",a-s-c).attr("preserveAspectRatio","none").attr("xlink:href",F.toDataURL())}else if(S==="threshold"){const E=M,B=h===void 0?F=>F:typeof h=="string"?vi(h):h;y=w(Ml().domain([-1,A.length-1]),[l,i-f]),_.append("g").attr("fill-opacity",g).selectAll().data(A).enter().append("rect").attr("x",(F,T)=>y(T-1)).attr("y",s).attr("width",(F,T)=>y(T)-y(T-1)).attr("height",a-s-c).attr("fill",F=>F),d=st(E,(F,T)=>T),h=F=>B(E[F],F)}else y=w(As().domain(M),[l,i-f]),_.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",y).attr("y",s).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-s-c).attr("fill",I),x=()=>{};return _.append("g").attr("transform",`translate(0,${a-c})`).call(J_(y).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",nt(p,"normal")).call(x).call(E=>E.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",l).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const Fb=Math.PI/180;function Xs(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Uf(n),e.markerMid=Uf(r),e.markerEnd=Uf(i)}function Uf(e){if(e==null||e===!1)return null;if(e===!0)return Fh;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Oh("auto");case"arrow-reverse":return Oh("auto-start-reverse");case"dot":return w9;case"circle":case"circle-fill":return Fh;case"circle-stroke":return x9;case"tick":return Vf("auto");case"tick-x":return Vf(90);case"tick-y":return Vf(0)}throw new Error(`invalid marker: ${e}`)}function Oh(e){return(t,n)=>et("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function w9(e,t){return et("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Fh(e,t){return et("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function x9(e,t){return et("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Vf(e){return(t,n)=>et("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let S9=0;function iu(e,t,{stroke:n},r){return Pb(e,t,n&&(i=>n[i]),r)}function k9(e,t,{stroke:n},r){return Pb(e,t,n&&(([i])=>n[i]),r)}function Pb(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function c(l){return function(u){const d=a(u);let h=f.get(l);h||f.set(l,h=new Map);let p=h.get(d);if(!p){const m=this.parentNode.insertBefore(l(d,s),this),g=`plot-marker-${++S9}`;m.setAttribute("id",g),h.set(d,p=`url(#${g})`)}return p}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}function au({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Bb(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function ou({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Bb(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Bb(e,t,n){return e===void 0&&t===void 0&&n===void 0?Rt?[1,0]:[.5,.5]:[t,n]}function Rb(e,{interval:t}){return e={...qs(e)},e.interval=zl(e.interval===void 0?t:e.interval),e}function Gs(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:f,interval:c}=Rb(i,n);if(f==null||c==null&&!r)return n;const l=Sa(i);if(c==null){let p;const m={transform:g=>p||(p=Zt(g,f)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?m:a,[`${e}2`]:s===void 0&&!(a===s&&r)?m:s}}let u,d;function h(p){return d!==void 0&&p===u?d:d=st(Zt(u=p,f),m=>c.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:l}:a,[`${e}2`]:s===void 0?{transform:p=>h(p).map(m=>c.offset(m)),label:l}:s})}function $b(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Rb(r,n);return i==null||a==null?n:t({...n,[e]:{label:Sa(r),transform:s=>{const f=st(Zt(s,i),l=>a.floor(l)),c=f.map(l=>a.offset(l));return f.map(Qt(f)?(l,u)=>l==null||isNaN(l=+l)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=c[u],u==null)?NaN:(+l+ +u)/2)}}})}function M9(e={}){return Gs("x",au,e,!0)}function jb(e={}){return Gs("y",ou,e,!0)}function A9(e={}){return Gs("x",au,e)}function E9(e={}){return Gs("y",ou,e)}function T9(e={}){return $b("x",au,e)}function C9(e={}){return $b("y",ou,e)}const qb={ariaLabel:"rule",fill:null,stroke:"currentColor"};class D9 extends Ct{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:c=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},nu(n,"x"),qb),this.insetTop=qe(f),this.insetBottom=qe(c),Xs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y1:l,y2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetTop:v,insetBottom:_}=this;return et("svg:g",a).call(tn,this,i,a).call(rn,this,{x:c&&s},Rt,0).call(x=>x.selectAll().data(t).enter().append("line").call(nn,this).attr("x1",c?y=>c[y]:(g+d-m)/2).attr("x2",c?y=>c[y]:(g+d-m)/2).attr("y1",l&&!rr(f)?y=>l[y]+v:p+v).attr("y2",u&&!rr(f)?f.bandwidth?y=>u[y]+f.bandwidth()-_:y=>u[y]-_:h-b-_).call(Dn,this,r).call(iu,this,r,a)).node()}}class N9 extends Ct{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:c=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},nu(n,"y"),qb),this.insetRight=qe(f),this.insetLeft=qe(c),Xs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{y:c,x1:l,x2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetLeft:v,insetRight:_}=this;return et("svg:g",a).call(tn,this,i,a).call(rn,this,{y:c&&f},0,Rt).call(x=>x.selectAll().data(t).enter().append("line").call(nn,this).attr("x1",l&&!rr(s)?y=>l[y]+v:g+v).attr("x2",u&&!rr(s)?s.bandwidth?y=>u[y]+s.bandwidth()-_:y=>u[y]-_:d-m-_).attr("y1",c?y=>c[y]:(p+h-b)/2).attr("y2",c?y=>c[y]:(p+h-b)/2).call(Dn,this,r).call(iu,this,r,a)).node()}}function su(e,t){let{x:n=zt,y:r,y1:i,y2:a,...s}=E9(t);return[i,a]=zb(r,i,a),new D9(e,{...s,x:n,y1:i,y2:a})}function fu(e,t){let{y:n=zt,x:r,x1:i,x2:a,...s}=A9(t);return[i,a]=zb(r,i,a),new N9(e,{...s,y:n,x1:i,x2:a})}function zb(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function cu(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const I9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ub="­";class lu extends Ct{constructor(t,n={}){const{x:r,y:i,text:a=$r(t)&&eb(t)?zt:Xm,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:c=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:d,monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:b,fontWeight:v,rotate:_}=n,[x,y]=gt(_,0),[w,S]=R9(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:o8(x),optional:!0},text:{value:a,filter:Bl,optional:!0}},n,I9),this.rotate=y,this.textAnchor=nt(f,"middle"),this.lineAnchor=hn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=Vb(d),this.monospace=!!h,this.fontFamily=Tt(p),this.fontSize=S,this.fontStyle=Tt(g),this.fontVariant=Tt(b),this.fontWeight=Tt(v),this.frameAnchor=Us(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=Wb(this),this.clipLine=Yb(this)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,rotate:u,text:d,title:h,fontSize:p}=r,{rotate:m}=this,[g,b]=Da(this,i);return et("svg:g",a).call(tn,this,i,a).call(Hb,this,d,i).call(rn,this,{x:c&&s,y:l&&f}).call(v=>v.selectAll().data(t).enter().append("text").call(nn,this).call(L9,this,d,h).attr("transform",cu`translate(${c?_=>c[_]:g},${l?_=>l[_]:b})${u?_=>` rotate(${u[_]})`:m?` rotate(${m})`:""}`).call(ye,"font-size",p&&(_=>p[_])).call(Dn,this,r)).node()}}function Vb(e){return e==null?null:hn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function L9(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:c}=t;e.each(function(l){const u=f(pi(n[l])??"").map(c),d=u.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let p=0;for(let m=0;m<d;++m){if(++p,!u[m])continue;const g=this.ownerDocument.createElementNS(Mo.svg,"tspan");g.setAttribute("x",0),m===p-1?g.setAttribute("y",`${(h+m)*a}em`):g.setAttribute("dy",`${p*a}em`),g.textContent=u[m],this.appendChild(g),p=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=u[0];if(s&&!r&&u[0]!==n[l]){const p=this.ownerDocument.createElementNS(Mo.svg,"title");p.textContent=n[l],this.appendChild(p)}})}function Ks(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=xa(t,n)),new lu(e,{...r,x:t,y:n})}function O9(e,{x:t=zt,...n}={}){return new lu(e,C9({...n,x:t}))}function F9(e,{y:t=zt,...n}={}){return new lu(e,T9({...n,y:t}))}function Hb(e,t,n){ye(e,"text-anchor",t.textAnchor),ye(e,"font-family",t.fontFamily),ye(e,"font-size",t.fontSize),ye(e,"font-style",t.fontStyle),ye(e,"font-variant",t.fontVariant===void 0?P9(n):t.fontVariant),ye(e,"font-weight",t.fontWeight)}function P9(e){return e&&(c8(e)||Qt(e))?"tabular-nums":void 0}const B9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function R9(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),B9.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function $9(e,t,n){const r=[];let i,a=0;for(const[s,f,c]of j9(e)){if(i===void 0&&(i=s),a>i&&n(e,i,f)>t&&(r.push(e.slice(i,a)+(e[a-1]===Ub?"-":"")),i=s),c){r.push(e.slice(i,f)),i=void 0;continue}a=f}return r}function*j9(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Ub:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Ph={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function uu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xi(e,i))r+=Ph[e[i]]??(Gb(e,i)?120:Ph.e);return r}function du(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xi(e,i))r+=Gb(e,i)?126:63;return r}function Wb({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?du:uu,i=t*100;return a=>$9(a,i,r)}function Yb({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?du:uu,i=t*100;switch(n){case"clip-start":return a=>Rh(a,i,r,"");case"clip-end":return a=>Bh(a,i,r,"");case"ellipsis-start":return a=>Rh(a,i,r,ti);case"ellipsis-middle":return a=>q9(a,i,r,ti);case"ellipsis-end":return a=>Bh(a,i,r,ti)}}const ti="…";function gi(e,t,n,r){const i=[];let a=0;for(let s=0,f=0,c=e.length;s<c;s=f){f=xi(e,s);const l=n(e,s,f);if(a+l>t){for(a+=r;a>t&&s>0;)f=s,s=i.pop(),a-=n(e,s,f);return[s,t-a]}a+=l,i.push(s)}return[-1,0]}function Bh(e,t,n,r){e=e.trim();const i=n(r),[a]=gi(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function q9(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,f]=gi(e,t/2,n,a),[c]=gi(e,i-t/2-f+a,n,-a);return c<0?r:e.slice(0,s).trimEnd()+r+e.slice(xi(e,c)).trimStart()}function Rh(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=gi(e,i-t+a,n,-a);return s<0?r:r+e.slice(xi(e,s)).trimStart()}const Xc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,$h=/\p{Extended_Pictographic}/uy;function xi(e,t){return t+=z9(e,t)?2:1,V9(e,t)&&(t=Xc.lastIndex),U9(e,t)?xi(e,t+1):t}function Xb(e,t){return e.charCodeAt(t)<128}function z9(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function U9(e,t){return e.charCodeAt(t)===8205}function V9(e,t){return Xb(e,t)?!1:(Xc.lastIndex=t,Xc.test(e))}function Gb(e,t){return Xb(e,t)?!1:($h.lastIndex=t,$h.test(e))}const H9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Kb=3.5,W9=Kb*5,Zb={draw(e,t,n){const r=t*n/W9;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},Y9={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},X9=new Map([["arrow",Zb],["spike",Y9]]);function G9(e){return e&&typeof e.draw=="function"}function K9(e){if(G9(e))return e;const t=X9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let Jb=class extends Ct{constructor(t,n={}){const{x:r,y:i,r:a=Kb,length:s,rotate:f,shape:c=Zb,anchor:l="middle",frameAnchor:u}=n,[d,h]=gt(s,12),[p,m]=gt(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,H9),this.r=+a,this.length=h,this.rotate=m,this.shape=K9(c),this.anchor=hn(l,"anchor",["start","middle","end"]),this.frameAnchor=Us(u)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,length:u,rotate:d}=r,{length:h,rotate:p,anchor:m,shape:g,r:b}=this,[v,_]=Da(this,i);return et("svg:g",a).call(tn,this,i,a).call(rn,this,{x:c&&s,y:l&&f}).call(x=>x.selectAll().data(t).enter().append("path").call(nn,this).attr("transform",cu`translate(${c?y=>c[y]:v},${l?y=>l[y]:_})${d?y=>` rotate(${d[y]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${h})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${h/2})`}`).attr("d",u?y=>{const w=Qn();return g.draw(w,u[y],b),w}:(()=>{const y=Qn();return g.draw(y,h,b),y})()).call(Dn,this,r)).node()}};function Z9(e,t={}){const{x:n=zt,...r}=t;return new Jb(e,{...r,x:n})}function J9(e,t={}){const{y:n=zt,...r}=t;return new Jb(e,{...r,y:n})}function yr(e,t){return arguments.length<2&&!$r(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Zs({anchor:e}={},t){return e===void 0?t[0]:hn(e,"anchor",t)}function Qb(e){return Zs(e,["left","right"])}function ey(e){return Zs(e,["right","left"])}function ty(e){return Zs(e,["bottom","top"])}function ny(e){return Zs(e,["top","bottom"])}function Na(){const[e,t]=yr(...arguments);return ry("y",Qb(t),e,t)}function Q9(){const[e,t]=yr(...arguments);return ry("fy",ey(t),e,t)}function Si(){const[e,t]=yr(...arguments);return iy("x",ty(t),e,t)}function ex(){const[e,t]=yr(...arguments);return iy("fx",ny(t),e,t)}function ry(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="y"?6:0,tickPadding:g,tickRotate:b,x:v,margin:_,marginTop:x=_===void 0?20:_,marginRight:y=_===void 0?t==="right"?40:0:_,marginBottom:w=_===void 0?20:_,marginLeft:S=_===void 0?t==="left"?40:0:_,label:M,labelAnchor:A,labelArrow:D,labelOffset:I,...k}){return m=qe(m),g=qe(g),b=qe(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","top","bottom"])),D=dy(D),Db(m&&!Nt(a)?tx(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,x:v,...k}):null,Nt(c)?null:rx(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,x:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:S,...k}),!Nt(c)&&M!==null?Ks([],fy({fill:c,fillOpacity:l,...k},function(E,B,F,T,z){const Q=T[e],{marginTop:re,marginRight:te,marginBottom:W,marginLeft:V}=e==="y"&&z.inset||z,J=A??(Q.bandwidth?"center":"top"),ee=I??(t==="right"?te:V)-3;return J==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=J,this.frameAnchor=`${J}-${t}`,this.rotate=0),this.dy=J==="top"?3-re:J==="bottom"?W-3:0,this.dx=t==="right"?ee:-ee,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[uy(e,Q,{anchor:t,label:M,labelAnchor:J,labelArrow:D})]}}}})):null)}function iy(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="x"?6:0,tickPadding:g,tickRotate:b,y:v,margin:_,marginTop:x=_===void 0?t==="top"?30:0:_,marginRight:y=_===void 0?20:_,marginBottom:w=_===void 0?t==="bottom"?30:0:_,marginLeft:S=_===void 0?20:_,label:M,labelAnchor:A,labelArrow:D,labelOffset:I,...k}){return m=qe(m),g=qe(g),b=qe(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","left","right"])),D=dy(D),Db(m&&!Nt(a)?nx(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,y:v,...k}):null,Nt(c)?null:ix(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,y:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:S,...k}),!Nt(c)&&M!==null?Ks([],fy({fill:c,fillOpacity:l,...k},function(E,B,F,T,z){const Q=T[e],{marginTop:re,marginRight:te,marginBottom:W,marginLeft:V}=e==="x"&&z.inset||z,J=A??(Q.bandwidth?"center":"right"),ee=I??(t==="top"?re:W)-3;return J==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${J}`,this.textAnchor=J==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ee:ee,this.dx=J==="right"?te-3:J==="left"?3-V:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[uy(e,Q,{anchor:t,label:M,labelAnchor:J,labelArrow:D})]}}}})):null)}function tx(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:d=l,dx:h=0,y:p=e==="y"?void 0:null,...m}){return ki(J9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:p,...m,dx:t==="left"?+h-Rt+ +u:+h+Rt-d,anchor:"start",length:c,shape:t==="left"?dx:hx})}function nx(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:d=l,dy:h=0,x:p=e==="x"?void 0:null,...m}){return ki(Z9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:p,...m,dy:t==="bottom"?+h-Rt-d:+h+Rt+ +u,anchor:"start",length:c,shape:t==="bottom"?lx:ux})}function rx(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Fb):0),text:c,textAnchor:l=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:u=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y:b=e==="y"?void 0:null,...v}){return ki(F9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,y:b,...v,dx:t==="left"?+g-a-f+ +p:+g+ +a+ +f-m},function(_,x,y,w,S){d===void 0&&(this.fontVariant=ly(_)),c===void 0&&(S.text=cy(_,x,y,w,t))})}function ix(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Fb):0),text:c,textAnchor:l=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:b=e==="x"?void 0:null,...v}){return ki(O9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,x:b,...v,dy:t==="bottom"?+g+ +a+ +f-m:+g-a-f+ +p},function(_,x,y,w,S){d===void 0&&(this.fontVariant=ly(_)),c===void 0&&(S.text=cy(_,x,y,w,t))})}function ax(){const[e,t]=yr(...arguments);return ay("y",Qb(t),e,t)}function ox(){const[e,t]=yr(...arguments);return ay("fy",ey(t),e,t)}function sx(){const[e,t]=yr(...arguments);return oy("x",ty(t),e,t)}function fx(){const[e,t]=yr(...arguments);return oy("fx",ny(t),e,t)}function ay(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...f}){return ki(fu,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...sy(f)})}function oy(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...f}){return ki(su,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...sy(f)})}function sy({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function fy({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u=!1},d){return[,e]=Or(e),[,t]=gt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u,initializer:d}}function ki(e,t,n,r,i,a){let s;function f(u,d,h,p,m,g){const b=u==null&&(t==="fx"||t==="fy"),{[t]:v}=p;if(!v)throw new Error(`missing scale: ${t}`);const _=v.domain();let{interval:x,ticks:y,tickFormat:w,tickSpacing:S=t==="x"?80:35}=i;if(typeof y=="string"&&hy(v)&&(x=y,y=void 0),y===void 0&&(y=ka(x,v.type)??cx(v,S)),u==null){if($r(y))u=qt(y);else if(a8(y))u=Hf(y,...ir(_));else if(v.interval){let A=v.interval;if(v.ticks){const[D,I]=ir(_),k=(I-D)/A[va];A=sh(A,k/y)??A,u=Hf(A,D,I)}else{u=_;const D=u.length;A=sh(A,D/y)??A,A!==v.interval&&(u=Hf(A,...ir(u)))}if(A===v.interval){const D=Math.round(u.length/y);D>1&&(u=u.filter((I,k)=>k%D===0))}}else v.ticks?u=v.ticks(y):u=_;if(!v.ticks&&u.length&&u!==_){const A=new vs(_);u=u.filter(D=>A.has(D)),u.length||or(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[mr(u)]:s[t]={scale:t,value:zt}}a==null||a.call(this,v,u,y,w,s);const M=Object.fromEntries(Object.entries(s).map(([A,D])=>[A,{...D,value:Zt(u,D.value)}]));return b&&(d=g.filterFacets(u,M)),{data:u,facets:d,channels:M}}const c=hi(i).initializer,l=e(n,hi({...i,initializer:f},c));return n==null?(s=l.channels,l.channels={}):s={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function cx(e,t){const[n,r]=ir(e.range());return(r-n)/t}function cy(e,t,n,r,i){return{value:hu(e,t,n,r,i)}}function hu(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Qt(t)?j4(e.type,t,i)??pi:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?pi:typeof r=="string"?(Qt(e.domain())?ya:vi)(r):wa(r)}function Hf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const lx={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},ux={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},dx={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},hx={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ly(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function uy(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&hy(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=k7(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function dy(e="auto"){return Nt(e)?!1:typeof e=="boolean"?e:hn(e,"labelArrow",["auto","up","right","down","left"])}function hy(e){return Qt(e.domain())}function jh(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function px(e,{opacity:t,...n}={}){if(!jr(e)&&!kb(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return py(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",gt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function gx(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:Nt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},c){const[d,h]=Or(t),[p,m]=Or(r),g=jh(c,d),b=jh(c,p),v=s*s*Math.PI;return n=gt(n)[1],i=gt(i)[1],a=gt(a)[1],py(e,f,(_,x,y,w)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",w).attr("fill",d==="color"?S=>g.scale(S):h).attr("fill-opacity",n).attr("stroke",p==="color"?S=>b.scale(S):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",S=>{const M=Qn();return e.scale(S).draw(M,v),M}))}function py(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Ob(e),swatchSize:s=15,swatchWidth:f=s,swatchHeight:c=s,marginLeft:l=0,className:u,style:d,width:h}=t;const p=Ql(t);u=eu(u),i=hu(e.scale,e.domain,void 0,i);const m=et("div",p).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,f,c).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",nt(a,"normal")).call(tu,d).node()}const Gc=new Map([["symbol",gx],["color",my],["opacity",bx]]);function mx(e,t,n={}){return(r,i)=>{if(!Gc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Gc.get(r)(e[r],gy(t,n[r],i),a=>e[a])}}function gy({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return h8(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function my(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return px(e,n);case"ramp":return v9(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function bx({type:e,interpolate:t,...n},{legend:r=!0,color:i=ko(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return my({type:e,...n,interpolate:yx(i)},{legend:r,...a})}function yx(e){const{r:t,g:n,b:r}=ko(e)||ko(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function _x(e,t,n){const r=[];for(const[i,a]of Gc){const s=n[i];if(s!=null&&s.legend&&i in e){const f=a(e[i],gy(t,e[i],s),c=>e[c]);f!=null&&r.push(f)}}return r}const vx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},wx={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class xx extends Ct{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:c,ry:l}=t;super(_o,void 0,t,n==null?vx:wx),this.anchor=Km(n,"anchor",["top","right","bottom","left"]),this.insetTop=qe(i),this.insetRight=qe(a),this.insetBottom=qe(s),this.insetLeft=qe(f),this.rx=qe(c),this.ry=qe(l)}render(t,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:c,marginLeft:l,width:u,height:d}=i,{anchor:h,insetTop:p,insetRight:m,insetBottom:g,insetLeft:b,rx:v,ry:_}=this,x=l+b,y=u-f-m,w=s+p,S=d-c-g;return et(h?"svg:line":"svg:rect",a).datum(0).call(tn,this,i,a).call(nn,this).call(Dn,this,r).call(rn,this,{}).call(h==="left"?M=>M.attr("x1",x).attr("x2",x).attr("y1",w).attr("y2",S):h==="right"?M=>M.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",S):h==="top"?M=>M.attr("x1",x).attr("x2",y).attr("y1",w).attr("y2",w):h==="bottom"?M=>M.attr("x1",x).attr("x2",y).attr("y1",S).attr("y2",S):M=>M.attr("x",x).attr("y",w).attr("width",y-x).attr("height",S-w).attr("rx",v).attr("ry",_)).node()}}function by(e){return new xx(e)}const Wf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Sx=new Set(["geometry","href","src","ariaLabel","scales"]);class kx extends Ct{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&$r(t)&&eb(t)&&(n={...n,title:zt});const{x:r,y:i,x1:a,x2:s,y1:f,y2:c,anchor:l,preferredAnchor:u="bottom",monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:b,lineHeight:v=1,lineWidth:_=20,frameAnchor:x,format:y,textAnchor:w="start",textOverflow:S,textPadding:M=8,title:A,pointerSize:D=12,pathFilter:I="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:f==null},title:{value:A,optional:!0}},n,Wf),this.anchor=qc(l,"anchor"),this.preferredAnchor=qc(u,"preferredAnchor"),this.frameAnchor=Us(x),this.textAnchor=nt(w,"middle"),this.textPadding=+M,this.pointerSize=+D,this.pathFilter=Tt(I),this.lineHeight=+v,this.lineWidth=+_,this.textOverflow=Vb(S),this.monospace=!!d,this.fontFamily=Tt(h),this.fontSize=qe(p),this.fontStyle=Tt(m),this.fontVariant=Tt(g),this.fontWeight=Tt(b);for(const k in Wf)k in this.channels&&(this[k]=Wf[k]);this.splitLines=Wb(this),this.clipLine=Yb(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(t,n,r,i,a){const s=this,{x:f,y:c,fx:l,fy:u}=n,{ownerSVGElement:d,document:h}=a,{anchor:p,monospace:m,lineHeight:g,lineWidth:b}=this,{textPadding:v,pointerSize:_,pathFilter:x}=this,{marginTop:y,marginLeft:w}=i,{x1:S,y1:M,x2:A,y2:D,x:I=S??A,y:k=M??D}=r,E=l?l(t.fx)-w:0,B=u?u(t.fy)-y:0,[F,T]=Da(this,i),z=Ib(r,F),Q=Lb(r,T),re=m?du:uu,te=re(ti);let W,V;"title"in r?(W=qh.call(this,{title:r.channels.title},n),V=Cx):(W=qh.call(this,r.channels,n),V=Dx);const J=et("svg:g",a).call(tn,this,i,a).call(Hb,this).call(rn,this,{x:I&&f,y:k&&c}).call(ne=>ne.selectAll().data(t).enter().append("g").attr("transform",ue=>`translate(${Math.round(z(ue))},${Math.round(Q(ue))})`).call(nn,this).call(ue=>ue.append("path").attr("filter",x)).call(ue=>ue.append("text").each(function(Y){const fe=Dt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=V.call(s,Y,t,W,n,r);if(typeof C=="string")for(const U of s.splitLines(C))ee(fe,{value:s.clipLine(U)});else{const U=new Set;for(const X of C){const{label:j=""}=X;j&&U.has(j)||(U.add(j),ee(fe,X))}}})));function ee(ne,{label:ue,value:Y,color:fe,opacity:C}){ue??(ue=""),Y??(Y="");const U=fe!=null||C!=null;let X,j=b*100;const[ce]=gi(ue,j,re,te);if(ce>=0)ue=ue.slice(0,ce).trimEnd()+ti,X=Y.trim(),Y="";else{(ue||!Y&&!U)&&(Y=" "+Y);const[de]=gi(Y,j-re(ue),re,te);de>=0&&(X=Y.trim(),Y=Y.slice(0,de).trimEnd()+ti)}const se=ne.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");ue&&se.append("tspan").attr("font-weight","bold").text(ue),Y&&se.append(()=>h.createTextNode(Y)),U&&se.append("tspan").text(" ■").attr("fill",fe).attr("fill-opacity",C).style("user-select","none"),X&&se.append("title").text(X)}function $(){const{width:ne,height:ue}=i.facet??i;J.selectChildren().each(function(Y){let{x:fe,width:C,height:U}=this.getBBox();C=Math.round(C),U=Math.round(U);let X=p;if(X===void 0){const se=z(Y)+E,de=Q(Y)+B,me=se+C+_+v*2<ne,H=se-C-_-v*2>0,le=de+U+_+v*2<ue,_e=de-U-_-v*2>0;X=me&&H?le&&_e?s.preferredAnchor:_e?"bottom":"top":le&&_e?me?"left":"right":(me||H)&&(le||_e)?`${_e?"bottom":"top"}-${me?"left":"right"}`:s.preferredAnchor}const j=this.firstChild,ce=this.lastChild;if(j.setAttribute("d",Tx(X,_,v,C,U)),fe)for(const se of ce.childNodes)se.setAttribute("x",-fe);ce.setAttribute("y",`${+Ax(X,ce.childNodes.length,g).toFixed(6)}em`),ce.setAttribute("transform",`translate(${Ex(X,_,v,C,U)})`)}),J.attr("visibility",null)}return t.length&&(J.attr("visibility","hidden"),d.isConnected?Promise.resolve().then($):typeof requestAnimationFrame<"u"&&requestAnimationFrame($)),J.node()}}function Mx(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=xa(t,n)),new kx(e,{...r,x:t,y:n})}function Ax(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function Ex(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function Tx(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function qh(e,t){var i,a;const n={};let r=this.format;r=zh(r,e,"x"),r=zh(r,e,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const c=mh(e,s);c&&(n[s]=c)}}for(const s in e){if(s in n||s in r||Sx.has(s))continue;const f=mh(e,s);f&&(n[s]=f)}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const c=((i=n[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(Qt(c)?ya:vi)(f)}else if(f===void 0||f===!0){const c=t[s];this.format[s]=c!=null&&c.bandwidth?hu(c,c.domain()):pi}}return n}function zh(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function Cx(e,t,{title:n}){return this.format.title(n.value[e],e)}function*Dx(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:fs(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:Vh(r,n,"x"),value:Uh(this.format.x2,n.x1,s,e)};else if(a==="y2"&&"y1"in n)yield{label:Vh(r,n,"y"),value:Uh(this.format.y2,n.y1,s,e)};else{const f=s.value[e],c=s.scale;if(!dr(f)&&c==null)continue;yield{label:fs(r,n,a),value:this.format[a](f,e),color:c==="color"?i[a][e]:null,opacity:c==="opacity"?i[a][e]:null}}}}function Uh(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function Vh(e,t,n){const r=fs(e,t,`${n}1`,n),i=fs(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function fs(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function pu(e={}){var te;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=e,c=eu(e.className),l=e.marks===void 0?[]:Wh(e.marks);l.push(...Bx(l));const u=Fx(t,e),d=new Map;for(const W of l){const V=Yh(W,u,e);V&&d.set(W,V)}const h=new Map;u&&Li(h,[u],e),Li(h,d,e);const p=Wh(Rx(l,h,e));for(const W of p){const V=Yh(W,u,e);V&&d.set(W,V)}l.unshift(...p);let m=N7(h,e);if(m!==void 0){const W=u?zf(m,u):void 0;for(const J of l){if(J.facet===null||J.facet==="super")continue;const ee=d.get(J);ee!==void 0&&(ee.facetsIndex=J.fx!=null||J.fy!=null?zf(m,ee):W)}const V=new Set;for(const{facetsIndex:J}of d.values())J==null||J.forEach((ee,$)=>{(ee==null?void 0:ee.length)>0&&V.add($)});m.forEach(0<V.size&&V.size<m.length?(J,ee)=>J.empty=!V.has(ee):J=>J.empty=!1);for(const J of l)if(J.facet==="exclude"){const ee=d.get(J);ee!==void 0&&(ee.facetsIndex=O7(ee.facetsIndex))}}for(const W of Ue.keys())ss(e[W])&&W!=="fx"&&W!=="fy"&&h.set(W,[]);const g=new Map;for(const W of l){if(g.has(W))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:V,channels:J}=d.get(W)??{},{data:ee,facets:$,channels:ne}=W.initialize(V,J,e);gu(ne,e),g.set(W,{data:ee,facets:$,channels:ne})}const b=Hc(Li(h,g,e),e),v=m9(b,l,e);x7(b,v);const _=Sh(b),{fx:x,fy:y}=_,w=x||y?vb(b,v):v,S=x||y?Hx(_,v):v,M=Ql(e),A=M.document,D=fp("svg").call(A.documentElement);let I=D;M.ownerSVGElement=D,M.className=c,M.projection=U7(e,w),M.filterFacets=(W,V)=>zf(m,{channels:V,groups:Jl(W,V)}),M.getMarkState=W=>{const V=g.get(W),J=d.get(W);return{...V,channels:{...V.channels,...J==null?void 0:J.channels}}},M.dispatchValue=W=>{I.value!==W&&(I.value=W,I.dispatchEvent(new Event("input",{bubbles:!0})))};const k=new Set;for(const[W,V]of g)if(W.initializer!=null){const J=W.facet==="super"?S:w,ee=W.initializer(V.data,V.facets,V.channels,_,J,M);if(ee.data!==void 0&&(V.data=ee.data),ee.facets!==void 0&&(V.facets=ee.facets),ee.channels!==void 0){const{fx:$,fy:ne,...ue}=ee.channels;Ox(ue),Object.assign(V.channels,ue);for(const Y of Object.values(ue)){const{scale:fe}=Y;fe!=null&&!g8(Ue.get(fe))&&(yy(Y,e),k.add(fe))}($!=null||ne!=null)&&d.set(W,!0)}}if(k.size){const W=new Map;Li(W,g,e,$=>k.has($)),Li(h,g,e,$=>k.has($));const V=Vx(Hc(W,e),b),{scales:J,...ee}=Sh(V);Object.assign(b,V),Object.assign(_,ee),Object.assign(_.scales,J)}let E,B;m!==void 0&&(E={x:x==null?void 0:x.domain(),y:y==null?void 0:y.domain()},m=I7(m,E),B=L7(x,y,v));for(const[W,V]of g)V.values=W.scale(V.channels,_,M);const{width:F,height:T}=v;Dt(D).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",F).attr("height",T).attr("viewBox",`0 0 ${F} ${T}`).attr("aria-label",s).attr("aria-description",f).call(W=>W.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(tu,n);for(const W of l){const{channels:V,values:J,facets:ee}=g.get(W);if(m===void 0||W.facet==="super"){let $=null;if(ee&&($=ee[0],$=W.filter($,V,J),$.length===0))continue;const ne=W.render($,_,J,S,M);if(ne==null)continue;D.appendChild(ne)}else{let $;for(const ne of m){if(!(((te=W.facetAnchor)==null?void 0:te.call(W,m,E,ne))??!ne.empty))continue;let ue=null;if(ee){const fe=d.has(W);if(ue=ee[fe?ne.i:0],ue=W.filter(ue,V,J),ue.length===0)continue;!fe&&ue===ee[0]&&(ue=Q4(ue)),ue.fx=ne.x,ue.fy=ne.y,ue.fi=ne.i}const Y=W.render(ue,_,J,w,M);if(Y!=null){($??($=Dt(D).append("g"))).append(()=>Y).datum(ne);for(const fe of["aria-label","aria-description","aria-hidden","transform"])Y.hasAttribute(fe)&&($.attr(fe,Y.getAttribute(fe)),Y.removeAttribute(fe))}}$==null||$.selectChildren().attr("transform",B)}}const z=_x(b,M,e),{figure:Q=r!=null||i!=null||a!=null||z.length>0}=e;Q&&(I=A.createElement("figure"),I.className=`${c}-figure`,I.style.maxWidth="initial",r!=null&&I.append(Hh(A,r,"h2")),i!=null&&I.append(Hh(A,i,"h3")),I.append(...z,D),a!=null&&I.append(Nx(A,a)),"value"in D&&(I.value=D.value,delete D.value)),I.scale=D7(_.scales),I.legend=mx(b,M,e);const re=a7();return re>0&&Dt(D).append("text").attr("x",F).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),I}function Hh(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function Nx(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Wh(e){return e.flat(1/0).filter(t=>t!=null).map(Ix)}function Ix(e){return typeof e.render=="function"?e:new Lx(e)}class Lx extends Ct{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function gu(e,t){for(const n in e)yy(e[n],t);return e}function yy(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?c=>c==null?NaN:c*100:Qm(s,i)}=t[n]??{};f!=null&&(e.value=st(e.value,f),e.transform=!1)}function Ox(e){for(const t in e)ob(t,e[t])}function Li(e,t,n,r=H4){var i,a;for(const{channels:s}of t.values())for(const f in s){const c=s[f],{scale:l}=c;if(l!=null&&r(l))if(l==="projection"){if(!Y7(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(u||d){const[h,p]=G7(c);u&&Yf(e,"x",h),d&&Yf(e,"y",p)}}}else Yf(e,l,c)}return e}function Yf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Fx(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=qt(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=aa(i,{value:n,scale:"fx"})),r!=null&&(a.fy=aa(i,{value:r,scale:"fy"})),gu(a,t);const s=Jl(i,a);return{channels:a,groups:s,data:e.data}}function Yh(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=qt(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const u={};return r!=null&&(u.fx=aa(l,{value:r,scale:"fx"})),i!=null&&(u.fy=aa(l,{value:i,scale:"fy"})),gu(u,n),{channels:u,groups:Jl(l,u)}}if(t===void 0)return;const{channels:a,groups:s,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((c=qt(e.data))==null?void 0:c.length)===f.length&&or(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Px(e,t={}){return hi({...t,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(e))}function Bx(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?_9:/^y$/i.test(i)?Lh:y9,r=i(Px(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Lh?"left":"bottom");const s=Mx(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,t.push(s)}}return t}function Rx(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:c,grid:l,facet:u={},facet:{axis:d=c,grid:h}=u,x:{axis:p=c,grid:m=p===null?null:l}=i,y:{axis:g=c,grid:b=g===null?null:l}=a,fx:{axis:v=d,grid:_=v===null?null:h}=s,fy:{axis:x=d,grid:y=x===null?null:h}=f}=n;(r||!ss(i)&&!Xh("x",e))&&(p=m=null),(r||!ss(a)&&!Xh("y",e))&&(g=b=null),t.has("fx")||(v=_=null),t.has("fy")||(x=y=null),p===void 0&&(p=!io(e,"x")),g===void 0&&(g=!io(e,"y")),v===void 0&&(v=!io(e,"fx")),x===void 0&&(x=!io(e,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),v===!0&&(v=p==="top"||p===null?"bottom":"top"),x===!0&&(x=g==="right"||g===null?"left":"right");const w=[];return ro(w,y,ox,f),no(w,x,Q9,"right","left",u,f),ro(w,_,fx,s),no(w,v,ex,"top","bottom",u,s),ro(w,b,ax,a),no(w,g,Na,"left","right",n,a),ro(w,m,sx,i),no(w,p,Si,"bottom","top",n,i),w}function no(e,t,n,r,i,a,s){if(!t)return;const f=$x(t);s=jx(f?r:t,a,s);const{line:c}=s;(n===Na||n===Si)&&c&&!ia(c)&&e.push(by(qx(s))),e.push(n(s)),f&&e.push(n({...s,anchor:i,label:null}))}function ro(e,t,n,r){!t||ia(t)||e.push(n(zx(t,r)))}function $x(e){return/^\s*both\s*$/i.test(e)}function jx(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h=t.label,labelAnchor:p,labelArrow:m=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h,labelAnchor:p,labelArrow:m,labelOffset:g}}function qx(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function zx(e,{stroke:t=zs(e)?e:void 0,ticks:n=Ux(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Ux(e){switch(typeof e){case"number":return!0;case"string":return!zs(e)}return $r(e)||typeof(e==null?void 0:e.range)=="function"}function io(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Xh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function Vx(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Hx({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Zl(n),l=e&&Gh(e),u=t&&Gh(t);return{marginTop:t?u[0]:r,marginRight:e?f-l[1]:i,marginBottom:t?c-u[1]:a,marginLeft:e?l[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function Gh(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Wx=new Map([["basis",E6],["basis-closed",T6],["basis-open",C6],["bundle",D6],["bump-x",m6],["bump-y",b6],["cardinal",N6],["cardinal-closed",I6],["cardinal-open",L6],["catmull-rom",O6],["catmull-rom-closed",F6],["catmull-rom-open",P6],["linear",Os],["linear-closed",B6],["monotone-x",R6],["monotone-y",$6],["natural",j6],["step",q6],["step-after",U6],["step-before",z6]]);function Yx(e=Os,t){if(typeof e=="function")return e;const n=Wx.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function _y(e=mi,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?mi:Yx(e,t)}function mi(e){return Os(e)}function Xx(e={}){return Zm(e)?e:{...e,x:zt}}function Gx(e,t){if(t.length===1)return{data:e,facets:t};const n=e.length,r=new Uint8Array(n);let i=0;for(const f of t)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=ra(e);const a=e[Wm]=new Uint32Array(n+i);t=t.map(f=>ra(f,Uint32Array));let s=n;r.fill(0);for(const f of t)for(let c=0,l=f.length;c<l;++c){const u=f[c];r[u]?(f[c]=s,e[s]=e[u],a[s]=u,++s):a[u]=u,r[u]=1}return{data:e,facets:t}}function Kx(e={},t={}){arguments.length===1&&([e,t]=Jx(e));const{y1:n,y:r=n,x:i,...a}=t,[s,f,c,l]=eS(r,i,"y","x",e,a);return{...s,y1:n,y:f,x1:c,x2:l,x:t8(c,l)}}function Zx({x:e,x1:t,x2:n,...r}={}){return r=nu(r,"y"),t===void 0&&n===void 0?Kx({x:e,...r}):([t,n]=J4(e,t,n),{...r,x1:t,x2:n})}function Jx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const Qx={length:!0};function eS(e,t=V4,n,r,{offset:i,order:a,reverse:s},f){if(t===null)throw new Error(`stack requires ${r}`);const c=Jm(f),[l,u]=e8(e),[d,h]=jc(t),[p,m]=jc(t);return d.hint=p.hint=Qx,i=tS(i),a=iS(a,i,r),[Wl(f,(g,b,v)=>{({data:g,facets:b}=Gx(g,b));const _=e==null?void 0:u(n8(Zt(g,e),v==null?void 0:v[n])),x=Zt(g,t,Float64Array),y=Zt(g,c),w=a&&a(g,_,x,y),S=g.length,M=h(new Float64Array(S)),A=m(new Float64Array(S)),D=[];for(const I of b){const k=_?Array.from(dl(I,E=>_[E]).values()):[I];if(w)for(const E of k)E.sort(w);for(const E of k){let B=0,F=0;s&&E.reverse();for(const T of E){const z=x[T];z<0?B=A[T]=(M[T]=B)+z:z>0?F=A[T]=(M[T]=F)+z:A[T]=M[T]=F}}D.push(k)}return i&&i(D,M,A,y),{data:g,facets:b}}),l,d,p]}function tS(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return nS;case"center":case"silhouette":return rS;case"wiggle":return wy}throw new Error(`unknown offset: ${e}`)}}function vy(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function nS(e,t,n){for(const r of e)for(const i of r){const[a,s]=vy(i,n);for(const f of i){const c=1/(s-a||1);t[f]=c*(t[f]-a),n[f]=c*(n[f]-a)}}}function rS(e,t,n){for(const r of e){for(const i of r){const[a,s]=vy(i,n);for(const f of i){const c=(s+a)/2;t[f]-=c,n[f]-=c}}xy(r,t,n)}Sy(e,t,n)}function wy(e,t,n,r){for(const i of e){const a=new Cr;let s=0;for(const f of i){let c=-1;const l=f.map(p=>Math.abs(n[p]-t[p])),u=f.map(p=>{c=r?r[p]:++c;const m=n[p]-t[p],g=a.has(c)?m-a.get(c):0;return a.set(c,m),g}),d=[0,...D_(u)];for(const p of f)t[p]+=s,n[p]+=s;const h=Dr(l);h&&(s-=Dr(l,(p,m)=>(u[m]/2+d[m])*p)/h)}xy(i,t,n)}Sy(e,t,n)}function xy(e,t,n){const r=Mn(e,i=>Mn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Sy(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),a=i.map(f=>(Mn(f,c=>t[c])+$t(f,c=>n[c]))/2),s=Mn(a);for(let f=0;f<r;f++){const c=s-a[f];for(const l of i[f])t[l]+=c,n[l]+=c}}function iS(e,t,n){if(e===void 0&&t===wy)return Kh(En);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?os:En;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return aS(i);case"z":return oS(i);case"sum":return sS(i);case"appearance":return fS(i);case"inside-out":return Kh(i)}return Zh(Ym(e))}if(typeof e=="function")return(e.length===1?Zh:cS)(e);if(Array.isArray(e))return lS(e);throw new Error(`invalid order: ${e}`)}}function aS(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function oS(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function sS(e){return Js(e,(t,n,r,i)=>pl(mr(t),a=>Dr(a,s=>r[s]),a=>i[a]))}function fS(e){return Js(e,(t,n,r,i)=>pl(mr(t),a=>n[xp(a,s=>r[s])],a=>i[a]))}function Kh(e){return Js(e,(t,n,r,i)=>{const a=mr(t),s=pl(a,d=>n[xp(d,h=>r[h])],d=>i[d]),f=zi(a,d=>Dr(d,h=>r[h]),d=>i[d]),c=[],l=[];let u=0;for(const d of s)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),l.push(d));return l.reverse().concat(c)})}function Zh(e){return t=>{const n=Zt(t,e);return(r,i)=>En(n[r],n[i])}}function cS(e){return t=>(n,r)=>e(t[n],t[r])}function lS(e){return Js(En,()=>e)}function Js(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new Cr(t(n,r,i,a).map((f,c)=>[f,c]));return(f,c)=>e(s.get(a[f]),s.get(a[c]))}}const uS={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class dS extends Ct{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,uS),this.curve=_y(f,c),Xs(this,n)}project(t,n,r){this.curve!==mi&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:s,y1:f,x2:c=s,y2:l=f}=r,{curve:u}=this;return et("svg:g",a).call(tn,this,i,a).call(rn,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(nn,this).attr("d",u===mi&&a.projection?hS(a.projection,s,f,c,l):h=>{const p=Qn(),m=u(p);return m.lineStart(),m.point(s[h],f[h]),m.point(c[h],l[h]),m.lineEnd(),p}).call(Dn,this,r).call(iu,this,r,a)).node()}}function hS(e,t,n,r,i){const a=fa(e);return t=nr(t),n=nr(n),r=nr(r),i=nr(i),s=>a({type:"LineString",coordinates:[[t[s],n[s]],[r[s],i[s]]]})}function Kc(e,{x:t,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=Jh(t,n,r),[a,s]=Jh(i,a,s),new dS(e,{...f,x1:n,x2:r,y1:a,y2:s})}function Jh(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class pS extends Ct{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:c=a,insetLeft:l=a,rx:u,ry:d}=r;this.insetTop=qe(s),this.insetRight=qe(f),this.insetBottom=qe(c),this.insetLeft=qe(l),this.rx=nt(u,"auto"),this.ry=nt(d,"auto")}render(t,n,r,i,a){const{rx:s,ry:f}=this;return et("svg:g",a).call(tn,this,i,a).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(nn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ye,"rx",s).call(ye,"ry",f).call(Dn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}}const gS={ariaLabel:"cell"};class mS extends pS{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,gS)}_transform(t,n){t.call(rn,n,{},0,0)}}function bS(e,{x:t,y:n,...r}={}){return[t,n]=xa(t,n),new mS(e,{...r,x:t,y:n})}const yS={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function ky(e){return e.sort===void 0&&e.reverse===void 0?S8({channel:"-r"},e):e}class _S extends Ct{constructor(t,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=ea,frameAnchor:c}=n,[l,u]=gt(s,0),[d,h]=w8(f),[p,m]=gt(a,d==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:_a,optional:!0},rotate:{value:l,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},ky(n),yS),this.r=m,this.rotate=u,this.symbol=h,this.frameAnchor=Us(c);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:v,stroke:_}=g;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,r:u,rotate:d,symbol:h}=r,{r:p,rotate:m,symbol:g}=this,[b,v]=Da(this,i),_=g===ea,x=u?void 0:p*p*Math.PI;return Rs(p)&&(t=[]),et("svg:g",a).call(tn,this,i,a).call(rn,this,{x:c&&s,y:l&&f}).call(y=>y.selectAll().data(t).enter().append(_?"circle":"path").call(nn,this).call(_?w=>{w.attr("cx",c?S=>c[S]:b).attr("cy",l?S=>l[S]:v).attr("r",u?S=>u[S]:p)}:w=>{w.attr("transform",cu`translate(${c?S=>c[S]:b},${l?S=>l[S]:v})${d?S=>` rotate(${d[S]})`:m?` rotate(${m})`:""}`).attr("d",u&&h?S=>{const M=Qn();return h[S].draw(M,u[S]*u[S]*Math.PI),M}:u?S=>{const M=Qn();return g.draw(M,u[S]*u[S]*Math.PI),M}:h?S=>{const M=Qn();return h[S].draw(M,x),M}:(()=>{const S=Qn();return g.draw(S,x),S})())}).call(Dn,this,r)).node()}}function vS(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=xa(t,n)),new _S(e,{...r,x:t,y:n})}function wS(e,t){return vS(e,{...t,symbol:"circle"})}const xS={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let SS=class extends Ct{constructor(t,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Jm(n),optional:!0}},n,xS),this.z=a,this.curve=_y(s,f),Xs(this,n)}filter(t){return t}project(t,n,r){this.curve!==mi&&super.project(t,n,r)}render(t,n,r,i,a){const{x:s,y:f}=r,{curve:c}=this;return et("svg:g",a).call(tn,this,i,a).call(rn,this,n).call(l=>l.selectAll().data(l9(t,[s,f],this,r)).enter().append("path").call(nn,this).call(s9,this,r).call(k9,this,r,a).attr("d",c===mi&&a.projection?kS(a.projection,s,f):g6().curve(c).defined(u=>u>=0).x(u=>s[u]).y(u=>f[u]))).node()}};function kS(e,t,n){const r=fa(e);return t=nr(t),n=nr(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function MS(e,{x:t,y:n,...r}={}){return[t,n]=xa(t,n),new SS(e,{...r,x:t,y:n})}const AS={ariaLabel:"rect"};class My extends Ct{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:c=f,insetRight:l=f,insetBottom:u=f,insetLeft:d=f,rx:h,ry:p}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,AS),this.insetTop=qe(c),this.insetRight=qe(l),this.insetBottom=qe(u),this.insetLeft=qe(d),this.rx=nt(h,"auto"),this.ry=nt(p,"auto")}render(t,n,r,i,a){const{x:s,y:f}=n,{x1:c,y1:l,x2:u,y2:d}=r,{marginTop:h,marginRight:p,marginBottom:m,marginLeft:g,width:b,height:v}=i,{projection:_}=a,{insetTop:x,insetRight:y,insetBottom:w,insetLeft:S,rx:M,ry:A}=this,D=(s!=null&&s.bandwidth?s.bandwidth():0)-S-y,I=(f!=null&&f.bandwidth?f.bandwidth():0)-x-w;return et("svg:g",a).call(tn,this,i,a).call(rn,this,{},0,0).call(k=>k.selectAll().data(t).enter().append("rect").call(nn,this).attr("x",c&&(_||!rr(s))?u?E=>Math.min(c[E],u[E])+S:E=>c[E]+S:g+S).attr("y",l&&(_||!rr(f))?d?E=>Math.min(l[E],d[E])+x:E=>l[E]+x:h+x).attr("width",c&&(_||!rr(s))?u?E=>Math.max(0,Math.abs(u[E]-c[E])+D):D:b-p-g-y-S).attr("height",l&&(_||!rr(f))?d?E=>Math.max(0,Math.abs(l[E]-d[E])+I):I:v-h-m-x-w).call(ye,"rx",M).call(ye,"ry",A).call(Dn,this,r)).node()}}function ES(e,t){return new My(e,M9(jb(t)))}function mu(e,t={}){return Z4(t)||(t={...t,y:Xm,x2:zt,interval:1}),new My(e,Zx(jb(Xx(t))))}const TS={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class CS extends Ct{constructor(t,n={}){const[r,i]=gt(n.r,3);super(t,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:_a,optional:!0}},ky(n),TS),this.r=i}render(t,n,r,i,a){const{geometry:s,r:f}=r,c=fa(a.projection??DS(n)),{r:l}=this;return Rs(l)?t=[]:l!==void 0&&c.pointRadius(l),et("svg:g",a).call(tn,this,i,a).call(rn,this,n).call(u=>{u.selectAll().data(t).enter().append("path").call(nn,this).attr("d",f?d=>c.pointRadius(f[d])(s[d]):d=>c(s[d])).call(Dn,this,r)}).node()}}function DS({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Ho({point(n,r){this.stream.point(e(n),t(r))}})}function NS(e,{geometry:t=zt,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new CS(e,{geometry:t,...n})}function IS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Ct.prototype.plot=function({marks:e=[],...t}={}){return pu({...t,marks:[...e,this]})};function LS(e,t={}){if(!e||e.length===0)return[];let n=sr(e[0]),r=t.include?t.include:n;r=So(t.include||n,t.exclude||[]);let i=So(n,r);return console.log(r,i),up(a=>r.map(s=>{let f=p_(i,a);return f[t.key||"key"]=s,f[t.value||"value"]=a[s],f}),e)}class OS{add(t,n,r){let i=`${r.view.id}::${r.eventname}`;return Te(this[i])?this[i]={iact:r,oldVal:t,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(t){yn(this).forEach(t)}merge(t){if(Te(t))return this;t.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const Jn=ze(Array),Qh=()=>null;function ni(e,t,n){if(ze(String,t))e[t]=n;else if(Jn(t)){let[r,...i]=t;Te(e[r])&&(e[r]={}),At(i)?ni(e,r,n):ni(e[r],i,n)}}function cs(e,t,n){if(ze(String,t))Te(e[t])&&(e[t]=[]),e[t].push(n);else if(Jn(t)){let[r,...i]=t;Te(e[r])&&(e[r]=At(i)?[]:{}),At(i)?cs(e,r,n):cs(e[r],i,n)}}function Kn(e,t,n){if(ze(String,t))return e[t]||(ze(Function,n)?n():n);if(Jn(t)){let[r,...i]=t;return Te(e[r])?ze(Function,n)?n():n:At(i)?Kn(e,r,n):Kn(e[r],i,n)}}class FS{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(t,n,r=Qh,i){if(!t.attr)return this;let a=t.view.id,s=t.eventname;return cs(this.dependencies,[a,s],{view:n,domainfunction:r}),cs(this.view2iacts,n.id,t),this.setDefault(n,i),this}dependentViews(t){let n=t.eventname;return Kn(this.dependencies,[t.view.id,n],[])}cmp(t,n){return this.isDependentOn(t.view,n)?1:this.isDependentOn(n.view,t)?-1:0}isDependentOn(t,n){let r=this.getAncestorIacts(t);return ll(i=>(i.store??i)==n,r)}setDefault(t,n){return Te(n)||(this.defaults[t.id]=n),this}getDefault(t,n){return(Kn(this.defaults,t.id)??Qh)(n,this.getAncestorIacts(t))}getAncestorIacts(t){let n=[];return Kn(this.view2iacts,t.id,[]).forEach(r=>{n.push(r),n=Xi(n,this.getAncestorIacts(r.view))}),n}getStatesKey(t){let n=this.getAncestorIacts(t),r=Xi([t.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(t,n,r){let i=this.getStatesKey(n.view);!Te(r)&&Te(r.states[i])&&ni(r.states,[i,n.eventname],{old:Kn(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,Kn(this.states,[i,n.eventname]),t),ni(this.states,[i,n.eventname],t)}restoreStates(t){bn((n,r)=>{bn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),ni(this.states,[r,i.eventname],a)},n)},t.states)}getState(t,n,r=!0){let i=this.getStatesKey(t);return Te(n)?this.states[i]:Kn(this.states,[i,n],()=>r?this.getDefault(t,n):void 0)}}class PS{constructor(t){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new FS,this.transactions=[],this._isaborting=!1,this.backends=t,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(t){if(this.views[t.id]=t,Jn(t)){t.forEach(n=>this.view(n));return}this.interactions[t.id]=this.interactions[t.id]??{_attrs:{}},t.magic=this,bn((n,r)=>{if(!Te(this.interactions[t.id][r]))return;let i=a=>{t.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>tf(n)??{},load:i,id:this._iactid++,view:t,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!Te(this.interactions[t.id]._attrs[a]))return this.interactions[t.id]._attrs[a];let f={store:n,attr:a,view:t,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let c=tf(n);return cr(a)(c)?c[a]:(At(c)||console.error("could not find attr:",sr(tf(n)).length),ze(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[t.id]._attrs[a]=f,f},this.interactions[t.id][r]=n},t.interactions)}render(t,n,r,i={}){return t=Jn(t)?t:[t],n=Jn(n)?n:[n],t.map(s=>{if(ze(l2,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(t){console.debug("save backends invoked on: ",t),t=Jn(t)?t:[t],t.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),bn((a,s)=>{bn((f,c)=>{f.forEach(l=>{console.debug("saveBackend.DependencyLeaf.ViewIact",l.view.id,this.i2b[l.view.id]);let u=this.dependencies.getAncestorIacts(l.view),d=Xi([n.id],u.map(h=>[h.id,h.val()]));At(s_(sr(this.i2b[l.view.id]),n.id))||(console.debug("saveBackend.View",n.id,l.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(t,n,r){var s;if(Jn(n)){n.forEach(f=>this.connect(t,f,r));return}let i=n,a=i.view;Te(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),Te(t)||ni(this.i2b,[a.id,t.id],this.processBindings(r))}processBindings(t){if(Te(t)||At(t))return Qf;if(ze(Function,t))return t;let n=rc(pp(ze(Array),ze(Object)),zn(r=>this.processBindings(r)),rc(ze(Function),Qf,r=>()=>r))(t);return cr("*",t)?r=>u2(r,Hu(n)(r)):Hu(n)}saveIactState(t,n,r){this.dependencies.saveState(t,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(t,f))}let s=this.dependencies.getState(i);bn((f,c)=>{f=f??this.dependencies.getDefault(i,c),f&&(console.debug("saveIactState.load",i.id,c,f),i.load(f,c))},s),(Te(s)||At(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(t,n){if(!Te(t))if(console.log("handleEvent",this._isaborting,n.view.id,t),this._isaborting)this.dependencies.saveState(t,n,null),this.sendEventToBackends(t,n);else if(this.transactions.length==0||af(this.transactions).iact!=n)n.start(),this.handleEvent(t,n),n.end();else{let r=af(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,t,n),r.visible&&this.sendEventToBackends(t,n)}}sendEventToBackends(t,n){bn((r,i)=>{let a=r(t);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return c_(t=>t.snapshot(),this.backends)}restoreSnapshot(t){bn((n,r)=>{Te(n)||this.backends[r].restoreSnapshot(n)},t.snapshot)}start(t,n=!0){this.transactions.push({xid:this._xid++,iact:t,visible:n,snapshot:this.snapshot(),states:{},writeSet:new OS}),console.log("magic.start",this.transactions)}end(t){if(!ll(a=>a.iact=t,this.transactions)){console.log("magic.end: can't find interaction",t);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=yn(n.writeSet).map(({iact:a})=>a.id),i=up(a=>yn(a).map(({iact:s})=>s.id),yn(n.states));if(At(y_(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=af(this.transactions);a.snapshot=ec(a.snapshot,n.snapshot),a.states=ec(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(t){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",d2(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),m_((i,a)=>this.dependencies.cmp(i.iact,a.iact),yn(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(t){let n=JSON.parse(t);this.dependencies.states=n,bn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(t){let n=this.dependencies.getStatesKey(t),r=this.dependencies.states[n],i=yn(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}t.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const BS=e=>({}),e0=e=>({}),RS=e=>({}),t0=e=>({}),$S=e=>({}),n0=e=>({}),jS=e=>({}),r0=e=>({}),qS=e=>({}),i0=e=>({}),zS=e=>({}),a0=e=>({}),US=e=>({}),o0=e=>({}),VS=e=>({}),s0=e=>({}),HS=e=>({}),f0=e=>({}),WS=e=>({}),c0=e=>({}),YS=e=>({}),l0=e=>({}),XS=e=>({}),u0=e=>({}),GS=e=>({}),d0=e=>({}),KS=e=>({}),h0=e=>({}),ZS=e=>({}),p0=e=>({});function JS(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,_,x,y,w,S,M,A,D,I,k,E,B,F,T;const z=e[1].header,Q=wt(z,e,e[0],p0),re=e[1].alert,te=wt(re,e,e[0],h0),W=e[1].dropdown1,V=wt(W,e,e[0],d0),J=e[1].chart1,ee=wt(J,e,e[0],u0),$=e[1].dropdown2,ne=wt($,e,e[0],l0),ue=e[1].chart2,Y=wt(ue,e,e[0],c0),fe=e[1].dropdown3,C=wt(fe,e,e[0],f0),U=e[1].chart3,X=wt(U,e,e[0],s0),j=e[1].dropdown4,ce=wt(j,e,e[0],o0),se=e[1].chart4,de=wt(se,e,e[0],a0),me=e[1].obplot,H=wt(me,e,e[0],i0),le=e[1].slider1,_e=wt(le,e,e[0],r0),Ne=e[1].slider2,Le=wt(Ne,e,e[0],n0),ut=e[1].slider3,Pe=wt(ut,e,e[0],t0),ct=e[1].slider4,Ve=wt(ct,e,e[0],e0);return{c(){t=G("div"),n=G("div"),Q&&Q.c(),r=pe(),i=G("div"),te&&te.c(),a=pe(),s=G("div"),V&&V.c(),f=pe(),c=G("div"),ee&&ee.c(),l=pe(),u=G("div"),ne&&ne.c(),d=pe(),h=G("div"),Y&&Y.c(),p=pe(),m=G("div"),C&&C.c(),g=pe(),b=G("div"),X&&X.c(),v=pe(),_=G("div"),ce&&ce.c(),x=pe(),y=G("div"),de&&de.c(),w=pe(),S=G("div"),H&&H.c(),M=pe(),A=G("div"),_e&&_e.c(),D=pe(),I=G("div"),Le&&Le.c(),k=pe(),E=G("div"),Pe&&Pe.c(),B=pe(),F=G("div"),Ve&&Ve.c(),this.h()},l(q){t=K(q,"DIV",{class:!0});var oe=Z(t);n=K(oe,"DIV",{class:!0});var Be=Z(n);Q&&Q.l(Be),Be.forEach(P),r=ge(oe),i=K(oe,"DIV",{class:!0});var Ze=Z(i);te&&te.l(Ze),Ze.forEach(P),a=ge(oe),s=K(oe,"DIV",{class:!0});var vt=Z(s);V&&V.l(vt),vt.forEach(P),f=ge(oe),c=K(oe,"DIV",{class:!0});var Ge=Z(c);ee&&ee.l(Ge),Ge.forEach(P),l=ge(oe),u=K(oe,"DIV",{class:!0});var Pt=Z(u);ne&&ne.l(Pt),Pt.forEach(P),d=ge(oe),h=K(oe,"DIV",{class:!0});var Bt=Z(h);Y&&Y.l(Bt),Bt.forEach(P),p=ge(oe),m=K(oe,"DIV",{class:!0});var L=Z(m);C&&C.l(L),L.forEach(P),g=ge(oe),b=K(oe,"DIV",{class:!0});var ae=Z(b);X&&X.l(ae),ae.forEach(P),v=ge(oe),_=K(oe,"DIV",{class:!0});var ke=Z(_);ce&&ce.l(ke),ke.forEach(P),x=ge(oe),y=K(oe,"DIV",{class:!0});var Ee=Z(y);de&&de.l(Ee),Ee.forEach(P),w=ge(oe),S=K(oe,"DIV",{class:!0});var tt=Z(S);H&&H.l(tt),tt.forEach(P),M=ge(oe),A=K(oe,"DIV",{class:!0});var Nn=Z(A);_e&&_e.l(Nn),Nn.forEach(P),D=ge(oe),I=K(oe,"DIV",{class:!0});var Wn=Z(I);Le&&Le.l(Wn),Wn.forEach(P),k=ge(oe),E=K(oe,"DIV",{class:!0});var pn=Z(E);Pe&&Pe.l(pn),pn.forEach(P),B=ge(oe),F=K(oe,"DIV",{class:!0});var qr=Z(F);Ve&&Ve.l(qr),qr.forEach(P),oe.forEach(P),this.h()},h(){O(n,"class","mx-auto"),O(i,"class",""),O(s,"class","mx-auto"),O(c,"class",""),O(u,"class","mx-auto"),O(h,"class",""),O(m,"class","mx-auto"),O(b,"class",""),O(_,"class","mx-auto"),O(y,"class",""),O(S,"class",""),O(A,"class",""),O(I,"class",""),O(E,"class",""),O(F,"class",""),O(t,"class","px-5 py-2 bg-white")},m(q,oe){Se(q,t,oe),N(t,n),Q&&Q.m(n,null),N(t,r),N(t,i),te&&te.m(i,null),N(t,a),N(t,s),V&&V.m(s,null),N(t,f),N(t,c),ee&&ee.m(c,null),N(t,l),N(t,u),ne&&ne.m(u,null),N(t,d),N(t,h),Y&&Y.m(h,null),N(t,p),N(t,m),C&&C.m(m,null),N(t,g),N(t,b),X&&X.m(b,null),N(t,v),N(t,_),ce&&ce.m(_,null),N(t,x),N(t,y),de&&de.m(y,null),N(t,w),N(t,S),H&&H.m(S,null),N(t,M),N(t,A),_e&&_e.m(A,null),N(t,D),N(t,I),Le&&Le.m(I,null),N(t,k),N(t,E),Pe&&Pe.m(E,null),N(t,B),N(t,F),Ve&&Ve.m(F,null),T=!0},p(q,[oe]){Q&&Q.p&&(!T||oe&1)&&xt(Q,z,q,q[0],T?kt(z,q[0],oe,ZS):St(q[0]),p0),te&&te.p&&(!T||oe&1)&&xt(te,re,q,q[0],T?kt(re,q[0],oe,KS):St(q[0]),h0),V&&V.p&&(!T||oe&1)&&xt(V,W,q,q[0],T?kt(W,q[0],oe,GS):St(q[0]),d0),ee&&ee.p&&(!T||oe&1)&&xt(ee,J,q,q[0],T?kt(J,q[0],oe,XS):St(q[0]),u0),ne&&ne.p&&(!T||oe&1)&&xt(ne,$,q,q[0],T?kt($,q[0],oe,YS):St(q[0]),l0),Y&&Y.p&&(!T||oe&1)&&xt(Y,ue,q,q[0],T?kt(ue,q[0],oe,WS):St(q[0]),c0),C&&C.p&&(!T||oe&1)&&xt(C,fe,q,q[0],T?kt(fe,q[0],oe,HS):St(q[0]),f0),X&&X.p&&(!T||oe&1)&&xt(X,U,q,q[0],T?kt(U,q[0],oe,VS):St(q[0]),s0),ce&&ce.p&&(!T||oe&1)&&xt(ce,j,q,q[0],T?kt(j,q[0],oe,US):St(q[0]),o0),de&&de.p&&(!T||oe&1)&&xt(de,se,q,q[0],T?kt(se,q[0],oe,zS):St(q[0]),a0),H&&H.p&&(!T||oe&1)&&xt(H,me,q,q[0],T?kt(me,q[0],oe,qS):St(q[0]),i0),_e&&_e.p&&(!T||oe&1)&&xt(_e,le,q,q[0],T?kt(le,q[0],oe,jS):St(q[0]),r0),Le&&Le.p&&(!T||oe&1)&&xt(Le,Ne,q,q[0],T?kt(Ne,q[0],oe,$S):St(q[0]),n0),Pe&&Pe.p&&(!T||oe&1)&&xt(Pe,ut,q,q[0],T?kt(ut,q[0],oe,RS):St(q[0]),t0),Ve&&Ve.p&&(!T||oe&1)&&xt(Ve,ct,q,q[0],T?kt(ct,q[0],oe,BS):St(q[0]),e0)},i(q){T||(Ke(Q,q),Ke(te,q),Ke(V,q),Ke(ee,q),Ke(ne,q),Ke(Y,q),Ke(C,q),Ke(X,q),Ke(ce,q),Ke(de,q),Ke(H,q),Ke(_e,q),Ke(Le,q),Ke(Pe,q),Ke(Ve,q),T=!0)},o(q){Je(Q,q),Je(te,q),Je(V,q),Je(ee,q),Je(ne,q),Je(Y,q),Je(C,q),Je(X,q),Je(ce,q),Je(de,q),Je(H,q),Je(_e,q),Je(Le,q),Je(Pe,q),Je(Ve,q),T=!1},d(q){q&&P(t),Q&&Q.d(q),te&&te.d(q),V&&V.d(q),ee&&ee.d(q),ne&&ne.d(q),Y&&Y.d(q),C&&C.d(q),X&&X.d(q),ce&&ce.d(q),de&&de.d(q),H&&H.d(q),_e&&_e.d(q),Le&&Le.d(q),Pe&&Pe.d(q),Ve&&Ve.d(q)}}}function QS(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class ek extends bt{constructor(t){super(),yt(this,t,QS,JS,_t,{})}}const ls="_theplot_",tk={top:30,right:20,bottom:50,left:40};function Qs(e,t){e.className=e.className||ls,Te(e.width);let n=pu(e),r=null;return n.tagName=="svg"&&n.classList.contains(e.className)?r=n:r=n.querySelector(`svg.${e.className}`),r.classList.add(ls),e.width||r.setAttribute("width","100%"),e.height||r.setAttribute("height","100%"),t.innerHTML="",t.appendChild(n),n}class bu{constructor({iact:t,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=t,this.magic=n,this.plot=r,r&&this.init(r)}load(t){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!t||At(t)){this.el.call(this.brush.clear);return}const{left:n,right:r}=t;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:t}){if(this.iact.isActive)if(!t)this.iact.set(this.defaultSelection);else{const[n,r]=t;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:t,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:t,sourceEvent:n}){this.iact.isActive&&(t||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(t){if(!this.iact.isActive)return;if(this.plot=t,this.x=t.scale("x"),this.y=t.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=t.classList.contains(ls)?Dt(t):Dt(t.querySelector(`.${ls}`));this.brush=Sv().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function nk(e){let t,n;return{c(){t=G("div"),n=G("div"),this.h()},l(r){t=K(r,"DIV",{id:!0});var i=Z(t);n=K(i,"DIV",{}),Z(n).forEach(P),i.forEach(P),this.h()},h(){O(t,"id",e[0])},m(r,i){Se(r,t,i),N(t,n),e[15](n)},p(r,[i]){i&1&&O(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&P(t),e[15](null)}}}function rk(e,t,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:c,xDomainMin:l=null,xDomainMax:u=null,brushX:d=lt({}),interactions:h={brushX:d}}=t,p,m=null,g={},b=[],v;const _=["#93c1cf","#feb144","#9ee09e","#ff6663"];function x(A,D){return D==="overlay"?(g=A,!0):!1}function y(A,D){!A||A.length===0||typeof D=="object"||(x(A,D)?console.debug("overlays"):b=A,S())}let{load:w=A=>v==null?void 0:v.load(A)}=t;function S(){n(2,l=l??Mn(zn(tc(f),b))),n(3,u=u??$t(zn(tc(f),b)));const A=Math.max(36,Math.min(b.length,20));let D={x:{domain:[+l,+u]},height:200,marginBottom:50,color:{range:_,legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[Si({ticks:A,fontSize:10}),Na({fontSize:10}),su([l]),fu([0]),mu(g,{x1:"left",x2:"right",y2:$t(cl(c,b)),fill:"key",color:"key"}),MS(b,{x:f,y:c,marker:!0,strokeWidth:3})]};m=Qs(D,p),d.isActive&&(v=v??new bu({iact:d,magic:a}),v.init(m))}function M(A){hr[A?"unshift":"push"](()=>{p=A,n(1,p)})}return e.$$set=A=>{"id"in A&&n(4,r=A.id),"name"in A&&n(0,i=A.name),"magic"in A&&n(5,a=A.magic),"description"in A&&n(6,s=A.description),"xAttr"in A&&n(7,f=A.xAttr),"yAttr"in A&&n(8,c=A.yAttr),"xDomainMin"in A&&n(2,l=A.xDomainMin),"xDomainMax"in A&&n(3,u=A.xDomainMax),"brushX"in A&&n(9,d=A.brushX),"interactions"in A&&n(10,h=A.interactions),"load"in A&&n(13,w=A.load)},[i,p,l,u,r,a,s,f,c,d,h,x,y,w,S,M]}class ik extends bt{constructor(t){super(),yt(this,t,rk,nk,_t,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ie()}get description(){return this.$$.ctx[6]}set description(t){this.$$set({description:t}),ie()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),ie()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),ie()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get brushX(){return this.$$.ctx[9]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[10]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(t){this.$$set({load:t}),ie()}get update(){return this.$$.ctx[14]}}function g0(e){return Object.prototype.toString.call(e)==="[object Date]"}function Zc(e,t,n,r){if(typeof n=="number"||g0(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,f=e.opts.damping*a,c=(s-f)*e.inv_mass,l=(a+c)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,g0(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>Zc(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Zc(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function ak(e,t={}){const n=lt(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,f,c,l=e,u=e,d=1,h=0,p=!1;function m(b,v={}){u=b;const _=c={};return e==null||v.hard||g.stiffness>=1&&g.damping>=1?(p=!0,s=Nu(),l=b,n.set(e=u),Promise.resolve()):(v.soft&&(h=1/((v.soft===!0?.5:+v.soft)*60),d=0),f||(s=Nu(),p=!1,f=Vy(x=>{if(p)return p=!1,f=null,!1;d=Math.min(d+h,1);const y={inv_mass:d,opts:g,settled:!0,dt:(x-s)*60/1e3},w=Zc(y,l,e,u);return s=x,l=e,n.set(e=w),y.settled&&(f=null),!y.settled})),new Promise(x=>{f.promise.then(()=>{_===c&&x()})}))}const g={set:m,update:(b,v)=>m(b(u,e),v),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function m0(e,t,n){const r=e.slice();return r[37]=t[n],r[39]=n,r}function b0(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&y0(e);return{c(){t=G("span"),a&&a.c(),this.h()},l(s){t=K(s,"SPAN",{class:!0,style:!0});var f=Z(t);a&&a.l(f),f.forEach(P),this.h()},h(){O(t,"class","pip first"),O(t,"style",n=e[14]+": 0%;"),be(t,"selected",e[18](e[0])),be(t,"in-range",e[17](e[0]))},m(s,f){Se(s,t,f),a&&a.m(t,null),r||(i=[Fe(t,"pointerdown",e[30]),Fe(t,"pointerup",e[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=y0(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&O(t,"style",n),f[0]&262145&&be(t,"selected",s[18](s[0])),f[0]&131073&&be(t,"in-range",s[17](s[0]))},d(s){s&&P(t),a&&a.d(),r=!1,pr(i)}}}function y0(e){let t,n,r,i=e[12](e[16](e[0]),0,0)+"",a,s=e[10]&&_0(e),f=e[11]&&v0(e);return{c(){t=G("span"),s&&s.c(),n=Xe(),r=new gs(!1),a=Xe(),f&&f.c(),this.h()},l(c){t=K(c,"SPAN",{class:!0});var l=Z(t);s&&s.l(l),n=Xe(),r=ms(l,!1),a=Xe(),f&&f.l(l),l.forEach(P),this.h()},h(){r.a=a,O(t,"class","pipVal")},m(c,l){Se(c,t,l),s&&s.m(t,null),N(t,n),r.m(i,t),N(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=_0(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&69633&&i!==(i=c[12](c[16](c[0]),0,0)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=v0(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&P(t),s&&s.d(),f&&f.d()}}}function _0(e){let t,n;return{c(){t=G("span"),n=$e(e[10]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[10]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&1024&&en(n,r[10])},d(r){r&&P(t)}}}function v0(e){let t,n;return{c(){t=G("span"),n=$e(e[11]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[11]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&2048&&en(n,r[11])},d(r){r&&P(t)}}}function w0(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=A0(m0(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Xe()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=Xe()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);Se(i,t,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=m0(i,n,s);r[s]?r[s].p(f,a):(r[s]=A0(f),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){el(r,i),i&&P(t)}}}function x0(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&S0(e);function f(...c){return e[33](e[39],...c)}return{c(){t=G("span"),s&&s.c(),n=pe(),this.h()},l(c){t=K(c,"SPAN",{class:!0,style:!0});var l=Z(t);s&&s.l(l),n=ge(l),l.forEach(P),this.h()},h(){O(t,"class","pip"),O(t,"style",r=e[14]+": "+e[15](e[19](e[39]))+"%;"),be(t,"selected",e[18](e[19](e[39]))),be(t,"in-range",e[17](e[19](e[39])))},m(c,l){Se(c,t,l),s&&s.m(t,null),N(t,n),i||(a=[Fe(t,"pointerdown",e[32]),Fe(t,"pointerup",f)],i=!0)},p(c,l){e=c,e[6]==="label"||e[9]==="label"?s?s.p(e,l):(s=S0(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&573440&&r!==(r=e[14]+": "+e[15](e[19](e[39]))+"%;")&&O(t,"style",r),l[0]&786432&&be(t,"selected",e[18](e[19](e[39]))),l[0]&655360&&be(t,"in-range",e[17](e[19](e[39])))},d(c){c&&P(t),s&&s.d(),i=!1,pr(a)}}}function S0(e){let t,n,r,i=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",a,s=e[10]&&k0(e),f=e[11]&&M0(e);return{c(){t=G("span"),s&&s.c(),n=Xe(),r=new gs(!1),a=Xe(),f&&f.c(),this.h()},l(c){t=K(c,"SPAN",{class:!0});var l=Z(t);s&&s.l(l),n=Xe(),r=ms(l,!1),a=Xe(),f&&f.l(l),l.forEach(P),this.h()},h(){r.a=a,O(t,"class","pipVal")},m(c,l){Se(c,t,l),s&&s.m(t,null),N(t,n),r.m(i,t),N(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=k0(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&561152&&i!==(i=c[12](c[19](c[39]),c[39],c[15](c[19](c[39])))+"")&&r.p(i),c[11]?f?f.p(c,l):(f=M0(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&P(t),s&&s.d(),f&&f.d()}}}function k0(e){let t,n;return{c(){t=G("span"),n=$e(e[10]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[10]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&1024&&en(n,r[10])},d(r){r&&P(t)}}}function M0(e){let t,n;return{c(){t=G("span"),n=$e(e[11]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[11]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&2048&&en(n,r[11])},d(r){r&&P(t)}}}function A0(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,r=t&&x0(e);return{c(){r&&r.c(),n=Xe()},l(i){r&&r.l(i),n=Xe()},m(i,a){r&&r.m(i,a),Se(i,n,a)},p(i,a){a[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?r?r.p(i,a):(r=x0(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&P(n)}}}function E0(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&T0(e);return{c(){t=G("span"),a&&a.c(),this.h()},l(s){t=K(s,"SPAN",{class:!0,style:!0});var f=Z(t);a&&a.l(f),f.forEach(P),this.h()},h(){O(t,"class","pip last"),O(t,"style",n=e[14]+": 100%;"),be(t,"selected",e[18](e[1])),be(t,"in-range",e[17](e[1]))},m(s,f){Se(s,t,f),a&&a.m(t,null),r||(i=[Fe(t,"pointerdown",e[34]),Fe(t,"pointerup",e[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=T0(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&O(t,"style",n),f[0]&262146&&be(t,"selected",s[18](s[1])),f[0]&131074&&be(t,"in-range",s[17](s[1]))},d(s){s&&P(t),a&&a.d(),r=!1,pr(i)}}}function T0(e){let t,n,r,i=e[12](e[16](e[1]),e[20],100)+"",a,s=e[10]&&C0(e),f=e[11]&&D0(e);return{c(){t=G("span"),s&&s.c(),n=Xe(),r=new gs(!1),a=Xe(),f&&f.c(),this.h()},l(c){t=K(c,"SPAN",{class:!0});var l=Z(t);s&&s.l(l),n=Xe(),r=ms(l,!1),a=Xe(),f&&f.l(l),l.forEach(P),this.h()},h(){r.a=a,O(t,"class","pipVal")},m(c,l){Se(c,t,l),s&&s.m(t,null),N(t,n),r.m(i,t),N(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=C0(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&1118210&&i!==(i=c[12](c[16](c[1]),c[20],100)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=D0(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&P(t),s&&s.d(),f&&f.d()}}}function C0(e){let t,n;return{c(){t=G("span"),n=$e(e[10]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[10]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&1024&&en(n,r[10])},d(r){r&&P(t)}}}function D0(e){let t,n;return{c(){t=G("span"),n=$e(e[11]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[11]),i.forEach(P),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&2048&&en(n,r[11])},d(r){r&&P(t)}}}function ok(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&b0(e),a=(e[6]&&e[9]!==!1||e[9])&&w0(e),s=(e[6]&&e[8]!==!1||e[8])&&E0(e);return{c(){t=G("div"),i&&i.c(),n=pe(),a&&a.c(),r=pe(),s&&s.c(),this.h()},l(f){t=K(f,"DIV",{class:!0});var c=Z(t);i&&i.l(c),n=ge(c),a&&a.l(c),r=ge(c),s&&s.l(c),c.forEach(P),this.h()},h(){O(t,"class","rangePips"),be(t,"disabled",e[5]),be(t,"hoverable",e[4]),be(t,"vertical",e[2]),be(t,"reversed",e[3]),be(t,"focus",e[13])},m(f,c){Se(f,t,c),i&&i.m(t,null),N(t,n),a&&a.m(t,null),N(t,r),s&&s.m(t,null)},p(f,c){f[6]&&f[7]!==!1||f[7]?i?i.p(f,c):(i=b0(f),i.c(),i.m(t,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,c):(a=w0(f),a.c(),a.m(t,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,c):(s=E0(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),c[0]&32&&be(t,"disabled",f[5]),c[0]&16&&be(t,"hoverable",f[4]),c[0]&4&&be(t,"vertical",f[2]),c[0]&8&&be(t,"reversed",f[3]),c[0]&8192&&be(t,"focus",f[13])},i:Ce,o:Ce,d(f){f&&P(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function sk(e,t,n){let r,i,a,s,f,{range:c=!1}=t,{min:l=0}=t,{max:u=100}=t,{step:d=1}=t,{values:h=[(u+l)/2]}=t,{vertical:p=!1}=t,{reversed:m=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:v=void 0}=t,{all:_=!0}=t,{first:x=void 0}=t,{last:y=void 0}=t,{rest:w=void 0}=t,{prefix:S=""}=t,{suffix:M=""}=t,{formatter:A=($,ne,ue)=>$}=t,{focus:D=void 0}=t,{orientationStart:I=void 0}=t,{percentOf:k=void 0}=t,{moveHandle:E=void 0}=t,{fixFloat:B=void 0}=t,{normalisedClient:F=void 0}=t,T;function z($){$=F($),T={x:$.clientX,y:$.clientY}}function Q($,ne){if(ne=F(ne),!b){const ue=Math.sqrt(Math.pow(T.x-ne.clientX,2)+Math.pow(T.y-ne.clientY,2));T&&ue<=5&&E(void 0,$)}}const re=$=>{z($)},te=$=>{Q(l,$)},W=$=>{z($)},V=($,ne)=>{Q(a($),ne)},J=$=>{z($)},ee=$=>{Q(u,$)};return e.$$set=$=>{"range"in $&&n(23,c=$.range),"min"in $&&n(0,l=$.min),"max"in $&&n(1,u=$.max),"step"in $&&n(24,d=$.step),"values"in $&&n(25,h=$.values),"vertical"in $&&n(2,p=$.vertical),"reversed"in $&&n(3,m=$.reversed),"hoverable"in $&&n(4,g=$.hoverable),"disabled"in $&&n(5,b=$.disabled),"pipstep"in $&&n(26,v=$.pipstep),"all"in $&&n(6,_=$.all),"first"in $&&n(7,x=$.first),"last"in $&&n(8,y=$.last),"rest"in $&&n(9,w=$.rest),"prefix"in $&&n(10,S=$.prefix),"suffix"in $&&n(11,M=$.suffix),"formatter"in $&&n(12,A=$.formatter),"focus"in $&&n(13,D=$.focus),"orientationStart"in $&&n(14,I=$.orientationStart),"percentOf"in $&&n(15,k=$.percentOf),"moveHandle"in $&&n(27,E=$.moveHandle),"fixFloat"in $&&n(16,B=$.fixFloat),"normalisedClient"in $&&n(28,F=$.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,r=v||((u-l)/d>=(p?50:100)?(u-l)/(p?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((u-l)/(d*r),10)),e.$$.dirty[0]&553713665&&n(19,a=function($){return B(l+$*d*r)}),e.$$.dirty[0]&33619968&&n(18,s=function($){return h.some(ne=>B(ne)===B($))}),e.$$.dirty[0]&41943040&&n(17,f=function($){if(c==="min")return h[0]>$;if(c==="max")return h[0]<$;if(c)return h[0]<$&&h[1]>$})},[l,u,p,m,g,b,_,x,y,w,S,M,A,D,I,k,B,f,s,a,i,z,Q,c,d,h,v,E,F,r,re,te,W,V,J,ee]}class fk extends bt{constructor(t){super(),yt(this,t,sk,ok,_t,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function N0(e,t,n){const r=e.slice();return r[65]=t[n],r[67]=n,r}function I0(e){let t,n,r,i=e[21](e[65],e[67],e[24](e[65]))+"",a,s=e[18]&&L0(e),f=e[19]&&O0(e);return{c(){t=G("span"),s&&s.c(),n=Xe(),r=new gs(!1),a=Xe(),f&&f.c(),this.h()},l(c){t=K(c,"SPAN",{class:!0});var l=Z(t);s&&s.l(l),n=Xe(),r=ms(l,!1),a=Xe(),f&&f.l(l),l.forEach(P),this.h()},h(){r.a=a,O(t,"class","rangeFloat")},m(c,l){Se(c,t,l),s&&s.m(t,null),N(t,n),r.m(i,t),N(t,a),f&&f.m(t,null)},p(c,l){c[18]?s?s.p(c,l):(s=L0(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&18874369&&i!==(i=c[21](c[65],c[67],c[24](c[65]))+"")&&r.p(i),c[19]?f?f.p(c,l):(f=O0(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&P(t),s&&s.d(),f&&f.d()}}}function L0(e){let t,n;return{c(){t=G("span"),n=$e(e[18]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[18]),i.forEach(P),this.h()},h(){O(t,"class","rangeFloat-prefix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&262144&&en(n,r[18])},d(r){r&&P(t)}}}function O0(e){let t,n;return{c(){t=G("span"),n=$e(e[19]),this.h()},l(r){t=K(r,"SPAN",{class:!0});var i=Z(t);n=je(i,e[19]),i.forEach(P),this.h()},h(){O(t,"class","rangeFloat-suffix")},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i[0]&524288&&en(n,r[19])},d(r){r&&P(t)}}}function F0(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m=e[7]&&I0(e);return{c(){t=G("span"),n=G("span"),r=pe(),m&&m.c(),this.h()},l(g){t=K(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=Z(t);n=K(b,"SPAN",{class:!0}),Z(n).forEach(P),r=ge(b),m&&m.l(b),b.forEach(P),this.h()},h(){O(n,"class","rangeNub"),O(t,"role","slider"),O(t,"class","rangeHandle"),O(t,"data-handle",e[67]),O(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),O(t,"aria-label",a=e[22][e[67]]),O(t,"aria-valuemin",s=e[2]===!0&&e[67]===1?e[0][0]:e[3]),O(t,"aria-valuemax",f=e[2]===!0&&e[67]===0?e[0][1]:e[4]),O(t,"aria-valuenow",c=e[65]),O(t,"aria-valuetext",l=""+(e[18]+$0(e[21](e[65],e[67],e[24](e[65])))+e[19])),O(t,"aria-orientation",u=e[6]?"vertical":"horizontal"),O(t,"aria-disabled",e[10]),O(t,"disabled",e[10]),O(t,"tabindex",d=e[10]?-1:0),be(t,"active",e[25]&&e[27]===e[67]),be(t,"press",e[26]&&e[27]===e[67])},m(g,b){Se(g,t,b),N(t,n),N(t,r),m&&m.m(t,null),h||(p=[Fe(t,"blur",e[35]),Fe(t,"focus",e[36]),Fe(t,"keydown",e[37])],h=!0)},p(g,b){g[7]?m?m.p(g,b):(m=I0(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&1744830464&&i!==(i=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&O(t,"style",i),b[0]&4194304&&a!==(a=g[22][g[67]])&&O(t,"aria-label",a),b[0]&13&&s!==(s=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&O(t,"aria-valuemin",s),b[0]&21&&f!==(f=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&O(t,"aria-valuemax",f),b[0]&1&&c!==(c=g[65])&&O(t,"aria-valuenow",c),b[0]&19660801&&l!==(l=""+(g[18]+$0(g[21](g[65],g[67],g[24](g[65])))+g[19]))&&O(t,"aria-valuetext",l),b[0]&64&&u!==(u=g[6]?"vertical":"horizontal")&&O(t,"aria-orientation",u),b[0]&1024&&O(t,"aria-disabled",g[10]),b[0]&1024&&O(t,"disabled",g[10]),b[0]&1024&&d!==(d=g[10]?-1:0)&&O(t,"tabindex",d),b[0]&167772160&&be(t,"active",g[25]&&g[27]===g[67]),b[0]&201326592&&be(t,"press",g[26]&&g[27]===g[67])},d(g){g&&P(t),m&&m.d(),h=!1,pr(p)}}}function P0(e){let t,n;return{c(){t=G("span"),this.h()},l(r){t=K(r,"SPAN",{class:!0,style:!0}),Z(t).forEach(P),this.h()},h(){O(t,"class","rangeBar"),O(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(r,i){Se(r,t,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&O(t,"style",n)},d(r){r&&P(t)}}}function B0(e){let t,n;return t=new fk({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:vo}}),{c(){tl(t.$$.fragment)},l(r){nl(t.$$.fragment,r)},m(r,i){rl(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),t.$set(a)},i(r){n||(Ke(t.$$.fragment,r),n=!0)},o(r){Je(t.$$.fragment,r),n=!1},d(r){il(t,r)}}}function ck(e){let t,n,r,i,a,s,f=e[0],c=[];for(let d=0;d<f.length;d+=1)c[d]=F0(N0(e,f,d));let l=e[2]&&P0(e),u=e[11]&&B0(e);return{c(){t=G("div");for(let d=0;d<c.length;d+=1)c[d].c();n=pe(),l&&l.c(),r=pe(),u&&u.c(),this.h()},l(d){t=K(d,"DIV",{id:!0,role:!0,class:!0});var h=Z(t);for(let p=0;p<c.length;p+=1)c[p].l(h);n=ge(h),l&&l.l(h),r=ge(h),u&&u.l(h),h.forEach(P),this.h()},h(){O(t,"id",e[17]),O(t,"role","none"),O(t,"class","rangeSlider"),be(t,"range",e[2]),be(t,"disabled",e[10]),be(t,"hoverable",e[9]),be(t,"vertical",e[6]),be(t,"reversed",e[8]),be(t,"focus",e[25]),be(t,"min",e[2]==="min"),be(t,"max",e[2]==="max"),be(t,"pips",e[11]),be(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,h){Se(d,t,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(t,null);N(t,n),l&&l.m(t,null),N(t,r),u&&u.m(t,null),e[51](t),i=!0,a||(s=[Fe(window,"mousedown",e[40]),Fe(window,"touchstart",e[40]),Fe(window,"mousemove",e[41]),Fe(window,"touchmove",e[41]),Fe(window,"mouseup",e[42]),Fe(window,"touchend",e[43]),Fe(window,"keydown",e[44]),Fe(t,"mousedown",e[38]),Fe(t,"mouseup",e[39]),Fe(t,"touchstart",Iu(e[38])),Fe(t,"touchend",Iu(e[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){f=d[0];let p;for(p=0;p<f.length;p+=1){const m=N0(d,f,p);c[p]?c[p].p(m,h):(c[p]=F0(m),c[p].c(),c[p].m(t,n))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[2]?l?l.p(d,h):(l=P0(d),l.c(),l.m(t,r)):l&&(l.d(1),l=null),d[11]?u?(u.p(d,h),h[0]&2048&&Ke(u,1)):(u=B0(d),u.c(),Ke(u,1),u.m(t,null)):u&&(Hy(),Je(u,1,1,()=>{u=null}),Wy()),(!i||h[0]&131072)&&O(t,"id",d[17]),(!i||h[0]&4)&&be(t,"range",d[2]),(!i||h[0]&1024)&&be(t,"disabled",d[10]),(!i||h[0]&512)&&be(t,"hoverable",d[9]),(!i||h[0]&64)&&be(t,"vertical",d[6]),(!i||h[0]&256)&&be(t,"reversed",d[8]),(!i||h[0]&33554432)&&be(t,"focus",d[25]),(!i||h[0]&4)&&be(t,"min",d[2]==="min"),(!i||h[0]&4)&&be(t,"max",d[2]==="max"),(!i||h[0]&2048)&&be(t,"pips",d[11]),(!i||h[0]&122880)&&be(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(Ke(u),i=!0)},o(d){Je(u),i=!1},d(d){d&&P(t),el(c,d),l&&l.d(),u&&u.d(),e[51](null),a=!1,pr(s)}}}function R0(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function vo(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function $0(e){return`${e}`.replace(/<[^>]*>/g,"")}function lk(e,t,n){let r,i,a,s,f,c,l=Ce,u=()=>(l(),l=cn(U,L=>n(30,c=L)),U);e.$$.on_destroy.push(()=>l());let{slider:d=void 0}=t,{range:h=!1}=t,{pushy:p=!1}=t,{min:m=0}=t,{max:g=100}=t,{step:b=1}=t,{values:v=[(g+m)/2]}=t,{vertical:_=!1}=t,{float:x=!1}=t,{reversed:y=!1}=t,{hoverable:w=!0}=t,{disabled:S=!1}=t,{pips:M=!1}=t,{pipstep:A=void 0}=t,{all:D=void 0}=t,{first:I=void 0}=t,{last:k=void 0}=t,{rest:E=void 0}=t,{id:B=void 0}=t,{prefix:F=""}=t,{suffix:T=""}=t,{formatter:z=(L,ae,ke)=>L}=t,{handleFormatter:Q=z}=t,{ariaLabels:re=[]}=t,{precision:te=2}=t,{springValues:W={stiffness:.15,damping:.4}}=t;const V=Yy();let J=0,ee=!1,$=!1,ne=!1,ue=!1,Y=v.length-1,fe,C,U;const X=L=>parseFloat((+L).toFixed(te));function j(L){const ae=d.querySelectorAll(".handle"),ke=Array.prototype.includes.call(ae,L),Ee=Array.prototype.some.call(ae,tt=>tt.contains(L));return ke||Ee}function ce(L){return h==="min"||h==="max"?L.slice(0,1):h?L.slice(0,2):L}function se(){return d.getBoundingClientRect()}function de(L){const ae=se();let ke=0,Ee=0,tt=0;_?(ke=L.clientY-ae.top,Ee=ke/ae.height*100,Ee=y?Ee:100-Ee):(ke=L.clientX-ae.left,Ee=ke/ae.width*100,Ee=y?100-Ee:Ee),tt=(g-m)/100*Ee+m;let Nn;return h===!0&&v[0]===v[1]?tt>v[1]?1:0:(Nn=v.indexOf([...v].sort((Wn,pn)=>Math.abs(tt-Wn)-Math.abs(tt-pn))[0]),Nn)}function me(L){const ae=se();let ke=0,Ee=0,tt=0;_?(ke=L.clientY-ae.top,Ee=ke/ae.height*100,Ee=y?Ee:100-Ee):(ke=L.clientX-ae.left,Ee=ke/ae.width*100,Ee=y?100-Ee:Ee),tt=(g-m)/100*Ee+m,H(Y,tt)}function H(L,ae){return ae=a(ae),typeof L>"u"&&(L=Y),h&&(L===0&&ae>v[1]?p?n(0,v[1]=ae,v):ae=v[1]:L===1&&ae<v[0]&&(p?n(0,v[0]=ae,v):ae=v[0])),v[L]!==ae&&n(0,v[L]=ae,v),C!==ae&&(Pt(),C=ae),ae}function le(L){return h==="min"?0:L[0]}function _e(L){return h==="max"?0:h==="min"?100-L[0]:100-L[1]}function Ne(L){ue&&(n(25,ee=!1),$=!1,n(26,ne=!1))}function Le(L){S||(n(27,Y=R0(L.target)),n(25,ee=!0))}function ut(L){if(!S){const ae=R0(L.target);let ke=L.ctrlKey||L.metaKey||L.shiftKey?b*10:b,Ee=!1;switch(L.key){case"PageDown":ke*=10;case"ArrowRight":case"ArrowUp":H(ae,v[ae]+ke),Ee=!0;break;case"PageUp":ke*=10;case"ArrowLeft":case"ArrowDown":H(ae,v[ae]-ke),Ee=!0;break;case"Home":H(ae,m),Ee=!0;break;case"End":H(ae,g),Ee=!0;break}Ee&&(L.preventDefault(),L.stopPropagation())}}function Pe(L){if(!S){const ae=L.target,ke=vo(L);n(25,ee=!0),$=!0,n(26,ne=!0),n(27,Y=de(ke)),fe=C=a(v[Y]),vt(),L.type==="touchstart"&&!ae.matches(".pipVal")&&me(ke)}}function ct(L){L.type==="touchend"&&Ge(),n(26,ne=!1)}function Ve(L){ue=!1,ee&&L.target!==d&&!d.contains(L.target)&&n(25,ee=!1)}function q(L){S||$&&me(vo(L))}function oe(L){if(!S){const ae=L.target;$&&((ae===d||d.contains(ae))&&(n(25,ee=!0),!j(ae)&&!ae.matches(".pipVal")&&me(vo(L))),Ge())}$=!1,n(26,ne=!1)}function Be(L){$=!1,n(26,ne=!1)}function Ze(L){S||(L.target===d||d.contains(L.target))&&(ue=!0)}function vt(){!S&&V("start",{activeHandle:Y,value:fe,values:v.map(L=>a(L))})}function Ge(){!S&&V("stop",{activeHandle:Y,startValue:fe,value:v[Y],values:v.map(L=>a(L))})}function Pt(){!S&&V("change",{activeHandle:Y,startValue:fe,previousValue:typeof C>"u"?fe:C,value:v[Y],values:v.map(L=>a(L))})}function Bt(L){hr[L?"unshift":"push"](()=>{d=L,n(1,d)})}return e.$$set=L=>{"slider"in L&&n(1,d=L.slider),"range"in L&&n(2,h=L.range),"pushy"in L&&n(45,p=L.pushy),"min"in L&&n(3,m=L.min),"max"in L&&n(4,g=L.max),"step"in L&&n(5,b=L.step),"values"in L&&n(0,v=L.values),"vertical"in L&&n(6,_=L.vertical),"float"in L&&n(7,x=L.float),"reversed"in L&&n(8,y=L.reversed),"hoverable"in L&&n(9,w=L.hoverable),"disabled"in L&&n(10,S=L.disabled),"pips"in L&&n(11,M=L.pips),"pipstep"in L&&n(12,A=L.pipstep),"all"in L&&n(13,D=L.all),"first"in L&&n(14,I=L.first),"last"in L&&n(15,k=L.last),"rest"in L&&n(16,E=L.rest),"id"in L&&n(17,B=L.id),"prefix"in L&&n(18,F=L.prefix),"suffix"in L&&n(19,T=L.suffix),"formatter"in L&&n(20,z=L.formatter),"handleFormatter"in L&&n(21,Q=L.handleFormatter),"ariaLabels"in L&&n(22,re=L.ariaLabels),"precision"in L&&n(46,te=L.precision),"springValues"in L&&n(47,W=L.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(L){return L<=m?m:L>=g?g:L}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,a=function(L){if(L<=m)return X(m);if(L>=g)return X(g);L=X(L);let ae=(L-m)%b,ke=L-ae;return Math.abs(ae)*2>=b&&(ke+=ae>0?b:-b),ke=i(ke),X(ke)}),e.$$.dirty[0]&24&&n(24,r=function(L){let ae=(L-m)/(g-m)*100;return isNaN(ae)||ae<=0?0:ae>=100?100:X(ae)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(v)||(n(0,v=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const L=ce(v.map(ae=>a(ae)));(v.length!==L.length||!v.every((ae,ke)=>X(ae)===L[ke]))&&n(0,v=L),J!==v.length?u(n(23,U=ak(v.map(ae=>r(ae)),W))):U.set(v.map(ae=>r(ae))),n(48,J=v.length),v.length>1&&!Array.isArray(re)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,s=_?y?"top":"bottom":y?"right":"left"),e.$$.dirty[0]&320&&n(28,f=_?y?"bottom":"top":y?"left":"right")},[v,d,h,m,g,b,_,x,y,w,S,M,A,D,I,k,E,B,F,T,z,Q,re,U,r,ee,ne,Y,f,s,c,X,H,le,_e,Ne,Le,ut,Pe,ct,Ve,q,oe,Be,Ze,p,te,W,J,a,i,Bt]}class Ay extends bt{constructor(t){super(),yt(this,t,lk,ck,_t,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function j0(e){let t,n;return{c(){t=G("p"),n=$e(e[2])},l(r){t=K(r,"P",{});var i=Z(t);n=je(i,e[2]),i.forEach(P)},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i&4&&en(n,r[2])},d(r){r&&P(t)}}}function uk(e){let t,n,r,i,a,s=e[2]&&j0(e);function f(l){e[14](l)}let c={min:+e[0],max:+e[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return e[6]!==void 0&&(c.values=e[6]),r=new Ay({props:c}),hr.push(()=>Q0(r,"values",f)),r.$on("start",e[8]),r.$on("change",e[7]),r.$on("stop",e[9]),{c(){t=G("div"),s&&s.c(),n=pe(),tl(r.$$.fragment),this.h()},l(l){t=K(l,"DIV",{class:!0,id:!0});var u=Z(t);s&&s.l(u),n=ge(u),nl(r.$$.fragment,u),u.forEach(P),this.h()},h(){O(t,"class","px-[1%] py-[1%] ml-[2.1%]"),O(t,"id","slider")},m(l,u){Se(l,t,u),s&&s.m(t,null),N(t,n),rl(r,t,null),a=!0},p(l,[u]){l[2]?s?s.p(l,u):(s=j0(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),!i&&u&64&&(i=!0,d.values=l[6],ep(()=>i=!1)),r.$set(d)},i(l){a||(Ke(r.$$.fragment,l),a=!0)},o(l){Je(r.$$.fragment,l),a=!1},d(l){l&&P(t),s&&s.d(),il(r)}}}function dk(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(_,k=>n(15,r=k)),_),s,f=Ce,c=()=>(f(),f=cn(b,k=>n(16,s=k)),b),l,u=Ce,d=()=>(u(),u=cn(v,k=>n(17,l=k)),v);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=100,id:m,description:g}=t,{change:b=lt({})}=t;c();let{stop:v=lt({})}=t;d();let{drag:_=lt({})}=t;a();let{interactions:x={change:b,stop:v,drag:_}}=t;tp("dims");let y=[h,p];[...y];function w(k){console.log("Slider.render",k),k&&ze(Array,k)&&At(k.filter(E=>E===void 0))&&(n(6,y=[+k[0].min,+k[0].max]),n(0,[h,p]=y,h,n(1,p)),console.log("Slider.render.to",y)),y&&y.length>=2&&M()}function S(k,E){console.log("Slider.load",k,E),!(!cr("left")(k)||!cr("right")(k))&&(k=k??{left:h,right:p},n(6,y=[k.left??h,k.right??p]),M())}function M(){b.isActive&&We(b,s={left:y[0],right:y[1]},s),_.isActive&&We(_,r={left:y[0],right:y[1]},r)}function A(){_.isActive&&We(_,r={left:y[0],right:y[1]},r)}function D(){v.isActive&&We(v,l={left:y[0],right:y[1]},l),b.isActive&&We(b,s={left:y[0],right:y[1]},s),_.isActive&&We(_,r={left:y[0],right:y[1]},r)}function I(k){y=k,n(6,y)}return e.$$set=k=>{"min"in k&&n(0,h=k.min),"max"in k&&n(1,p=k.max),"id"in k&&n(10,m=k.id),"description"in k&&n(2,g=k.description),"change"in k&&c(n(3,b=k.change)),"stop"in k&&d(n(4,v=k.stop)),"drag"in k&&a(n(5,_=k.drag)),"interactions"in k&&n(11,x=k.interactions)},[h,p,g,b,v,_,y,M,A,D,m,x,w,S,I]}class hk extends bt{constructor(t){super(),yt(this,t,dk,uk,_t,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ie()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ie()}get id(){return this.$$.ctx[10]}set id(t){this.$$set({id:t}),ie()}get description(){return this.$$.ctx[2]}set description(t){this.$$set({description:t}),ie()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ie()}get stop(){return this.$$.ctx[4]}set stop(t){this.$$set({stop:t}),ie()}get drag(){return this.$$.ctx[5]}set drag(t){this.$$set({drag:t}),ie()}get interactions(){return this.$$.ctx[11]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function pk(e){let t,n;return{c(){t=G("div"),n=G("div"),this.h()},l(r){t=K(r,"DIV",{id:!0});var i=Z(t);n=K(i,"DIV",{}),Z(n).forEach(P),i.forEach(P),this.h()},h(){O(t,"id",e[0])},m(r,i){Se(r,t,i),N(t,n),e[18](n)},p(r,[i]){i&1&&O(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&P(t),e[18](null)}}}function gk(e,t,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:c="val",yMax:l,magic:u,xDomainMin:d=null,xDomainMax:h=null,theplot:p=null}=t,m={};const g=["#93c1cf","#feb144","#9ee09e","#ff6663"];let{brushX:b=lt({}),interactions:v={brushX:b}}=t,_,x=null,y=[],w=[{},{}];function S(k,E){return E!="overlay"?!1:(m=k,!0)}function M(k,E){return E!="badyear"?!1:(k.forEach((B,F)=>{B.rank=F+1,B[f]=Number(B[f])}),w=k,!0)}function A(k,E){!k||k.length===0||typeof E=="object"||(M(k,E)||S(k,E)?console.debug("overlay or badyear"):(y=LS(k,{include:a}),y.forEach(B=>B[f]=Number(B[f]))),D())}function D(){n(2,d=+d),n(3,h=+h);let k=Wc({x:{type:"linear",domain:[d-1,h]}}),E=F=>(w.length-F.rank)*(.3/w.length)+.7,B={x:k,color:{domain:a,range:g,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[Si({ticks:h2(F=>F+d,h-d),tickRotate:-90,fontSize:10,tickFormat:F=>(F+"").slice(-2)}),Na({fontSize:10,label:"Severity"}),fu([0]),su([k.domain[0]]),Kc(w,{x1:F=>F[f]-.5,x2:F=>F[f]+.5,y:E,stroke:"black",opacity:.8,strokeWidth:1}),ES(w,{x1:F=>F[f]-.5,x2:F=>F[f]+.5,y1:0,y2:E,fill:"gray",opacity:.1}),mu(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),wS(y,{filter:F=>F.key==a.at(-1)&&F[f]>=d&&F[f]<=h&&+F[c]==0,x:F=>+F[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((F,T)=>{let z=(1+T)/a.length*.7;B.marks.push(Kc(y,{filter:Q=>Q.key==F&&Q[f]>=d&&Q[f]<=h,x:Q=>+Q[f]+z-.35,y1:0,y2:c,stroke:"key",strokeWidth:4}))}),n(4,p=Qs(B,x)),b.isActive&&(_=_??new bu({iact:b,magic:u}),_.init(p))}function I(k){hr[k?"unshift":"push"](()=>{x=k,n(1,x)})}return e.$$set=k=>{"id"in k&&n(5,r=k.id),"name"in k&&n(0,i=k.name),"groupNames"in k&&n(6,a=k.groupNames),"title"in k&&n(7,s=k.title),"xAttr"in k&&n(8,f=k.xAttr),"yAttr"in k&&n(9,c=k.yAttr),"yMax"in k&&n(10,l=k.yMax),"magic"in k&&n(11,u=k.magic),"xDomainMin"in k&&n(2,d=k.xDomainMin),"xDomainMax"in k&&n(3,h=k.xDomainMax),"theplot"in k&&n(4,p=k.theplot),"brushX"in k&&n(12,b=k.brushX),"interactions"in k&&n(13,v=k.interactions)},[i,x,d,h,p,r,a,s,f,c,l,u,b,v,S,M,A,D,I]}class mk extends bt{constructor(t){super(),yt(this,t,gk,pk,_t,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get groupNames(){return this.$$.ctx[6]}set groupNames(t){this.$$set({groupNames:t}),ie()}get title(){return this.$$.ctx[7]}set title(t){this.$$set({title:t}),ie()}get xAttr(){return this.$$.ctx[8]}set xAttr(t){this.$$set({xAttr:t}),ie()}get yAttr(){return this.$$.ctx[9]}set yAttr(t){this.$$set({yAttr:t}),ie()}get yMax(){return this.$$.ctx[10]}set yMax(t){this.$$set({yMax:t}),ie()}get magic(){return this.$$.ctx[11]}set magic(t){this.$$set({magic:t}),ie()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get theplot(){return this.$$.ctx[4]}set theplot(t){this.$$set({theplot:t}),ie()}get brushX(){return this.$$.ctx[12]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[13]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function bk(e){let t,n;return{c(){t=G("div"),n=G("div"),this.h()},l(r){t=K(r,"DIV",{id:!0});var i=Z(t);n=K(i,"DIV",{}),Z(n).forEach(P),i.forEach(P),this.h()},h(){O(t,"id",e[0])},m(r,i){Se(r,t,i),N(t,n),e[11](n)},p(r,[i]){i&1&&O(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&P(t),e[11](null)}}}function yk(e,t,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=t,{brushX:c=lt({})}=t,{interactions:l={brushX:c}}=t,u,d,h,p={},m=[];const g=["#93c1cf","#feb144","#9ee09e","#ff6663"];function b(y,w){return w!="overlay"?!1:(p=y,!0)}function v(y,w){!y||y.length===0||typeof w=="object"||(b(y,w)?console.debug("overlay"):m=y,_())}function _(){let y={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,marginLeft:90,height:300,fy:{label:null,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},range:g,legend:!0},marks:[Si({ticks:36,fontSize:10}),by(),mu(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key"}),Kc(m,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"village"}),Ks(m,{x:w=>{let S=(w.end_time-w.start_time)/2+w.start_time;return console.log("yy",w,S),S},y:"activity",dy:3,lineAnchor:"top",fy:"village",fontSize:10,color:"gray",text:"activity"})]};u=Qs(y,d),c.isActive&&(h=h??new bu({iact:c,magic:f}),h.init(u))}function x(y){hr[y?"unshift":"push"](()=>{d=y,n(1,d)})}return e.$$set=y=>{"id"in y&&n(2,r=y.id),"name"in y&&n(0,i=y.name),"xDomainMin"in y&&n(3,a=y.xDomainMin),"xDomainMax"in y&&n(4,s=y.xDomainMax),"magic"in y&&n(5,f=y.magic),"brushX"in y&&n(6,c=y.brushX),"interactions"in y&&n(7,l=y.interactions)},[i,d,r,a,s,f,c,l,b,v,_,x]}class _k extends bt{constructor(t){super(),yt(this,t,yk,bk,_t,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ie()}get brushX(){return this.$$.ctx[6]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function vk(e){let t,n;return{c(){t=G("div"),n=G("div"),this.h()},l(r){t=K(r,"DIV",{id:!0});var i=Z(t);n=K(i,"DIV",{}),Z(n).forEach(P),i.forEach(P),this.h()},h(){O(t,"id",e[0])},m(r,i){Se(r,t,i),N(t,n),e[6](n)},p(r,[i]){i&1&&O(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&P(t),e[6](null)}}}function wk(e,t,n){let{name:r,id:i,interactions:a={}}=t,s,f=[];function c(d,h){!d||d.length===0||(f=d,l())}function l(){let d=Wc({color:{type:"linear",scheme:"greens"}}),h=Wc({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=f.map(g=>h.apply(Io(d.apply(+g.value)).l)),m={padding:0,marginLeft:150,height:300,color:d,marks:[Si({fontSize:10,label:null}),Na({fontSize:10,label:null}),bS(f,{x:"x",y:"y",fill:g=>+g.value,stroke:"white"}),Ks(f,{x:"x",y:"y",text:g=>g.value,fill:p,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Qs(m,s)}function u(d){hr[d?"unshift":"push"](()=>{s=d,n(1,s)})}return e.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,c,l,u]}class xk extends bt{constructor(t){super(),yt(this,t,wk,vk,_t,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ie()}get interactions(){return this.$$.ctx[3]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const Sk=lt({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:tk}),q0=lt([]),z0=lt({});function U0(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function kk(e){let t,n=e[15][e[2]]+"",r;return{c(){t=G("option"),r=$e(n),this.h()},l(i){t=K(i,"OPTION",{});var a=Z(t);r=je(a,n),a.forEach(P),this.h()},h(){t.__value=e[17],t.value=t.__value},m(i,a){Se(i,t,a),N(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&en(r,n)},d(i){i&&P(t)}}}function Mk(e){let t,n=e[15][e[2]]+"",r;return{c(){t=G("option"),r=$e(n),this.h()},l(i){t=K(i,"OPTION",{});var a=Z(t);r=je(a,n),a.forEach(P),this.h()},h(){t.__value=e[17],t.value=t.__value,t.selected=!0},m(i,a){Se(i,t,a),N(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&en(r,n)},d(i){i&&P(t)}}}function V0(e){let t;function n(a,s){return a[17]===a[1]?Mk:kk}let r=n(e),i=r(e);return{c(){i.c(),t=Xe()},l(a){i.l(a),t=Xe()},m(a,s){i.m(a,s),Se(a,t,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t.parentNode,t)))},d(a){i.d(a),a&&P(t)}}}function Ak(e){let t,n,r,i,a=e[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=V0(U0(e,a,f));return{c(){t=G("div"),n=G("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=K(f,"DIV",{class:!0,id:!0});var c=Z(t);n=K(c,"SELECT",{class:!0});var l=Z(n);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(P),c.forEach(P),this.h()},h(){O(n,"class","form-select block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[4]===void 0&&Xy(()=>e[10].call(n)),O(t,"class","px-[1%] py-[1%] container svelte-p4yrke"),O(t,"id",e[0])},m(f,c){Se(f,t,c),N(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);Lu(n,e[4],!0),r||(i=[Fe(n,"change",e[10]),Fe(n,"change",e[6])],r=!0)},p(f,[c]){if(c&38){a=f[5];let l;for(l=0;l<a.length;l+=1){const u=U0(f,a,l);s[l]?s[l].p(u,c):(s[l]=V0(u),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}c&16&&Lu(n,f[4]),c&1&&O(t,"id",f[0])},i:Ce,o:Ce,d(f){f&&P(t),el(s,f),r=!1,pr(i)}}}function Ek(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(u,_=>n(11,r=_)),u),s;wo(e,Sk,_=>n(12,s=_)),e.$$.on_destroy.push(()=>i());let{id:f,index:c,dropdown_key:l}=t,{change:u=lt({})}=t;a();let{interactions:d={change:u}}=t,h=null,p=[];s.margin;function m(_,x){n(5,p=_??p),n(4,h=h??c),console.log("Dropdown.render",p,h,x),b()}function g(_){console.log("Dropdown.load",_),n(4,h=_.idx),m()}function b(){u.isActive&&We(u,r={...p[h],idx:h},r)}function v(){h=Gy(this),n(4,h)}return e.$$set=_=>{"id"in _&&n(0,f=_.id),"index"in _&&n(1,c=_.index),"dropdown_key"in _&&n(2,l=_.dropdown_key),"change"in _&&a(n(3,u=_.change)),"interactions"in _&&n(7,d=_.interactions)},[f,c,l,u,h,p,b,d,m,g,v]}class Tk extends bt{constructor(t){super(),yt(this,t,Ek,Ak,_t,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(t){this.$$set({id:t}),ie()}get index(){return this.$$.ctx[1]}set index(t){this.$$set({index:t}),ie()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(t){this.$$set({dropdown_key:t}),ie()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ie()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function Ck(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m;return{c(){t=G("form"),n=G("div"),r=G("input"),i=pe(),a=G("button"),s=$e("Login"),f=pe(),c=G("button"),l=$e("Save"),u=pe(),d=G("button"),h=$e("Logout"),this.h()},l(g){t=K(g,"FORM",{class:!0});var b=Z(t);n=K(b,"DIV",{class:!0});var v=Z(n);r=K(v,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=ge(v),a=K(v,"BUTTON",{class:!0,type:!0});var _=Z(a);s=je(_,"Login"),_.forEach(P),f=ge(v),c=K(v,"BUTTON",{class:!0,type:!0});var x=Z(c);l=je(x,"Save"),x.forEach(P),u=ge(v),d=K(v,"BUTTON",{class:!0,type:!0});var y=Z(d);h=je(y,"Logout"),y.forEach(P),v.forEach(P),b.forEach(P),this.h()},h(){O(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),O(r,"type","text"),O(r,"placeholder","Login..."),O(r,"aria-label","username"),O(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),O(a,"type","button"),O(c,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),O(c,"type","button"),O(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),O(d,"type","button"),O(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),O(t,"class","w-full max-w-sm mx-auto")},m(g,b){Se(g,t,b),N(t,n),N(n,r),xo(r,e[1]),N(n,i),N(n,a),N(a,s),N(n,f),N(n,c),N(c,l),N(n,u),N(n,d),N(d,h),p||(m=[Fe(r,"input",e[14]),Fe(a,"click",e[2]),Fe(c,"click",e[3]),Fe(d,"click",e[4])],p=!0)},p(g,[b]){b&2&&r.value!==g[1]&&xo(r,g[1])},i:Ce,o:Ce,d(g){g&&P(t),p=!1,pr(m)}}}function Ey(e,t){console.debug("login invoked",e,t)}function Dk(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(s,w=>n(16,r=w)),s);e.$$.on_destroy.push(()=>i());let{status:s=lt({}),interactions:f={status:s}}=t;a();let{id:c,magic:l,client:u,exportFunc:d,importFunc:h,dataTable:p,stateTable:m}=t,g,b;const v=async()=>{console.debug("login user: ",g),b=l.exportState();const w=await u.query(h,{table:m,user:g});if(!w){alert("there is no data for this user"),We(s,r={user:g,loggedin:!0},r);return}We(s,r={user:g,loggedin:!0},r),l.importState(w.data)},_=async()=>{let w=l.exportData();await u.mutation(d,{data:w,table:p,user:g}),w=l.exportState(),await u.mutation(d,{data:w,table:m,user:g}),alert("save function executed")},x=async()=>{l.importState(b),n(1,g=null)};function y(){g=this.value,n(1,g)}return e.$$set=w=>{"status"in w&&a(n(0,s=w.status)),"interactions"in w&&n(5,f=w.interactions),"id"in w&&n(6,c=w.id),"magic"in w&&n(7,l=w.magic),"client"in w&&n(8,u=w.client),"exportFunc"in w&&n(9,d=w.exportFunc),"importFunc"in w&&n(10,h=w.importFunc),"dataTable"in w&&n(11,p=w.dataTable),"stateTable"in w&&n(12,m=w.stateTable)},[s,g,v,_,x,f,c,l,u,d,h,p,m,Ey,y]}class Nk extends bt{constructor(t){super(),yt(this,t,Dk,Ck,_t,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(t){this.$$set({status:t}),ie()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ie()}get id(){return this.$$.ctx[6]}set id(t){this.$$set({id:t}),ie()}get magic(){return this.$$.ctx[7]}set magic(t){this.$$set({magic:t}),ie()}get client(){return this.$$.ctx[8]}set client(t){this.$$set({client:t}),ie()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(t){this.$$set({exportFunc:t}),ie()}get importFunc(){return this.$$.ctx[10]}set importFunc(t){this.$$set({importFunc:t}),ie()}get dataTable(){return this.$$.ctx[11]}set dataTable(t){this.$$set({dataTable:t}),ie()}get stateTable(){return this.$$.ctx[12]}set stateTable(t){this.$$set({stateTable:t}),ie()}get render(){return Ey}}function Ik(e){let t,n,r,i;return{c(){t=G("form"),n=G("input"),this.h()},l(a){t=K(a,"FORM",{class:!0});var s=Z(t);n=K(s,"INPUT",{type:!0,class:!0,placeholder:!0}),s.forEach(P),this.h()},h(){O(n,"type","text"),O(n,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),O(n,"placeholder",e[0]),O(t,"class","px-[1%] py-[1%] ml-[5.9%]")},m(a,s){Se(a,t,s),N(t,n),xo(n,e[2]),r||(i=[Fe(n,"input",e[8]),Fe(n,"change",e[3])],r=!0)},p(a,[s]){s&1&&O(n,"placeholder",a[0]),s&4&&n.value!==a[2]&&xo(n,a[2])},i:Ce,o:Ce,d(a){a&&P(t),r=!1,pr(i)}}}function Lk(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(c,g=>n(9,r=g)),c);e.$$.on_destroy.push(()=>i());let s=null,{placeholder:f="textbox"}=t,{change:c=lt({})}=t;a();let{id:l}=t,{interactions:u={change:c}}=t;function d(){c.isActive&&We(c,r={text:s},r)}function h(g){g&&R.is(Array,g)&&g.length&&n(0,f=String(g[0]))}function p(g,b){n(2,s=g),d()}function m(){s=this.value,n(2,s)}return e.$$set=g=>{"placeholder"in g&&n(0,f=g.placeholder),"change"in g&&a(n(1,c=g.change)),"id"in g&&n(4,l=g.id),"interactions"in g&&n(5,u=g.interactions)},[f,c,s,d,l,u,h,p,m]}class Ok extends bt{constructor(t){super(),yt(this,t,Lk,Ik,_t,{placeholder:0,change:1,id:4,interactions:5,render:6,load:7})}get placeholder(){return this.$$.ctx[0]}set placeholder(t){this.$$set({placeholder:t}),ie()}get change(){return this.$$.ctx[1]}set change(t){this.$$set({change:t}),ie()}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ie()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[6]}get load(){return this.$$.ctx[7]}}function Fk(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(f,g=>n(8,r=g)),f);e.$$.on_destroy.push(()=>i());let{id:s,valid:f=lt({}),interactions:c={valid:f},key:l,threshold_string:u}=t;a();let d=[],h=Number(u);function p(g,b){if(console.debug("trigger alert render"),d=g??d,At(d)||!ze(Array,d))return;const _=cl(l)(d);if(At(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}u_(_)<h?(We(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):We(f,r={valid:!0},r)}function m(g,b){At(g)||We(f,r=g,r)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"valid"in g&&a(n(0,f=g.valid)),"interactions"in g&&n(2,c=g.interactions),"key"in g&&n(3,l=g.key),"threshold_string"in g&&n(4,u=g.threshold_string)},[f,s,c,l,u,p,m]}class Pk extends bt{constructor(t){super(),yt(this,t,Fk,null,_t,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),ie()}get valid(){return this.$$.ctx[0]}set valid(t){this.$$set({valid:t}),ie()}get interactions(){return this.$$.ctx[2]}set interactions(t){this.$$set({interactions:t}),ie()}get key(){return this.$$.ctx[3]}set key(t){this.$$set({key:t}),ie()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(t){this.$$set({threshold_string:t}),ie()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}var Ty={exports:{}},Bk=Ty.exports={};Bk.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Cy=Ty.exports,Rk=function(e){var t=e.stateHandler.getState;function n(s){var f=t(s);return f&&!!f.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,f){t(s).busy=!!f}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},$k=function(e){var t={};function n(s){var f=e.get(s);return f===void 0?[]:t[f]||[]}function r(s,f){var c=e.get(s);t[c]||(t[c]=[]),t[c].push(f)}function i(s,f){for(var c=n(s),l=0,u=c.length;l<u;++l)if(c[l]===f){c.splice(l,1);break}}function a(s){var f=n(s);f&&(f.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},jk=function(){var e=1;function t(){return e++}return{generate:t}},qk=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var f=t.generate();return s.id=f,f}return{get:r,set:i}},zk=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var f=console[a];if(f.apply)f.apply(console,arguments);else for(var c=0;c<arguments.length;c++)f(arguments[c])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Dy={exports:{}},Ny=Dy.exports={};Ny.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};Ny.isLegacyOpera=function(){return!!window.opera};var Iy=Dy.exports,Ly={exports:{}},Uk=Ly.exports={};Uk.getOption=Vk;function Vk(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var Hk=Ly.exports,H0=Hk,Wk=function(t){t=t||{};var n=t.reporter,r=H0.getOption(t,"async",!0),i=H0.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=W0(),s,f=!1;function c(m,g){!f&&i&&r&&a.size()===0&&d(),a.add(m,g)}function l(){for(f=!0;a.size();){var m=a;a=W0(),m.process()}f=!1}function u(m){f||(m===void 0&&(m=r),s&&(h(s),s=null),m?d():l())}function d(){s=p(l)}function h(m){var g=clearTimeout;return g(m)}function p(m){var g=function(b){return setTimeout(b,0)};return g(m)}return{add:c,force:u}};function W0(){var e={},t=0,n=0,r=0;function i(f,c){c||(c=f,f=0),f>n?n=f:f<r&&(r=f),e[f]||(e[f]=[]),e[f].push(c),t++}function a(){for(var f=r;f<=n;f++)for(var c=e[f],l=0;l<c.length;l++){var u=c[l];u()}}function s(){return t}return{add:i,process:a,size:s}}var yu="_erd";function Yk(e){return e[yu]={},Oy(e)}function Oy(e){return e[yu]}function Xk(e){delete e[yu]}var Gk={initState:Yk,getState:Oy,cleanState:Xk},Oi=Iy,Kk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,u){function d(){u(l)}if(Oi.isIE(8))r(l).object={proxy:d},l.attachEvent("onresize",d);else{var h=f(l);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function a(l){var u=e.important?" !important; ":"; ";return(l.join(u)+u).trim()}function s(l,u,d){d||(d=u,u=l,l=null),l=l||{},l.debug;function h(p,m){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,v=window.getComputedStyle(p),_=p.offsetWidth,x=p.offsetHeight;r(p).startSize={width:_,height:x};function y(){function w(){if(v.position==="static"){p.style.setProperty("position","relative",l.important?"important":"");var A=function(D,I,k,E){function B(T){return T.replace(/[^-\d\.]/g,"")}var F=k[E];F!=="auto"&&B(F)!=="0"&&(D.warn("An element that is positioned static has style."+E+"="+F+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+E+" will be set to 0. Element: ",I),I.style.setProperty(E,"0",l.important?"important":""))};A(t,p,v,"top"),A(t,p,v,"right"),A(t,p,v,"bottom"),A(t,p,v,"left")}}function S(){b||w();function A(I,k){if(!I.contentDocument){var E=r(I);E.checkForObjectDocumentTimeoutId&&window.clearTimeout(E.checkForObjectDocumentTimeoutId),E.checkForObjectDocumentTimeoutId=setTimeout(function(){E.checkForObjectDocumentTimeoutId=0,A(I,k)},100);return}k(I.contentDocument)}var D=this;A(D,function(k){m(p)})}v.position!==""&&(w(),b=!0);var M=document.createElement("object");M.style.cssText=g,M.tabIndex=-1,M.type="text/html",M.setAttribute("aria-hidden","true"),M.onload=S,Oi.isIE()||(M.data="about:blank"),r(p)&&(p.appendChild(M),r(p).object=M,Oi.isIE()&&(M.data="about:blank"))}n?n.add(y):y()}Oi.isIE(8)?d(u):h(u,d)}function f(l){return r(l).object}function c(l){if(r(l)){var u=f(l);u&&(Oi.isIE(8)?l.detachEvent("onresize",u.proxy):l.removeChild(u),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:c}},Zk=Cy.forEach,Jk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=u(),s="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function c(y){d(y,s,f)}c(window.document);function l(y){var w=e.important?" !important; ":"; ";return(y.join(w)+w).trim()}function u(){var y=500,w=500,S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+y*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var M=document.createElement("div");M.style.cssText=l(["position: absolute","width: "+y+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-y*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),M.appendChild(S),document.body.insertBefore(M,document.body.firstChild);var A=y-M.clientWidth,D=w-M.clientHeight;return document.body.removeChild(M),{width:A,height:D}}function d(y,w,S){function M(k,E){E=E||function(F){y.head.appendChild(F)};var B=y.createElement("style");return B.innerHTML=k,B.id=w,E(B),B}if(!y.getElementById(w)){var A=S+"_animation",D=S+"_animation_active",I=`/* Created by the element-resize-detector library. */
`;I+="."+S+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,I+="."+D+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+A,"animation-name: "+A])+` }
`,I+="@-webkit-keyframes "+A+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,I+="@keyframes "+A+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",M(I)}}function h(y){y.className+=" "+f+"_animation_active"}function p(y,w,S){if(y.addEventListener)y.addEventListener(w,S);else if(y.attachEvent)y.attachEvent("on"+w,S);else return t.error("[scroll] Don't know how to add event listeners.")}function m(y,w,S){if(y.removeEventListener)y.removeEventListener(w,S);else if(y.detachEvent)y.detachEvent("on"+w,S);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(y){return r(y).container.childNodes[0].childNodes[0].childNodes[0]}function b(y){return r(y).container.childNodes[0].childNodes[0].childNodes[1]}function v(y,w){var S=r(y).listeners;if(!S.push)throw new Error("Cannot add listener to an element that is not detectable.");r(y).listeners.push(w)}function _(y,w,S){S||(S=w,w=y,y=null),y=y||{};function M(){if(y.debug){var C=Array.prototype.slice.call(arguments);if(C.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,C);else for(var U=0;U<C.length;U++)t.log(C[U])}}function A(C){function U(X){var j=X.getRootNode&&X.getRootNode().contains(X);return X===X.ownerDocument.body||X.ownerDocument.body.contains(X)||j}return!U(C)||window.getComputedStyle(C)===null}function D(C){var U=r(C).container.childNodes[0],X=window.getComputedStyle(U);return!X.width||X.width.indexOf("px")===-1}function I(){var C=window.getComputedStyle(w),U={};return U.position=C.position,U.width=w.offsetWidth,U.height=w.offsetHeight,U.top=C.top,U.right=C.right,U.bottom=C.bottom,U.left=C.left,U.widthCSS=C.width,U.heightCSS=C.height,U}function k(){var C=I();r(w).startSize={width:C.width,height:C.height},M("Element start size",r(w).startSize)}function E(){r(w).listeners=[]}function B(){if(M("storeStyle invoked."),!r(w)){M("Aborting because element has been uninstalled");return}var C=I();r(w).style=C}function F(C,U,X){r(C).lastWidth=U,r(C).lastHeight=X}function T(C){return g(C).childNodes[0]}function z(){return 2*a.width+1}function Q(){return 2*a.height+1}function re(C){return C+10+z()}function te(C){return C+10+Q()}function W(C){return C*2+z()}function V(C){return C*2+Q()}function J(C,U,X){var j=g(C),ce=b(C),se=re(U),de=te(X),me=W(U),H=V(X);j.scrollLeft=se,j.scrollTop=de,ce.scrollLeft=me,ce.scrollTop=H}function ee(){var C=r(w).container;if(!C){C=document.createElement("div"),C.className=f,C.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=C,h(C),w.appendChild(C);var U=function(){r(w).onRendered&&r(w).onRendered()};p(C,"animationstart",U),r(w).onAnimationStart=U}return C}function $(){function C(){var Be=r(w).style;if(Be.position==="static"){w.style.setProperty("position","relative",y.important?"important":"");var Ze=function(vt,Ge,Pt,Bt){function L(ke){return ke.replace(/[^-\d\.]/g,"")}var ae=Pt[Bt];ae!=="auto"&&L(ae)!=="0"&&(vt.warn("An element that is positioned static has style."+Bt+"="+ae+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Bt+" will be set to 0. Element: ",Ge),Ge.style[Bt]=0)};Ze(t,w,Be,"top"),Ze(t,w,Be,"right"),Ze(t,w,Be,"bottom"),Ze(t,w,Be,"left")}}function U(Be,Ze,vt,Ge){return Be=Be?Be+"px":"0",Ze=Ze?Ze+"px":"0",vt=vt?vt+"px":"0",Ge=Ge?Ge+"px":"0",["left: "+Be,"top: "+Ze,"right: "+Ge,"bottom: "+vt]}if(M("Injecting elements"),!r(w)){M("Aborting because element has been uninstalled");return}C();var X=r(w).container;X||(X=ee());var j=a.width,ce=a.height,se=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(U(-(1+j),-(1+ce),-ce,-j))),me=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),H=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),le=l(["position: absolute","left: 0","top: 0"]),_e=l(["position: absolute","width: 200%","height: 200%"]),Ne=document.createElement("div"),Le=document.createElement("div"),ut=document.createElement("div"),Pe=document.createElement("div"),ct=document.createElement("div"),Ve=document.createElement("div");Ne.dir="ltr",Ne.style.cssText=se,Ne.className=f,Le.className=f,Le.style.cssText=de,ut.style.cssText=me,Pe.style.cssText=le,ct.style.cssText=H,Ve.style.cssText=_e,ut.appendChild(Pe),ct.appendChild(Ve),Le.appendChild(ut),Le.appendChild(ct),Ne.appendChild(Le),X.appendChild(Ne);function q(){var Be=r(w);Be&&Be.onExpand?Be.onExpand():M("Aborting expand scroll handler: element has been uninstalled")}function oe(){var Be=r(w);Be&&Be.onShrink?Be.onShrink():M("Aborting shrink scroll handler: element has been uninstalled")}p(ut,"scroll",q),p(ct,"scroll",oe),r(w).onExpandScroll=q,r(w).onShrinkScroll=oe}function ne(){function C(me,H,le){var _e=T(me),Ne=re(H),Le=te(le);_e.style.setProperty("width",Ne+"px",y.important?"important":""),_e.style.setProperty("height",Le+"px",y.important?"important":"")}function U(me){var H=w.offsetWidth,le=w.offsetHeight,_e=H!==r(w).lastWidth||le!==r(w).lastHeight;M("Storing current size",H,le),F(w,H,le),n.add(0,function(){if(_e){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!X()){M("Aborting because element container has not been initialized");return}if(y.debug){var Le=w.offsetWidth,ut=w.offsetHeight;(Le!==H||ut!==le)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}C(w,H,le)}}),n.add(1,function(){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!X()){M("Aborting because element container has not been initialized");return}J(w,H,le)}),_e&&me&&n.add(2,function(){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!X()){M("Aborting because element container has not been initialized");return}me()})}function X(){return!!r(w).container}function j(){function me(){return r(w).lastNotifiedWidth===void 0}M("notifyListenersIfNeeded invoked");var H=r(w);if(me()&&H.lastWidth===H.startSize.width&&H.lastHeight===H.startSize.height)return M("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(H.lastWidth===H.lastNotifiedWidth&&H.lastHeight===H.lastNotifiedHeight)return M("Not notifying: Size already notified");M("Current size not notified, notifying..."),H.lastNotifiedWidth=H.lastWidth,H.lastNotifiedHeight=H.lastHeight,Zk(r(w).listeners,function(le){le(w)})}function ce(){if(M("startanimation triggered."),D(w)){M("Ignoring since element is still unrendered...");return}M("Element rendered.");var me=g(w),H=b(w);(me.scrollLeft===0||me.scrollTop===0||H.scrollLeft===0||H.scrollTop===0)&&(M("Scrollbars out of sync. Updating detector elements..."),U(j))}function se(){if(M("Scroll detected."),D(w)){M("Scroll event fired while unrendered. Ignoring...");return}U(j)}if(M("registerListenersAndPositionElements invoked."),!r(w)){M("Aborting because element has been uninstalled");return}r(w).onRendered=ce,r(w).onExpand=se,r(w).onShrink=se;var de=r(w).style;C(w,de.width,de.height)}function ue(){if(M("finalizeDomMutation invoked."),!r(w)){M("Aborting because element has been uninstalled");return}var C=r(w).style;F(w,C.width,C.height),J(w,C.width,C.height)}function Y(){S(w)}function fe(){M("Installing..."),E(),k(),n.add(0,B),n.add(1,$),n.add(2,ne),n.add(3,ue),n.add(4,Y)}M("Making detectable..."),A(w)?(M("Element is detached"),ee(),M("Waiting until element is attached..."),r(w).onRendered=function(){M("Element is now attached"),fe()}):fe()}function x(y){var w=r(y);w&&(w.onExpandScroll&&m(g(y),"scroll",w.onExpandScroll),w.onShrinkScroll&&m(b(y),"scroll",w.onShrinkScroll),w.onAnimationStart&&m(w.container,"animationstart",w.onAnimationStart),w.container&&y.removeChild(w.container))}return{makeDetectable:_,addListener:v,uninstall:x,initDocument:c}},qi=Cy.forEach,Qk=Rk,eM=$k,tM=jk,nM=qk,rM=zk,Y0=Iy,iM=Wk,Yn=Gk,aM=Kk,oM=Jk;function X0(e){return Array.isArray(e)||e.length!==void 0}function G0(e){if(Array.isArray(e))return e;var t=[];return qi(e,function(n){t.push(n)}),t}function K0(e){return e&&e.nodeType===1}var sM=function(e){e=e||{};var t;if(e.idHandler)t={get:function(_){return e.idHandler.get(_,!0)},set:e.idHandler.set};else{var n=tM(),r=nM({idGenerator:n,stateHandler:Yn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=rM(a)}var s=Xn(e,"batchProcessor",iM({reporter:i})),f={};f.callOnAdd=!!Xn(e,"callOnAdd",!0),f.debug=!!Xn(e,"debug",!1);var c=eM(t),l=Qk({stateHandler:Yn}),u,d=Xn(e,"strategy","object"),h=Xn(e,"important",!1),p={reporter:i,batchProcessor:s,stateHandler:Yn,idHandler:t,important:h};if(d==="scroll"&&(Y0.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):Y0.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=oM(p);else if(d==="object")u=aM(p);else throw new Error("Invalid strategy name: "+d);var m={};function g(_,x,y){function w(k){var E=c.get(k);qi(E,function(F){F(k)})}function S(k,E,B){c.add(E,B),k&&B(E)}if(y||(y=x,x=_,_={}),!x)throw new Error("At least one element required.");if(!y)throw new Error("Listener required.");if(K0(x))x=[x];else if(X0(x))x=G0(x);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var M=0,A=Xn(_,"callOnAdd",f.callOnAdd),D=Xn(_,"onReady",function(){}),I=Xn(_,"debug",f.debug);qi(x,function(E){Yn.getState(E)||(Yn.initState(E),t.set(E));var B=t.get(E);if(I&&i.log("Attaching listener to element",B,E),!l.isDetectable(E)){if(I&&i.log(B,"Not detectable."),l.isBusy(E)){I&&i.log(B,"System busy making it detectable"),S(A,E,y),m[B]=m[B]||[],m[B].push(function(){M++,M===x.length&&D()});return}return I&&i.log(B,"Making detectable..."),l.markBusy(E,!0),u.makeDetectable({debug:I,important:h},E,function(T){if(I&&i.log(B,"onElementDetectable"),Yn.getState(T)){l.markAsDetectable(T),l.markBusy(T,!1),u.addListener(T,w),S(A,T,y);var z=Yn.getState(T);if(z&&z.startSize){var Q=T.offsetWidth,re=T.offsetHeight;(z.startSize.width!==Q||z.startSize.height!==re)&&w(T)}m[B]&&qi(m[B],function(te){te()})}else I&&i.log(B,"Element uninstalled before being detectable.");delete m[B],M++,M===x.length&&D()})}I&&i.log(B,"Already detecable, adding listener."),S(A,E,y),M++}),M===x.length&&D()}function b(_){if(!_)return i.error("At least one element is required.");if(K0(_))_=[_];else if(X0(_))_=G0(_);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");qi(_,function(x){c.removeAllListeners(x),u.uninstall(x),Yn.cleanState(x)})}function v(_){u.initDocument&&u.initDocument(_)}return{listenTo:g,removeListener:c.removeListener,removeAllListeners:c.removeAllListeners,uninstall:b,initDocument:v}};function Xn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const fM=IS(sM);fM({strategy:"scroll"});function cM(e,t,n){let r,i;wo(e,q0,f=>n(2,r=f)),wo(e,z0,f=>n(3,i=f));let a=[];function s(f,c){a=f??a,console.log("in query update.... ",f,c),We(z0,i[c]=a,i),c=="defaults_q"&&We(q0,r=a.map(l=>({chirps_early:{start:l.chirps_early_first,end:l.chirps_early_last},chirps_late:{start:l.chirps_late_first,end:l.chirps_late_last}})),r)}return[s]}class lM extends bt{constructor(t){super(),yt(this,t,cM,null,_t,{render:0})}get render(){return this.$$.ctx[0]}}function uM(e){let t,n;return{c(){t=G("div"),n=Ky("svg"),this.h()},l(r){t=K(r,"DIV",{class:!0});var i=Z(t);n=Zy(i,"svg",{id:!0,viewBox:!0,width:!0,height:!0});var a=Z(n);a.forEach(P),i.forEach(P),this.h()},h(){O(n,"id","svgcontainer"),O(n,"viewBox","372 130 30 30"),O(n,"width","100%"),O(n,"height","100%"),O(t,"class","w-5/5 h-5/5")},m(r,i){Se(r,t,i),N(t,n),e[4](t)},p:Ce,i:Ce,o:Ce,d(r){r&&P(t),e[4](null)}}}function dM(e,t,n){let{spec:r}=t,{theplot:i=null}=t,a,s=[],f;function c(u,d){if(!u||u.length==0)return;d=="overlay"||(s=u??s),console.log("map data to plot: ",s);let h={projection:"equirectangular",color:{type:"quantile",n:9,scheme:"blues"},marks:[NS(s,{strokeOpacity:.5,strokeWidth:.01,precision:.01,fill:m=>m.properties.OBJECTID})]};n(1,i=pu(h)),f=i.children[1];let p=document.getElementById("svgcontainer");p.innerHTML="",p.append(f)}function l(u){hr[u?"unshift":"push"](()=>{a=u,n(0,a)})}return e.$$set=u=>{"spec"in u&&n(2,r=u.spec),"theplot"in u&&n(1,i=u.theplot)},[a,i,r,c,l]}let hM=class extends bt{constructor(t){super(),yt(this,t,dM,uM,_t,{spec:2,theplot:1,render:3})}get spec(){return this.$$.ctx[2]}set spec(t){this.$$set({spec:t}),ie()}get theplot(){return this.$$.ctx[1]}set theplot(t){this.$$set({theplot:t}),ie()}get render(){return this.$$.ctx[3]}};function Z0(e){let t,n;return{c(){t=G("p"),n=$e(e[3])},l(r){t=K(r,"P",{});var i=Z(t);n=je(i,e[3]),i.forEach(P)},m(r,i){Se(r,t,i),N(t,n)},p(r,i){i&8&&en(n,r[3])},d(r){r&&P(t)}}}function pM(e){let t,n,r,i,a,s=e[3]&&Z0(e);function f(l){e[15](l)}let c={min:+e[0],max:+e[1],step:+e[2],float:!0,first:"label",last:"label",springValues:!0,id:"SingleSlider"};return e[7]!==void 0&&(c.value=e[7]),r=new Ay({props:c}),hr.push(()=>Q0(r,"value",f)),r.$on("start",e[9]),r.$on("change",e[8]),r.$on("stop",e[10]),{c(){t=G("div"),s&&s.c(),n=pe(),tl(r.$$.fragment),this.h()},l(l){t=K(l,"DIV",{class:!0,id:!0});var u=Z(t);s&&s.l(u),n=ge(u),nl(r.$$.fragment,u),u.forEach(P),this.h()},h(){O(t,"class","px-[1%] py-[1%] ml-[2.1%]"),O(t,"id","SingleSlider")},m(l,u){Se(l,t,u),s&&s.m(t,null),N(t,n),rl(r,t,null),a=!0},p(l,[u]){l[3]?s?s.p(l,u):(s=Z0(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),u&4&&(d.step=+l[2]),!i&&u&128&&(i=!0,d.value=l[7],ep(()=>i=!1)),r.$set(d)},i(l){a||(Ke(r.$$.fragment,l),a=!0)},o(l){Je(r.$$.fragment,l),a=!1},d(l){l&&P(t),s&&s.d(),il(r)}}}function gM(e,t,n){let r,i=Ce,a=()=>(i(),i=cn(x,E=>n(16,r=E)),x),s,f=Ce,c=()=>(f(),f=cn(v,E=>n(17,s=E)),v),l,u=Ce,d=()=>(u(),u=cn(_,E=>n(18,l=E)),_);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=1,step:m=.01,id:g,description:b}=t,{change:v=lt({})}=t;c();let{stop:_=lt({})}=t;d();let{drag:x=lt({})}=t;a();let{interactions:y={change:v,stop:_,drag:x}}=t;tp("dims");let w=h;function S(E){console.log("Slider.render",E),E&&!isNaN(E)&&(n(7,w=+E),console.log("Slider.render.to",w)),w!==void 0&&A()}function M(E,B){console.log("Slider.load",E,B),cr("value")(E)&&(E=E??{value:h},n(7,w=E.value??h),A())}function A(){v.isActive&&We(v,s={value:w},s),x.isActive&&We(x,r={value:w},r)}function D(){x.isActive&&We(x,r={value:w},r)}function I(){_.isActive&&We(_,l={value:w},l),v.isActive&&We(v,s={value:w},s),x.isActive&&We(x,r={value:w},r)}function k(E){w=E,n(7,w)}return e.$$set=E=>{"min"in E&&n(0,h=E.min),"max"in E&&n(1,p=E.max),"step"in E&&n(2,m=E.step),"id"in E&&n(11,g=E.id),"description"in E&&n(3,b=E.description),"change"in E&&c(n(4,v=E.change)),"stop"in E&&d(n(5,_=E.stop)),"drag"in E&&a(n(6,x=E.drag)),"interactions"in E&&n(12,y=E.interactions)},[h,p,m,b,v,_,x,w,A,D,I,g,y,S,M,k]}class mM extends bt{constructor(t){super(),yt(this,t,gM,pM,_t,{min:0,max:1,step:2,id:11,description:3,change:4,stop:5,drag:6,interactions:12,render:13,load:14})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ie()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ie()}get step(){return this.$$.ctx[2]}set step(t){this.$$set({step:t}),ie()}get id(){return this.$$.ctx[11]}set id(t){this.$$set({id:t}),ie()}get description(){return this.$$.ctx[3]}set description(t){this.$$set({description:t}),ie()}get change(){return this.$$.ctx[4]}set change(t){this.$$set({change:t}),ie()}get stop(){return this.$$.ctx[5]}set stop(t){this.$$set({stop:t}),ie()}get drag(){return this.$$.ctx[6]}set drag(t){this.$$set({drag:t}),ie()}get interactions(){return this.$$.ctx[12]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[13]}get load(){return this.$$.ctx[14]}}const bM=Object.freeze(Object.defineProperty({__proto__:null,Alert:Pk,BarGrouped:mk,Container:ek,CropCal:_k,DropDown:Tk,Header:y2,Line:ik,Login:Nk,Map:hM,MatchingTable:xk,MatchingTableBackend:p2,OverlayBackend:g2,QueryBackend:m2,QueryUpdate:lM,SingleSlider:mM,Slider:hk,Spinner:_2,Textbox:Ok},Symbol.toStringTag,{value:"Module"}));let yM=ec(bM,V6);function ao(e,t){if(!e)throw new Error(t)}function _M(e){let t=e.replaceAll(/\$\w+/g,n=>`o['${n.substring(1)}']`);return new Function("o",`return ${t}`)}const Fy=rc(pp(ze(Array),ze(Object)),zn(e=>Fy(e)),_M);let Xf={};class vM{constructor(t,n){this.magic=t,this.config=n,this.backends={},this.interactions={},this.views={},this.viewIdToViews,this.deferred=[],this._deferredMode=!1;const r=a=>s=>{let f=this.magic.backend[a](s);return f.type=a,f};["overlay","duckdb","array","identity"].forEach(a=>this[a]=r(a)),this.root=document.createElement("div"),document.body.appendChild(this.root),this.loadBackends(n.backends??[]),this.loadViews(n.views??[]),this._deferredMode=!0,this.deferred.forEach(a=>a())}defer(t,n){if(this._deferredMode)throw new Error(n);this.deferred.push(t.bind(this))}async init(){for(let t of yn(this.backends))t.type=="duckdb"&&await t.init();await this.loadDependencies(this.config.dependencies??[]);for(let t of yn(this.backends))switch(t.type){case"array":t.execute();break;case"query":await t.execute();break;case"matching":await t.execute();break}bn((t,n)=>{var r;(r=this.views[n])==null||r.load(t())},this.magic.dependencies.defaults);for(let t of yn(this.backends))t.save&&this.magic.saveBackends(t)}newName(t="name"){return Xf[t]=Xf[t]??0,`${t}${Xf[t]++}`}loadBackends(t){let n=Wu(this.createBackend.bind(this));return ip(r=>r.type=="duckdb",t).forEach(n),dp(r=>r.type=="duckdb",t).forEach(n),this}createBackend(t){let n=t.name??(t.type?this.newName(t.type):this.newName("backend"));if(this.backends[n])throw new Error(`Backend ${n} already exists`);let r=null;if(t.type)r=this[t.type](t);else if(t.query)r=this.query(t);else if(t.matching)r=this.matching(t);else{if(t.backend)return this.backends[t.backend];if(t.interaction){r=this.identity();let i=this.interactions[t.interaction];Te(i)&&this.defer(()=>this.createBackend(t),`Interaction ${t.interaction} not found`),r&&i&&this.magic.connect(r,i)}else if(t.array)r=this.array({...t,data:t.array});else throw new Error("Can't initialize backend config:",t)}return ao(!Te(r),`Backend is null ${r.type}`),ao(!Te(r.type),`New Backend must have type attr ${JSON.stringify(t)}`),r.save=t.save,this.backends[n]=r,r}matching({name:t,ignore_cols:n,default_func:r,backend:i,matching:a,defaults:s={}}){i=ze(String,i)?this.backends[i]:i,t=t??this.newName("matching");let f=this.magic.backend.matching({id:t,backend:i,default_func:r,matching:a,ignore_cols:n,defaults:s});return f.type="matching",f}query({name:t,query:n,defaults:r={},db:i="duckdb"}){i=ze(String,i)?this.backends[i]:i,t=t??this.newName("query");let a=this.magic.backend.query({id:t,backend:i,query:n,name:t,defaults:r});return a.type="query",a}loadViews(t){t=t??[];let n=t.map(r=>{let i=this.canonicalizeData(r.data),a=this.makeView(r);return this.views[r.name]=a,this.magic.view(a),a.backends=Xi(a.backends??[],i??[]),a.backends.forEach(s=>{this.magic.render(s,a)}),a});v_(t,n).forEach(([r,i])=>{(r.interactions??[]).forEach(s=>{this.connectInteractions(i,s)})})}connectInteractions(t,{to:n,name:r,type:i,defaults:a}){let s=t.interactions[i];if(Te(s))throw new Error(`Interaction ${i} not found in View ${t.id}`);if(this.interactions[r]=s,Te(a)||this.magic.dependencies.setDefault(t,()=>a),Te(n)||At(n)){this.magic.connect(null,s,null);return}(ze(Array,n)?n:[n]).forEach(c=>{c=ze(String,c)?{backend:c}:c;let l=this.backends[c.backend],u=Fy(Yu(["opts","backend","view"],c));if(Te(l)){let d=c.view;if(/\w+\.\d+/.test(d)){let[h,p]=d.split(".");l=this.views[h].backends[parseInt(p)],ao(!Te(l),`Backend not found ${d}`)}else{let h=this.views[d];Te(h)&&this.defer(()=>this.connectInteractions(t,{to:c,name:r,type:i,defaults:a}),`Interaction references nonexistent backend ${c.backend} and view ${d}`),l=this.identity(),this.magic.render(l,h)}}this.magic.connect(l,s,u)})}makeView(t){let n=t.type,r=Yu(["data","interactions"],t);r.id=r.id??r.name??this.newName(n);let i=null;t.selector?i=document.querySelector(t.selector):(i=document.createElement("div"),this.root.appendChild(i)),console.log("new View",n,r);let a=new yM[n]({target:i,props:r});return a.el=i,a}canonicalizeData(t){if(ze(String,t)){let n=this.backends[t];return ao(!Te(n),`Backend named ${t} not found`),[n]}return t=ze(Array,t)?t:[t],ll(cr(v2,t[0]),["query","matching","backend","interaction"])||(t=[{array:t}]),t.map(Wu(this.createBackend.bind(this)))}async loadDependencies(t){(t??[]).forEach(({source:n,attr:r,target:i})=>{let a=null;if(a=this.interactions[n],Te(a)&&/\w+\.\w+/.test(n)){let[f,c]=n.split(".");a=this.views[f].interactions[c]}if(Te(a))throw new Error(`Interaction not found ${n}`);(ze(Array,i)?i:[i]).forEach(async f=>{f=ze(String,f)?{view:f}:f;let c=f.view,l=this.views[c];if(Te(l))throw new Error("View not found: ",c);let u;if(cr("function")(f.defaults)){let d=await this.backends[f.defaults.backend].execute();u=new Function("e","a",f.defaults.function).bind(d)}else u=f.defaults?()=>f.defaults:null;this.magic.dependencies.add(a.get(r),l,null,u)})})}}class us{constructor(t){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=t}get array(){return this._array}}const Py=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new us(i),f=new us(a),c=s.compPos(f.array),l=f.getPos(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},By=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new us(i),f=new us(a),c=s.compZero(f.array),l=f.getZero(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},wM=function(e,t,n,r){return Py(e,t,n,r)},xM=function(e,t,n,r){return By(e,t,n,r)},SM=function(e,t,n,r){let i=Number(Py(e,t,n,r)),a=Number(By(e,t,n,r));return((i+a)/2).toFixed(2)};let kM=[{"true positive":wM,"true negative":xM,"average matching":SM}];const MM=`backends:
- type: duckdb
  name: duckdb
  sources:
  - parquet: "admin_raw.parquet"
    name: "admin_raw"
  - parquet: "chirps_raw.parquet"
    name: "chirps_raw"
  - parquet: "crop_cal_raw.parquet"
    name: crop_cal_raw
  - parquet: "badyear_raw.parquet"
    name: badyear_raw
- type: query
  name: climatology
  # query doesn't have source/sources -- assumes all data is loaded already
  db: duckdb
  query: "" # if query name is in model out, will pull query from there, replacing this text 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 50
    crop: "Groundnuts"
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: severity_combined 
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: badyear 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: matching 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal_dropdown_query
  db: duckdb
  query: ""
  defaults:
    region: 1128
- type: matching
  name: mtb 
  ignore_cols:
    - year
    - gid
    - value
  default_func: "true positive" 
  backend: matching
  #TODO: how to integrate functions into yaml 
  matching: ""
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: default_q 
  db: duckdb
  query: "SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last FROM admin_raw ORDER BY gid"
- type: overlay
  name: overlay
views:
- type: Login
  name: Login
  selector: "#login"
  dataTable: Nigeria_Data
  stateTable: Nigeria_State
- type: Line
  name: climatology_chart
  selector: "#chart-1"
  xAttr: dekad 
  yAttr: average_value
  data:
  - backend: climatology
  - backend: overlay
    target: overlay
- type: CropCal 
  name: crop_calendar 
  selector: "#chart-2"
  xDomainMin: 1
  xDomainMax: 36
  data:
  - backend: crop_cal
  - backend: overlay
    target: overlay
- type: BarGrouped
  name: severity_combined
  selector: "#chart-3"
  xAttr: year
  yAttr: value
  yMax: 1
  xDomainMin: 1990
  xDomainMax: 2024
  groupNames:
    - sum_early
    - sum_late
    - combined_severity
  data:
  - backend: severity_combined
  - backend: badyear
  - backend: overlay
    target: overlay
- type: MatchingTable
  name: matching_table
  selector: "#chart-4"
  data:
  - backend: mtb
- type: DropDown
  name: Region_Dropdown
  selector: "#dropdown-1"
  interactions:
    - type: change
      name: ddc
      defaults:
        region: 1128
      to:
        - backend: climatology
          region: $gid
        - backend: mtb
          region: $gid
        - backend: crop_cal
          region: $gid
        - backend: severity_combined 
          region: $gid
        - backend: badyear
          region: $gid
        - backend: crop_cal_dropdown_query
          region: $gid
  index: 0
  dropdown_key: district
  data: 
  - query: "SELECT gid, district FROM admin_raw ORDER BY gid"
- type: DropDown
  name: Crop_Calendar_Dropdown
  selector: "#dropdown-3"
  interactions:
    - type: change
      name: ddc-crop-cal
      to:
        - backend: crop_cal
          crop: $crop
  index: 0
  dropdown_key: crop
  data:
  - backend: crop_cal_dropdown_query
- type: DropDown
  name: Matching_Dropdown
  selector: "#dropdown-2"
  interactions:
    - type: change
      name: ddc-matching
      to:
        - backend: mtb
          func_elected: $value
  index: 0
  dropdown_key: value
  data:
  - query: "SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);"
- type: Slider
  name: PlantEarly
  selector: "#slider-1"
  min: 1
  max: 36
  description: "CHIRPS sum early"
  interactions:
  - type: change
    to: 
    - backend: severity_combined 
      sum_early_first: $left
      sum_early_last: $right
    - backend: mtb 
      sum_early_first: $left
      sum_early_last: $right
    - backend: overlay
      sum_early:
        left: $left
        right: $right
- type: Slider
  name: PlantLate
  selector: "#slider-2"
  min: 1
  max: 36
  description: "CHIRPS sum late"
  interactions:
  - type: change
    to: 
    - backend: severity_combined
      sum_late_first: $left
      sum_late_last: $right
    - backend: mtb 
      sum_late_first: $left
      sum_late_last: $right
    - backend: overlay
      sum_late:
        left: $left
        right: $right
#- type: SingleSlider
#name: frequency
#selector: "#SingleSlider"
#min: 0
#max: 1
#description: "Frequency"

#- type: Alert
#  name: Alert
#  selector: "#alert"
#  threshold_string: "1.0"
#  key: "combined_severity"
#  data:
#    - backend: severity_combined
#  interactions:
#  - type: valid
dependencies:
- source: ddc
  attr: "gid"
  target:
    - view: PlantEarly
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_early_first,  right: row.chirps_early_last}
        ;"
    - view: PlantLate
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_late_first,  right: row.chirps_late_last}
        ;"
`,oo="1.12.1";var wn=[],Wt=[],AM=Uint8Array,Gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Gr=0,EM=Gf.length;Gr<EM;++Gr)wn[Gr]=Gf[Gr],Wt[Gf.charCodeAt(Gr)]=Gr;Wt["-".charCodeAt(0)]=62;Wt["_".charCodeAt(0)]=63;function TM(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function CM(e,t,n){return(t+n)*3/4-n}function ds(e){var t,n=TM(e),r=n[0],i=n[1],a=new AM(CM(e,r,i)),s=0,f=i>0?r-4:r,c;for(c=0;c<f;c+=4)t=Wt[e.charCodeAt(c)]<<18|Wt[e.charCodeAt(c+1)]<<12|Wt[e.charCodeAt(c+2)]<<6|Wt[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Wt[e.charCodeAt(c)]<<2|Wt[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=Wt[e.charCodeAt(c)]<<10|Wt[e.charCodeAt(c+1)]<<4|Wt[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function DM(e){return wn[e>>18&63]+wn[e>>12&63]+wn[e>>6&63]+wn[e&63]}function NM(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(DM(r));return i.join("")}function hs(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(NM(e,s,s+a>f?f:s+a));return r===1?(t=e[n-1],i.push(wn[t>>2]+wn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(wn[t>>10]+wn[t>>4&63]+wn[t<<2&63]+"=")),i.join("")}function so(e){if(e===void 0)return{};if(!Ry(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function IM(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);if(!(e.indexOf("127.0.0.1")!==-1||e.indexOf("localhost")!==-1)&&!e.endsWith(".convex.cloud")&&!e.includes("0.0.0.0"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${e}". If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function Ry(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const $y=!0,bi=BigInt("-9223372036854775808"),_u=BigInt("9223372036854775807"),Jc=BigInt("0"),LM=BigInt("8"),OM=BigInt("256");function jy(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function FM(e){e<Jc&&(e-=bi+bi);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=LM;return hs(n)}function PM(e){const t=ds(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Jc,r=Jc;for(const i of t)n+=BigInt(i)*OM**r,r++;return n>_u&&(n+=bi+bi),n}function BM(e){if(e<bi||_u<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),hs(new Uint8Array(t))}function RM(e){const t=ds(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const $M=DataView.prototype.setBigInt64?BM:FM,jM=DataView.prototype.getBigInt64?RM:PM,J0=1024;function Qc(e){if(e.length>J0)throw new Error(`Field name ${e} exceeds maximum field name length ${J0}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function xr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>xr(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return ds(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return jM(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=ds(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,$y);if(!jy(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))Qc(r),n[r]=xr(i);return n}function ri(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function ps(e,t,n,r){var s;if(e===void 0){const f=n&&` (present at path ${n} in original object ${ri(t)})`;throw new Error(`undefined is not a valid Convex value${f}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<bi||_u<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:$M(e)}}if(typeof e=="number")if(jy(e)){const f=new ArrayBuffer(8);return new DataView(f).setFloat64(0,e,$y),{$float:hs(new Uint8Array(f))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:hs(new Uint8Array(e))};if(Array.isArray(e))return e.map((f,c)=>ps(f,t,n+`[${c}]`,!1));if(e instanceof Set)throw new Error(Kf(n,"Set",[...e],t));if(e instanceof Map)throw new Error(Kf(n,"Map",[...e],t));if(!Ry(e)){const f=(s=e==null?void 0:e.constructor)==null?void 0:s.name,c=f?`${f} `:"";throw new Error(Kf(n,c,e,t))}const i={},a=Object.entries(e);a.sort(([f,c],[l,u])=>f===l?0:f<l?-1:1);for(const[f,c]of a)c!==void 0?(Qc(f),i[f]=ps(c,t,n+`.${f}`,!1)):r&&(Qc(f),i[f]=qM(c,t,n+`.${f}`));return i}function Kf(e,t,n,r){return e?`${t}${ri(n)} is not a supported Convex type (present at path ${e} in original object ${ri(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ri(n)} is not a supported Convex type.`}function qM(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${ri(e)} but original value is undefined`);return ps(e,t,n,!1)}function fo(e){return ps(e,e,"",!1)}var qy;const zM=Symbol.for("ConvexError");class co extends Error{constructor(t){super(typeof t=="string"?t:ri(t)),this.name="ConvexError",this[qy]=!0,this.data=t}}qy=zM;const UM="color:rgb(0, 145, 255)";function VM(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function lo(e,t,n,r){const i=VM(t);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),e==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,UM,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const zy=Symbol.for("functionName");function uo(e){if(typeof e=="string")return e;const t=e[zy];if(!t)throw new Error(`${e} is not a functionReference`);return t}function Uy(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return Uy(i)}else if(r===zy){if(e.length<2){const s=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}Uy();const ho=560;class HM{constructor(t,n){n!==!0&&IM(t),this.address=`${t}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${t}:${i}`}else this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}setFetchOptions(t){this.fetchOptions=t}async query(t,...n){const r=so(n[0]),i=uo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[fo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${oo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/query`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==ho)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])lo("info","query",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?po(l.errorData,new co(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async mutation(t,...n){const r=so(n[0]),i=uo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[fo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${oo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==ho)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])lo("info","mutation",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?po(l.errorData,new co(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async action(t,...n){const r=so(n[0]),i=uo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[fo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${oo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/action`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==ho)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])lo("info","action",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?po(l.errorData,new co(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async function(t,...n){const r=so(n[0]),i=typeof t=="string"?t:uo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:fo(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${oo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/function`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==ho)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])lo("info","any",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?po(l.errorData,new co(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}}function po(e,t){return t.data=xr(e),t}function WM(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,_,x,y,w,S,M,A,D,I,k,E,B,F,T,z,Q,re,te,W,V,J,ee,$,ne,ue,Y,fe,C,U,X,j,ce,se,de,me,H,le,_e,Ne,Le,ut,Pe,ct,Ve,q,oe,Be,Ze,vt,Ge,Pt,Bt,L,ae,ke,Ee,tt,Nn,Wn,pn,qr,Mi,ef,Ai;return{c(){t=G("div"),n=pe(),r=G("div"),i=G("div"),a=G("div"),s=pe(),f=G("div"),c=pe(),l=G("div"),u=G("div"),d=G("span"),h=$e("Rainfall climatology"),p=pe(),m=G("div"),g=G("i"),b=pe(),v=G("span"),_=$e("Shows the average observed historical rainfall during each decad based on satellite data"),x=pe(),y=G("div"),w=pe(),S=G("div"),M=pe(),A=G("div"),D=G("span"),I=$e("Farming Cycle"),k=pe(),E=G("div"),B=G("i"),F=pe(),T=G("span"),z=$e(`Displays the typical farming schedule (prep, planting, flowering,
          tasseling, harvesting) in the village for each crop, based on surveys of farmers.`),Q=pe(),re=G("div"),te=pe(),W=G("div"),V=G("span"),J=$e("Variables"),ee=pe(),$=G("div"),ne=G("i"),ue=pe(),Y=G("span"),fe=$e("These are the specific pieces of information that go into making up the Insurance Index."),C=pe(),U=G("div"),X=pe(),j=G("div"),ce=pe(),se=G("div"),de=G("div"),me=$e("Policy Performance"),H=pe(),le=G("div"),_e=G("div"),Ne=G("span"),Le=$e("Performance chart"),ut=pe(),Pe=G("div"),ct=G("i"),Ve=pe(),q=G("span"),oe=$e(`If there's a red bar, it means the insurance would have provided money to the
          farmers that year because the conditions matched the criteria for a payout.`),Be=pe(),Ze=G("div"),vt=pe(),Ge=G("div"),Pt=G("span"),Bt=$e("Matching Table"),L=pe(),ae=G("div"),ke=G("i"),Ee=pe(),tt=G("span"),Nn=$e(`We mainly care about is_bad_year and combined_payout. It tells us how many
          of the historical bad years would have gotten a payout based on your policy`),Wn=pe(),pn=G("div"),qr=pe(),Mi=G("div"),ef=pe(),Ai=G("div"),this.h()},l(an){t=K(an,"DIV",{id:!0}),Z(t).forEach(P),n=ge(an),r=K(an,"DIV",{class:!0});var gn=Z(r);i=K(gn,"DIV",{class:!0});var Ia=Z(i);a=K(Ia,"DIV",{id:!0}),Z(a).forEach(P),s=ge(Ia),f=K(Ia,"DIV",{id:!0}),Z(f).forEach(P),Ia.forEach(P),c=ge(gn),l=K(gn,"DIV",{class:!0});var dt=Z(l);u=K(dt,"DIV",{});var La=Z(u);d=K(La,"SPAN",{class:!0});var vu=Z(d);h=je(vu,"Rainfall climatology"),vu.forEach(P),p=ge(La),m=K(La,"DIV",{class:!0});var Oa=Z(m);g=K(Oa,"I",{class:!0}),Z(g).forEach(P),b=ge(Oa),v=K(Oa,"SPAN",{class:!0});var wu=Z(v);_=je(wu,"Shows the average observed historical rainfall during each decad based on satellite data"),wu.forEach(P),Oa.forEach(P),La.forEach(P),x=ge(dt),y=K(dt,"DIV",{id:!0}),Z(y).forEach(P),w=ge(dt),S=K(dt,"DIV",{id:!0}),Z(S).forEach(P),M=ge(dt),A=K(dt,"DIV",{});var Fa=Z(A);D=K(Fa,"SPAN",{class:!0});var xu=Z(D);I=je(xu,"Farming Cycle"),xu.forEach(P),k=ge(Fa),E=K(Fa,"DIV",{class:!0});var Pa=Z(E);B=K(Pa,"I",{class:!0}),Z(B).forEach(P),F=ge(Pa),T=K(Pa,"SPAN",{class:!0});var Su=Z(T);z=je(Su,`Displays the typical farming schedule (prep, planting, flowering,
          tasseling, harvesting) in the village for each crop, based on surveys of farmers.`),Su.forEach(P),Pa.forEach(P),Fa.forEach(P),Q=ge(dt),re=K(dt,"DIV",{id:!0}),Z(re).forEach(P),te=ge(dt),W=K(dt,"DIV",{});var Ba=Z(W);V=K(Ba,"SPAN",{class:!0});var ku=Z(V);J=je(ku,"Variables"),ku.forEach(P),ee=ge(Ba),$=K(Ba,"DIV",{class:!0});var Ra=Z($);ne=K(Ra,"I",{class:!0}),Z(ne).forEach(P),ue=ge(Ra),Y=K(Ra,"SPAN",{class:!0});var Mu=Z(Y);fe=je(Mu,"These are the specific pieces of information that go into making up the Insurance Index."),Mu.forEach(P),Ra.forEach(P),Ba.forEach(P),C=ge(dt),U=K(dt,"DIV",{id:!0}),Z(U).forEach(P),X=ge(dt),j=K(dt,"DIV",{id:!0}),Z(j).forEach(P),dt.forEach(P),ce=ge(gn),se=K(gn,"DIV",{class:!0});var $a=Z(se);de=K($a,"DIV",{class:!0});var Au=Z(de);me=je(Au,"Policy Performance"),Au.forEach(P),H=ge($a),le=K($a,"DIV",{class:!0});var Ut=Z(le);_e=K(Ut,"DIV",{});var ja=Z(_e);Ne=K(ja,"SPAN",{class:!0});var Eu=Z(Ne);Le=je(Eu,"Performance chart"),Eu.forEach(P),ut=ge(ja),Pe=K(ja,"DIV",{class:!0});var qa=Z(Pe);ct=K(qa,"I",{class:!0,style:!0}),Z(ct).forEach(P),Ve=ge(qa),q=K(qa,"SPAN",{class:!0});var Tu=Z(q);oe=je(Tu,`If there's a red bar, it means the insurance would have provided money to the
          farmers that year because the conditions matched the criteria for a payout.`),Tu.forEach(P),qa.forEach(P),ja.forEach(P),Be=ge(Ut),Ze=K(Ut,"DIV",{id:!0}),Z(Ze).forEach(P),vt=ge(Ut),Ge=K(Ut,"DIV",{});var za=Z(Ge);Pt=K(za,"SPAN",{class:!0});var Cu=Z(Pt);Bt=je(Cu,"Matching Table"),Cu.forEach(P),L=ge(za),ae=K(za,"DIV",{class:!0});var Ua=Z(ae);ke=K(Ua,"I",{class:!0,style:!0}),Z(ke).forEach(P),Ee=ge(Ua),tt=K(Ua,"SPAN",{class:!0});var Du=Z(tt);Nn=je(Du,`We mainly care about is_bad_year and combined_payout. It tells us how many
          of the historical bad years would have gotten a payout based on your policy`),Du.forEach(P),Ua.forEach(P),za.forEach(P),Wn=ge(Ut),pn=K(Ut,"DIV",{id:!0}),Z(pn).forEach(P),qr=ge(Ut),Mi=K(Ut,"DIV",{id:!0}),Z(Mi).forEach(P),ef=ge(Ut),Ai=K(Ut,"DIV",{id:!0}),Z(Ai).forEach(P),Ut.forEach(P),$a.forEach(P),gn.forEach(P),this.h()},h(){O(t,"id","alert"),O(a,"id","login"),O(f,"id","dropdown-1"),O(i,"class","col-span-2"),O(d,"class","text-2xl font-bold leading-tight text-gray-900"),O(g,"class","bi bi-info-circle"),O(v,"class","tooltiptext"),O(m,"class","tooltip"),O(y,"id","chart-1"),O(S,"id","dropdown-3"),O(D,"class","text-2xl font-bold leading-tight text-gray-900"),O(B,"class","bi bi-info-circle"),O(T,"class","tooltiptext"),O(E,"class","tooltip"),O(re,"id","chart-2"),O(V,"class","text-2xl font-bold leading-tight text-gray-900"),O(ne,"class","bi bi-info-circle"),O(Y,"class","tooltiptext"),O($,"class","tooltip"),O(U,"id","slider-1"),O(j,"id","slider-2"),O(l,"class","overflow-auto max-h-[80vh]"),O(de,"class","text-2xl font-bold leading-tight text-gray-900"),O(Ne,"class","font-bold leading-tight text-gray-900"),O(ct,"class","bi bi-info-circle-fill"),Ou(ct,"color","#ff6663"),O(q,"class","tooltiptext"),O(Pe,"class","tooltip"),O(Ze,"id","chart-3"),O(Pt,"class","font-bold leading-tight text-gray-900"),O(ke,"class","bi bi-info-circle-fill"),Ou(ke,"color","#ff6663"),O(tt,"class","tooltiptext"),O(ae,"class","tooltip"),O(pn,"id","dropdown-2"),O(Mi,"id","chart-4"),O(Ai,"id","SingleSlider"),O(le,"class","mx-[2%]"),O(se,"class","overflow-auto"),O(r,"class","grid grid-cols-2 h-[100vh]")},m(an,gn){Se(an,t,gn),Se(an,n,gn),Se(an,r,gn),N(r,i),N(i,a),N(i,s),N(i,f),N(r,c),N(r,l),N(l,u),N(u,d),N(d,h),N(u,p),N(u,m),N(m,g),N(m,b),N(m,v),N(v,_),N(l,x),N(l,y),N(l,w),N(l,S),N(l,M),N(l,A),N(A,D),N(D,I),N(A,k),N(A,E),N(E,B),N(E,F),N(E,T),N(T,z),N(l,Q),N(l,re),N(l,te),N(l,W),N(W,V),N(V,J),N(W,ee),N(W,$),N($,ne),N($,ue),N($,Y),N(Y,fe),N(l,C),N(l,U),N(l,X),N(l,j),N(r,ce),N(r,se),N(se,de),N(de,me),N(se,H),N(se,le),N(le,_e),N(_e,Ne),N(Ne,Le),N(_e,ut),N(_e,Pe),N(Pe,ct),N(Pe,Ve),N(Pe,q),N(q,oe),N(le,Be),N(le,Ze),N(le,vt),N(le,Ge),N(Ge,Pt),N(Pt,Bt),N(Ge,L),N(Ge,ae),N(ae,ke),N(ae,Ee),N(ae,tt),N(tt,Nn),N(le,Wn),N(le,pn),N(le,qr),N(le,Mi),N(le,ef),N(le,Ai)},p:Ce,i:Ce,o:Ce,d(an){an&&P(t),an&&P(n),an&&P(r)}}}function YM(e,t,n){let r;wo(e,zu,l=>n(1,r=l));let i=HM;const a=new i("https://rightful-anteater-150.convex.cloud");a.mutation("saveParams"),a.query("getParams");let s=L4(MM,"utf8");console.log(s),We(zu,r=new b2,r);let f=new PS(r),c;return Jy(async()=>{(s.backends??[]).forEach(l=>{l.type==="matching"?l.matching=kM:cr(l.name)(Uu)&&(l.query=Uu[l.name].query)}),(s.views??[]).forEach(l=>{l.type==="Login"&&(l.magic=f,l.exportFunc="saveToConvex",l.importFunc="getFromConvex",l.client=a)}),c=new vM(f,s),await c.init()}),[]}class nA extends bt{constructor(t){super(),yt(this,t,YM,WM,_t,{})}}export{nA as default};

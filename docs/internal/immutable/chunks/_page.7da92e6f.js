import{o as Fs,S as ct,i as lt,s as ut,K as dt,e as Q,a as Se,c as ee,b as te,f as q,g as ke,m as $,h as ve,j as Y,L as ht,M as pt,N as gt,u as Ve,q as We,U as ne,n as Ee,A as or,V as tu,W as hy,X as he,Q as Le,R as ar,p as He,Y as Ka,Z as Za,t as vt,d as wt,k as Xt,G as Oc,_ as nu,y as py,r as gy,$ as my,C as Fc,D as Pc,E as Bc,F as $c,a0 as nn,a1 as w0,a2 as x0,a3 as S0,T as ze,O as by,a4 as ru,l as na,a5 as yy,P as ra,a6 as _y,a7 as vy,w as wy}from"./index.93104ad7.js";import{_ as De,c as iu,d as k0,e as li,g as yr,h as Ja,j as Zr,k as Qn,l as Df,n as xy,r as M0,o as un,p as If,q as Sy,s as ky,t as A0,u as E0,w as Ae,x as My,y as Ay,z as T0,i as Lf,A as Ey,C as ia,S as ou,D as Ty,E as Rc,F as jc,R as Qa,G as qc,H as C0,I as au,J as su,K as Cy,L as er,M as fu,N as $i,O as Ny,P as cu,Q as At,T as zc,U as Dy,V as lu,W as Iy,X as oa,Y as N0,Z as aa,$ as $e,f as ln,a0 as bt,a1 as Ly,m as Oy,a2 as Of,a3 as Fy,a4 as Py,a5 as By,a6 as $y,a7 as Ry,B as jy,b as uu}from"./index.60b60c6f.js";import{w as rt}from"./paths.c26f28da.js";import{H as qy,S as zy}from"./Header.260c1ef5.js";import{m as du}from"./model_out.7143bfd2.js";const Uy={"@@functional/placeholder":!0};var Hy=De(function(t,n){return Number(t)+Number(n)});function D0(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var f;s<t.length&&(!iu(t[s])||i>=arguments.length)?f=t[s]:(f=arguments[i],i+=1),r[s]=f,iu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):k0(a,D0(e,r,n))}}var _r=De(function(t,n){return t===1?li(n):k0(t,D0(t,[],n))});function Vy(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Wy=De(function(t,n){return n>t?n:t});function Ko(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var Yy=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=yr.init,e.prototype["@@transducer/result"]=yr.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),Xy=De(function(t,n){return new Yy(t,n)}),Gy=De(Ja(["fantasy-land/map","map"],Xy,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return _r(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Zr(function(r,i){return r[i]=t(n[i]),r},{},Qn(n));default:return Ko(t,n)}}));const Fn=Gy,Ky=Number.isInteger||function(t){return t<<0===t};var Zy=De(function(t,n){var r=t<0?n.length+t:t;return Df(n)?n.charAt(r):n[r]});const I0=Zy;var Jy=De(function(t,n){if(n!=null)return Ky(t)?I0(t,n):n[t]});const Ff=Jy;var Qy=De(function(t,n){return Fn(Ff(t),n)});const Uc=Qy;var e2=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=yr.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=Vy(this.xf["@@transducer/step"](t,!0))),t},e}(),t2=De(function(t,n){return new e2(t,n)}),n2=De(Ja(["any"],t2,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1}));const Hc=n2;var r2=De(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:Zr(function(r,i){return xy(r,Fn(i,n))},[],t)}),i2=De(function(t,n){return t.apply(this,n)});function hu(e,t){return If(t)?t.map(e):Qn(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var o2=li(function e(t){return t=hu(function(n){return typeof n=="function"?n:e(n)},t),_r(M0(Wy,0,Uc("length",un(t))),function(){var n=arguments;return hu(function(r){return i2(r,n)},t)})});const pu=o2;function Pf(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var a2=De(function(t,n){var r=_r(t,n);return _r(t,function(){return Zr(r2,Fn(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),s2=li(function(t){return a2(t.length,t)});function f2(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var c2=function(e){return{"@@transducer/init":yr.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?f2(r):r}}},l2=function(t){var n=c2(t);return{"@@transducer/init":yr.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Sy(i)?Zr(n,r,i):Zr(n,r,[i])}}},u2=De(function(t,n){return Fn(t,l2(n))}),d2=De(Ja(["fantasy-land/chain","chain"],u2,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:ky(!1)(Fn(t,n))}));const L0=d2;function Ps(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var yi=function(t){return(t<10?"0":"")+t},h2=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+yi(t.getUTCMonth()+1)+"-"+yi(t.getUTCDate())+"T"+yi(t.getUTCHours())+":"+yi(t.getUTCMinutes())+":"+yi(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function p2(e){return function(){return!e.apply(this,arguments)}}var g2=De(function(t,n){return A0(p2(t),n)});const O0=g2;function F0(e,t){var n=function(s){var f=t.concat([e]);return E0(s,f)?"<Circular>":F0(s,f)},r=function(a,s){return Ko(function(f){return Ps(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Ko(n,e).join(", ")+"))";case"[object Array]":return"["+Ko(n,e).concat(r(e,O0(function(a){return/^\d+$/.test(a)},Qn(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):Ps(h2(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":Ps(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,Qn(e)).join(", ")+"}"}}var Bs=li(function(t){return F0(t,[])}),m2=De(function(t,n){if(If(t)){if(If(n))return t.concat(n);throw new TypeError(Bs(n)+" is not an array")}if(Df(t)){if(Df(n))return t+n;throw new TypeError(Bs(n)+" is not a string")}if(t!=null&&Pf(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&Pf(t.concat))return t.concat(n);throw new TypeError(Bs(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const Ri=m2;var b2=li(function(t){return _r(t.length,t)});const gu=b2;var y2=I0(-1);const $s=y2;var _2=De(function(t,n){return t||n}),v2=De(function(t,n){return Pf(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:s2(_2)(t,n)});const P0=v2;var w2=li(function(t){return _r(t.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,t.apply(this,i)})}),x2=De(function(t,n){if(t.length===0||Ae(n))return!1;for(var r=n,i=0;i<t.length;)if(!Ae(r)&&My(t[i],r))r=r[t[i]],i+=1;else return!1;return!0}),S2=De(function(t,n){return x2([t],n)});const tr=S2;var k2=Ay(function(t,n,r){return _r(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const Bf=k2;var M2=function(){function e(t,n){this.xf=n,this.f=t,this.set=new T0}return e.prototype["@@transducer/init"]=yr.init,e.prototype["@@transducer/result"]=yr.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),A2=De(function(t,n){return new M2(t,n)}),E2=De(Ja([],A2,function(e,t){for(var n=new T0,r=[],i=0,a,s;i<t.length;)s=t[i],a=e(s),n.add(a)&&r.push(s),i+=1;return r})),T2=E2(Lf),C2=De(function(t,n){var r,i;return t.length>n.length?(r=t,i=n):(r=n,i=t),T2(Ey(w2(E0)(r),i))});const N2=C2;var D2=De(function(t,n){return Zr(function(r,i){return r[i]=t(n[i],i,n),r},{},Qn(n))});const I2=D2;var L2=M0(Hy,0);const O2=L2;var F2=De(function(t,n){for(var r={},i={},a=0,s=t.length;a<s;)i[t[a]]=1,a+=1;for(var f in n)i.hasOwnProperty(f)||(r[f]=n[f]);return r});const mu=F2;var P2=De(function(t,n){for(var r={},i=0;i<t.length;)t[i]in n&&(r[t[i]]=n[t[i]]),i+=1;return r});const B2=P2;var $2=De(function(t,n){return Array.prototype.slice.call(n,0).sort(t)});const R2=$2;var j2=De(function(t,n){return Ri(ia(t,n),ia(n,t))});const q2=j2;var z2=De(function(t,n){for(var r=[],i=0,a=Math.min(t.length,n.length);i<a;)r[i]=[t[i],n[i]],i+=1;return r});const U2=z2;function Tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ji(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function es(e){let t,n,r;e.length!==2?(t=Tt,n=(f,c)=>Tt(e(f),c),r=(f,c)=>e(f)-c):(t=e===Tt||e===Ji?e:H2,n=e,r=e);function i(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function s(f,c,l=0,u=f.length){const d=i(f,c,l,u-1);return d>l&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:s,right:a}}function H2(){return 0}function B0(e){return e===null?NaN:+e}function*V2(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const W2=es(Tt),Y2=W2.right;es(B0).center;const Vc=Y2;function X2(e){return e.length|0}function G2(e){return!(e>0)}function K2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Z2(e){return t=>e(...t)}function J2(...e){const t=typeof e[e.length-1]=="function"&&Z2(e.pop());e=e.map(K2);const n=e.map(X2),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(G2))return a;for(;;){a.push(i.map((f,c)=>e[c][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function Q2(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function $0(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of e)(f=t(f,++s,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function e_(e,t){const n=$0(e,t);return n&&Math.sqrt(n)}function Kn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class vr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,f=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);f&&(n[r++]=f),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class wr extends Map{constructor(t,n=q0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get($f(this,t))}has(t){return super.has($f(this,t))}set(t,n){return super.set(R0(this,t),n)}delete(t){return super.delete(j0(this,t))}}class ts extends Set{constructor(t,n=q0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has($f(this,t))}add(t){return super.add(R0(this,t))}delete(t){return super.delete(j0(this,t))}}function $f({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function R0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function j0({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function q0(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rf(e){return e}function Wc(e,...t){return Yc(e,Rf,Rf,t)}function Li(e,t,...n){return Yc(e,Rf,t,n)}function t_(e,t,...n){return Yc(e,Array.from,t,n)}function Yc(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new wr,c=r[s++];let l=-1;for(const u of a){const d=c(u,++l,a),h=f.get(d);h?h.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,s));return t(f)}(e,0)}function n_(e,t){return Array.from(t,n=>e[n])}function jf(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const f=sa(s[i],s[a]);if(f)return f}})):(n=e.map(n),r.sort((i,a)=>sa(n[i],n[a]))),n_(e,r)}return e.sort(z0(n))}function z0(e=Tt){if(e===Tt)return sa;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function sa(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Xc(e,t,n){return(t.length!==2?jf(Li(e,t,n),([r,i],[a,s])=>Tt(i,s)||Tt(r,a)):jf(Wc(e,n),([r,i],[a,s])=>t(i,s)||Tt(r,a))).map(([r])=>r)}const r_=Math.sqrt(50),i_=Math.sqrt(10),o_=Math.sqrt(2);function fa(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=r_?10:a>=i_?5:a>=o_?2:1;let f,c,l;return i<0?(l=Math.pow(10,-i)/s,f=Math.round(e*l),c=Math.round(t*l),f/l<e&&++f,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*s,f=Math.round(e/l),c=Math.round(t/l),f*l<e&&++f,c*l>t&&--c),c<f&&.5<=n&&n<2?fa(e,t,n*2):[f,c,l]}function ca(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?fa(t,e,n):fa(e,t,n);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(s<0)for(let l=0;l<f;++l)c[l]=(a-l)/-s;else for(let l=0;l<f;++l)c[l]=(a-l)*s;else if(s<0)for(let l=0;l<f;++l)c[l]=(i+l)/-s;else for(let l=0;l<f;++l)c[l]=(i+l)*s;return c}function qf(e,t,n){return t=+t,e=+e,n=+n,fa(e,t,n)[2]}function zf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?qf(t,e,n):qf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function It(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function a_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function yn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function s_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function U0(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?sa:z0(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),p=Math.max(n,Math.floor(t-l*d/c+h)),m=Math.min(r,Math.floor(t+(c-l)*d/c+h));U0(e,t,p,m,i)}const a=e[t];let s=n,f=r;for(_i(e,n,t),i(e[r],a)>0&&_i(e,n,r);s<f;){for(_i(e,s,f),++s,--f;i(e[s],a)<0;)++s;for(;i(e[f],a)>0;)--f}i(e[n],a)===0?_i(e,n,f):(++f,_i(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function _i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function H0(e,t=Tt){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Tt(s,i)>0:Tt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function la(e,t,n){if(e=Float64Array.from(V2(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return yn(e);if(t>=1)return It(e);var r,i=(r-1)*t,a=Math.floor(i),s=It(U0(e,a).subarray(0,a+1)),f=yn(e.subarray(a+1));return s+(f-s)*(i-a)}}function f_(e,t,n=B0){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),f=+n(e[a+1],a+1,e);return s+(f-s)*(i-a)}}function c_(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Uf(e,t){return la(e,.5,t)}function*l_(e){for(const t of e)yield*t}function V0(e){return Array.from(l_(e))}function u_(e,t){const n=new wr;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function d_(e,t=h_){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function h_(e,t){return[e,t]}function Hf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function xr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function ua(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function p_(e){return e}var Rs=1,js=2,Vf=3,Ao=4,bu=1e-6;function g_(e){return"translate("+e+",0)"}function m_(e){return"translate(0,"+e+")"}function b_(e){return t=>+e(t)}function y_(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function __(){return!this.__axis}function v_(e,t){var n=[],r=null,i=null,a=6,s=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Rs||e===Ao?-1:1,u=e===Ao||e===js?"x":"y",d=e===Rs||e===Vf?g_:m_;function h(p){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):p_),b=Math.max(a,0)+f,v=t.range(),y=+v[0]+c,x=+v[v.length-1]+c,_=(t.bandwidth?y_:b_)(t.copy(),c),w=p.selection?p.selection():p,k=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(m,t).order(),C=S.exit(),I=S.enter().append("g").attr("class","tick"),T=S.select("line"),M=S.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(I),T=T.merge(I.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),M=M.merge(I.append("text").attr("fill","currentColor").attr(u,l*b).attr("dy",e===Rs?"0em":e===Vf?"0.71em":"0.32em")),p!==w&&(k=k.transition(p),S=S.transition(p),T=T.transition(p),M=M.transition(p),C=C.transition(p).attr("opacity",bu).attr("transform",function(E){return isFinite(E=_(E))?d(E+c):this.getAttribute("transform")}),I.attr("opacity",bu).attr("transform",function(E){var D=this.parentNode.__axis;return d((D&&isFinite(D=D(E))?D:_(E))+c)})),C.remove(),k.attr("d",e===Ao||e===js?s?"M"+l*s+","+y+"H"+c+"V"+x+"H"+l*s:"M"+c+","+y+"V"+x:s?"M"+y+","+l*s+"V"+c+"H"+x+"V"+l*s:"M"+y+","+c+"H"+x),S.attr("opacity",1).attr("transform",function(E){return d(_(E)+c)}),T.attr(u+"2",l*a),M.attr(u,l*b).text(g),w.filter(__).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===js?"start":e===Ao?"end":"middle"),w.each(function(){this.__axis=_})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(a=s=+p,h):a},h.tickSizeInner=function(p){return arguments.length?(a=+p,h):a},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(f=+p,h):f},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function w_(e){return v_(Vf,e)}function kt(e){return typeof e=="string"?new ou([[document.querySelector(e)]],[document.documentElement]):new ou([[e]],Ty)}function x_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wf(e,t){if(e=x_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Yf={capture:!0,passive:!1};function Xf(e){e.preventDefault(),e.stopImmediatePropagation()}function S_(e){var t=e.document.documentElement,n=kt(e).on("dragstart.drag",Xf,Yf);"onselectstart"in t?n.on("selectstart.drag",Xf,Yf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function k_(e,t){var n=e.document.documentElement,r=kt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Xf,Yf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const W0=Math.PI/180,Y0=180/Math.PI,da=18,X0=.96422,G0=1,K0=.82521,Z0=4/29,Yr=6/29,J0=3*Yr*Yr,M_=Yr*Yr*Yr;function Q0(e){if(e instanceof mn)return new mn(e.l,e.a,e.b,e.opacity);if(e instanceof In)return e1(e);e instanceof Qa||(e=C0(e));var t=Hs(e.r),n=Hs(e.g),r=Hs(e.b),i=qs((.2225045*t+.7168786*n+.0606169*r)/G0),a,s;return t===n&&n===r?a=s=i:(a=qs((.4360747*t+.3850649*n+.1430804*r)/X0),s=qs((.0139322*t+.0971045*n+.7141733*r)/K0)),new mn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function Gf(e,t,n,r){return arguments.length===1?Q0(e):new mn(e,t,n,r??1)}function mn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Rc(mn,Gf,jc(qc,{brighter(e){return new mn(this.l+da*(e??1),this.a,this.b,this.opacity)},darker(e){return new mn(this.l-da*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=X0*zs(t),e=G0*zs(e),n=K0*zs(n),new Qa(Us(3.1338561*t-1.6168667*e-.4906146*n),Us(-.9787684*t+1.9161415*e+.033454*n),Us(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qs(e){return e>M_?Math.pow(e,1/3):e/J0+Z0}function zs(e){return e>Yr?e*e*e:J0*(e-Z0)}function Us(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Hs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function A_(e){if(e instanceof In)return new In(e.h,e.c,e.l,e.opacity);if(e instanceof mn||(e=Q0(e)),e.a===0&&e.b===0)return new In(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Y0;return new In(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ha(e,t,n,r){return arguments.length===1?A_(e):new In(e,t,n,r??1)}function In(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function e1(e){if(isNaN(e.h))return new mn(e.l,0,0,e.opacity);var t=e.h*W0;return new mn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Rc(In,ha,jc(qc,{brighter(e){return new In(this.h,this.c,this.l+da*(e??1),this.opacity)},darker(e){return new In(this.h,this.c,this.l-da*(e??1),this.opacity)},rgb(){return e1(this).rgb()}}));var t1=-.14861,Gc=1.78277,Kc=-.29227,ns=-.90649,ji=1.97294,yu=ji*ns,_u=ji*Gc,vu=Gc*Kc-ns*t1;function E_(e){if(e instanceof gr)return new gr(e.h,e.s,e.l,e.opacity);e instanceof Qa||(e=C0(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(vu*r+yu*t-_u*n)/(vu+yu-_u),a=r-i,s=(ji*(n-i)-Kc*a)/ns,f=Math.sqrt(s*s+a*a)/(ji*i*(1-i)),c=f?Math.atan2(s,a)*Y0-120:NaN;return new gr(c<0?c+360:c,f,i,e.opacity)}function _n(e,t,n,r){return arguments.length===1?E_(e):new gr(e,t,n,r??1)}function gr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rc(gr,_n,jc(qc,{brighter(e){return e=e==null?au:Math.pow(au,e),new gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?su:Math.pow(su,e),new gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*W0,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Qa(255*(t+n*(t1*r+Gc*i)),255*(t+n*(Kc*r+ns*i)),255*(t+n*(ji*r)),this.opacity)}}));function T_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function C_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function N_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ui(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function D_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function I_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ui(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function ui(e,t){var n=typeof t,r;return t==null||n==="boolean"?Cy(t):(n==="number"?er:n==="string"?(r=fu(t))?(t=r,$i):Ny:t instanceof fu?$i:t instanceof Date?D_:C_(t)?T_:Array.isArray(t)?N_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I_:er)(e,t)}function Zc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function L_(e){return function(t,n){var r=e((t=cu(t)).h,(n=cu(n)).h),i=At(t.s,n.s),a=At(t.l,n.l),s=At(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const O_=L_(zc);function F_(e,t){var n=At((e=Gf(e)).l,(t=Gf(t)).l),r=At(e.a,t.a),i=At(e.b,t.b),a=At(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function P_(e){return function(t,n){var r=e((t=ha(t)).h,(n=ha(n)).h),i=At(t.c,n.c),a=At(t.l,n.l),s=At(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const B_=P_(zc);function n1(e){return function t(n){n=+n;function r(i,a){var s=e((i=_n(i)).h,(a=_n(a)).h),f=At(i.s,a.s),c=At(i.l,a.l),l=At(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}n1(zc);var Jc=n1(At);function rs(e,t){t===void 0&&(t=e,e=ui);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function rn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Vs=e=>()=>e;function $_(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function R_(e){e.stopImmediatePropagation()}function Ws(e){e.preventDefault(),e.stopImmediatePropagation()}var wu={name:"drag"},Ys={name:"space"},Fr={name:"handle"},Pr={name:"center"};const{abs:xu,max:ot,min:at}=Math;function Su(e){return[+e[0],+e[1]]}function ku(e){return[Su(e[0]),Su(e[1])]}var Zo={name:"x",handles:["w","e"].map(pa),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Xs={name:"y",handles:["n","s"].map(pa),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Mn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Mu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Au={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},j_={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},q_={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function pa(e){return{type:e}}function z_(e){return!e.ctrlKey&&!e.button}function U_(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function H_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gs(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function V_(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function W_(){return Y_(Zo)}function Y_(e){var t=U_,n=z_,r=H_,i=!0,a=Dy("start","brush","end"),s=6,f;function c(b){var v=b.property("__brush",g).selectAll(".overlay").data([pa("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mn.overlay).merge(v).each(function(){var x=Gs(this).extent;kt(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),b.selectAll(".selection").data([pa("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=b.selectAll(".handle").data(e.handles,function(x){return x.type});y.exit().remove(),y.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return Mn[x.type]}),b.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,v,y){b.tween?b.on("start.brush",function(x){u(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){u(this,arguments).end(x)}).tween("brush",function(){var x=this,_=x.__brush,w=u(x,arguments),k=_.selection,S=e.input(typeof v=="function"?v.apply(this,arguments):v,_.extent),C=ui(k,S);function I(T){_.selection=T===1&&S===null?null:C(T),l.call(x),w.brush()}return k!==null&&S!==null?I:I(1)}):b.each(function(){var x=this,_=arguments,w=x.__brush,k=e.input(typeof v=="function"?v.apply(x,_):v,w.extent),S=u(x,_).beforestart();lu(x),w.selection=k===null?null:k,l.call(x),S.start(y).brush(y).end(y)})},c.clear=function(b,v){c.move(b,null,v)};function l(){var b=kt(this),v=Gs(this).selection;v?(b.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(y){return y.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(y){return y.type==="e"||y.type==="w"?v[1][1]-v[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(b,v,y){var x=b.__brush.emitter;return x&&(!y||!x.clean)?x:new d(b,v,y)}function d(b,v,y){this.that=b,this.args=v,this.state=b.__brush,this.active=0,this.clean=y}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,v){return this.starting?(this.starting=!1,this.emit("start",b,v)):this.emit("brush",b),this},brush:function(b,v){return this.emit("brush",b,v),this},end:function(b,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,v)),this},emit:function(b,v,y){var x=kt(this.that).datum();a.call(b,this.that,new $_(b,{sourceEvent:v,target:c,selection:e.output(this.state.selection),mode:y,dispatch:a}),x)}};function h(b){if(f&&!b.touches||!n.apply(this,arguments))return;var v=this,y=b.target.__data__.type,x=(i&&b.metaKey?y="overlay":y)==="selection"?wu:i&&b.altKey?Pr:Fr,_=e===Xs?null:j_[y],w=e===Zo?null:q_[y],k=Gs(v),S=k.extent,C=k.selection,I=S[0][0],T,M,E=S[0][1],D,B,A=S[1][0],P,Z,ie=S[1][1],J,X,H=0,G=0,K,O=_&&w&&i&&b.shiftKey,re,le,V=Array.from(b.touches||[b],U=>{const ge=U.identifier;return U=Wf(U,v),U.point0=U.slice(),U.identifier=ge,U});lu(v);var se=u(v,arguments,!0).beforestart();if(y==="overlay"){C&&(K=!0);const U=[V[0],V[1]||V[0]];k.selection=C=[[T=e===Xs?I:at(U[0][0],U[1][0]),D=e===Zo?E:at(U[0][1],U[1][1])],[P=e===Xs?A:ot(U[0][0],U[1][0]),J=e===Zo?ie:ot(U[0][1],U[1][1])]],V.length>1&&ce(b)}else T=C[0][0],D=C[0][1],P=C[1][0],J=C[1][1];M=T,B=D,Z=P,X=J;var N=kt(v).attr("pointer-events","none"),z=N.selectAll(".overlay").attr("cursor",Mn[y]);if(b.touches)se.moved=F,se.ended=fe;else{var W=kt(b.view).on("mousemove.brush",F,!0).on("mouseup.brush",fe,!0);i&&W.on("keydown.brush",de,!0).on("keyup.brush",pe,!0),S_(b.view)}l.call(v),se.start(b,x.name);function F(U){for(const ge of U.changedTouches||[U])for(const Me of V)Me.identifier===ge.identifier&&(Me.cur=Wf(ge,v));if(O&&!re&&!le&&V.length===1){const ge=V[0];xu(ge.cur[0]-ge[0])>xu(ge.cur[1]-ge[1])?le=!0:re=!0}for(const ge of V)ge.cur&&(ge[0]=ge.cur[0],ge[1]=ge.cur[1]);K=!0,Ws(U),ce(U)}function ce(U){const ge=V[0],Me=ge.point0;var Be;switch(H=ge[0]-Me[0],G=ge[1]-Me[1],x){case Ys:case wu:{_&&(H=ot(I-T,at(A-P,H)),M=T+H,Z=P+H),w&&(G=ot(E-D,at(ie-J,G)),B=D+G,X=J+G);break}case Fr:{V[1]?(_&&(M=ot(I,at(A,V[0][0])),Z=ot(I,at(A,V[1][0])),_=1),w&&(B=ot(E,at(ie,V[0][1])),X=ot(E,at(ie,V[1][1])),w=1)):(_<0?(H=ot(I-T,at(A-T,H)),M=T+H,Z=P):_>0&&(H=ot(I-P,at(A-P,H)),M=T,Z=P+H),w<0?(G=ot(E-D,at(ie-D,G)),B=D+G,X=J):w>0&&(G=ot(E-J,at(ie-J,G)),B=D,X=J+G));break}case Pr:{_&&(M=ot(I,at(A,T-H*_)),Z=ot(I,at(A,P+H*_))),w&&(B=ot(E,at(ie,D-G*w)),X=ot(E,at(ie,J+G*w)));break}}Z<M&&(_*=-1,Be=T,T=P,P=Be,Be=M,M=Z,Z=Be,y in Mu&&z.attr("cursor",Mn[y=Mu[y]])),X<B&&(w*=-1,Be=D,D=J,J=Be,Be=B,B=X,X=Be,y in Au&&z.attr("cursor",Mn[y=Au[y]])),k.selection&&(C=k.selection),re&&(M=C[0][0],Z=C[1][0]),le&&(B=C[0][1],X=C[1][1]),(C[0][0]!==M||C[0][1]!==B||C[1][0]!==Z||C[1][1]!==X)&&(k.selection=[[M,B],[Z,X]],l.call(v),se.brush(U,x.name))}function fe(U){if(R_(U),U.touches){if(U.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else k_(U.view,K),W.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),z.attr("cursor",Mn.overlay),k.selection&&(C=k.selection),V_(C)&&(k.selection=null,l.call(v)),se.end(U,x.name)}function de(U){switch(U.keyCode){case 16:{O=_&&w;break}case 18:{x===Fr&&(_&&(P=Z-H*_,T=M+H*_),w&&(J=X-G*w,D=B+G*w),x=Pr,ce(U));break}case 32:{(x===Fr||x===Pr)&&(_<0?P=Z-H:_>0&&(T=M-H),w<0?J=X-G:w>0&&(D=B-G),x=Ys,z.attr("cursor",Mn.selection),ce(U));break}default:return}Ws(U)}function pe(U){switch(U.keyCode){case 16:{O&&(re=le=O=!1,ce(U));break}case 18:{x===Pr&&(_<0?P=Z:_>0&&(T=M),w<0?J=X:w>0&&(D=B),x=Fr,ce(U));break}case 32:{x===Ys&&(U.altKey?(_&&(P=Z-H*_,T=M+H*_),w&&(J=X-G*w,D=B+G*w),x=Pr):(_<0?P=Z:_>0&&(T=M),w<0?J=X:w>0&&(D=B),x=Fr),z.attr("cursor",Mn[y]),ce(U));break}default:return}Ws(U)}}function p(b){u(this,arguments).moved(b)}function m(b){u(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=ku(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Vs(ku(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Vs(!!b),c):n},c.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Vs(!!b),c):r},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(i=!!b,c):i},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}const Kf=Math.PI,Zf=2*Kf,ur=1e-6,X_=Zf-ur;function r1(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function G_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r1;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class i1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r1:G_(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,c=r-t,l=i-n,u=s-t,d=f-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ur)if(!(Math.abs(d*c-l*u)>ur)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-f,g=c*c+l*l,b=p*p+m*m,v=Math.sqrt(g),y=Math.sqrt(h),x=a*Math.tan((Kf-Math.acos((g+h-b)/(2*v*y)))/2),_=x/y,w=x/v;Math.abs(_-1)>ur&&this._append`L${t+_*u},${n+_*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+w*c},${this._y1=n+w*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),l=t+f,u=n+c,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>ur||Math.abs(this._y1-u)>ur)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%Zf+Zf),h>X_?this._append`A${r},${r},0,1,${d},${t-f},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>ur&&this._append`A${r},${r},0,${+(h>=Kf)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vn(e=3){return new i1(+e)}function K_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ga(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jr(e){return e=ga(Math.abs(e)),e?e[1]:NaN}function Z_(e,t){return function(n,r){for(var i=n.length,a=[],s=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[s=(s+1)%e.length];return a.reverse().join(t)}}function J_(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Q_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(e){if(!(t=Q_.exec(e)))throw new Error("invalid format: "+e);var t;return new Qc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qi.prototype=Qc.prototype;function Qc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ev(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var o1;function tv(e,t){var n=ga(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(o1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ga(e,Math.max(0,t+a-1))[0]}function Eu(e,t){var n=ga(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Eu(e*100,t),r:Eu,s:tv,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Cu(e){return e}var Nu=Array.prototype.map,Du=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nv(e){var t=e.grouping===void 0||e.thousands===void 0?Cu:Z_(Nu.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Cu:J_(Nu.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=qi(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,v=d.width,y=d.comma,x=d.precision,_=d.trim,w=d.type;w==="n"?(y=!0,w="g"):Tu[w]||(x===void 0&&(x=12),_=!0,w="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",C=Tu[w],I=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function T(M){var E=k,D=S,B,A,P;if(w==="c")D=C(M)+D,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?c:C(Math.abs(M),x),_&&(M=ev(M)),Z&&+M==0&&m!=="+"&&(Z=!1),E=(Z?m==="("?m:f:m==="-"||m==="("?"":m)+E,D=(w==="s"?Du[8+o1/3]:"")+D+(Z&&m==="("?")":""),I){for(B=-1,A=M.length;++B<A;)if(P=M.charCodeAt(B),48>P||P>57){D=(P===46?i+M.slice(B+1):M.slice(B))+D,M=M.slice(0,B);break}}}y&&!b&&(M=t(M,1/0));var ie=E.length+M.length+D.length,J=ie<v?new Array(v-ie+1).join(h):"";switch(y&&b&&(M=t(J+M,J.length?v-D.length:1/0),J=""),p){case"<":M=E+M+D+J;break;case"=":M=E+J+M+D;break;case"^":M=J.slice(0,ie=J.length>>1)+E+M+D+J.slice(ie);break;default:M=J+E+M+D;break}return a(M)}return T.toString=function(){return d+""},T}function u(d,h){var p=l((d=qi(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Jr(h)/3)))*3,g=Math.pow(10,-m),b=Du[8+m/3];return function(v){return p(g*v)+b}}return{format:l,formatPrefix:u}}var Eo,di,a1;rv({thousands:",",grouping:[3],currency:["$",""]});function rv(e){return Eo=nv(e),di=Eo.format,a1=Eo.formatPrefix,Eo}function iv(e){return Math.max(0,-Jr(Math.abs(e)))}function ov(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jr(t)/3)))*3-Jr(Math.abs(e)))}function av(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jr(t)-Jr(e))+1}var _e=1e-6,s1=1e-12,xe=Math.PI,Ue=xe/2,Iu=xe/4,Lt=xe*2,mt=180/xe,qe=xe/180,Ie=Math.abs,hi=Math.atan,Pn=Math.atan2,we=Math.cos,f1=Math.exp,ma=Math.log,Ks=Math.pow,be=Math.sin,qt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ct=Math.sqrt,el=Math.tan;function c1(e){return e>1?0:e<-1?xe:Math.acos(e)}function Wt(e){return e>1?Ue:e<-1?-Ue:Math.asin(e)}function zt(){}function ba(e,t){e&&Ou.hasOwnProperty(e.type)&&Ou[e.type](e,t)}var Lu={Feature:function(e,t){ba(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ba(n[r].geometry,t)}},Ou={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Jf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Jf(n[r],t,0)},Polygon:function(e,t){Fu(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Fu(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ba(n[r],t)}};function Jf(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Fu(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Jf(e[n],t,1);t.polygonEnd()}function dr(e,t){e&&Lu.hasOwnProperty(e.type)?Lu[e.type](e,t):ba(e,t)}function Qf(e){return[Pn(e[1],e[0]),Wt(e[2])]}function Qr(e){var t=e[0],n=e[1],r=we(n);return[r*we(t),r*be(t),be(n)]}function To(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ya(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Zs(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Co(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ec(e){var t=Ct(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function tc(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function nc(e,t){return Ie(e)>xe&&(e-=Math.round(e/Lt)*Lt),[e,t]}nc.invert=nc;function l1(e,t,n){return(e%=Lt)?t||n?tc(Bu(e),$u(t,n)):Bu(e):t||n?$u(t,n):nc}function Pu(e){return function(t,n){return t+=e,Ie(t)>xe&&(t-=Math.round(t/Lt)*Lt),[t,n]}}function Bu(e){var t=Pu(e);return t.invert=Pu(-e),t}function $u(e,t){var n=we(e),r=be(e),i=we(t),a=be(t);function s(f,c){var l=we(c),u=we(f)*l,d=be(f)*l,h=be(c),p=h*n+u*r;return[Pn(d*i-p*a,u*n-h*r),Wt(p*i+d*a)]}return s.invert=function(f,c){var l=we(c),u=we(f)*l,d=be(f)*l,h=be(c),p=h*i-d*a;return[Pn(d*i+h*a,u*n+p*r),Wt(p*n-u*r)]},s}function sv(e){e=l1(e[0]*qe,e[1]*qe,e.length>2?e[2]*qe:0);function t(n){return n=e(n[0]*qe,n[1]*qe),n[0]*=mt,n[1]*=mt,n}return t.invert=function(n){return n=e.invert(n[0]*qe,n[1]*qe),n[0]*=mt,n[1]*=mt,n},t}function fv(e,t,n,r,i,a){if(n){var s=we(t),f=be(t),c=r*n;i==null?(i=t+r*Lt,a=t-c/2):(i=Ru(s,i),a=Ru(s,a),(r>0?i<a:i>a)&&(i+=r*Lt));for(var l,u=i;r>0?u>a:u<a;u-=c)l=Qf([s,-f*we(u),-f*be(u)]),e.point(l[0],l[1])}}function Ru(e,t){t=Qr(t),t[0]-=e,ec(t);var n=c1(-t[1]);return((-t[2]<0?-n:n)+Lt-_e)%Lt}function u1(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Jo(e,t){return Ie(e[0]-t[0])<_e&&Ie(e[1]-t[1])<_e}function No(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d1(e,t,n,r,i){var a=[],s=[],f,c;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,b=m[0],v=m[g],y;if(Jo(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}v[0]+=2*_e}a.push(y=new No(b,m,null,!0)),s.push(y.o=new No(b,null,y,!1)),a.push(y=new No(v,m,null,!1)),s.push(y.o=new No(v,null,y,!0))}}),!!a.length){for(s.sort(t),ju(a),ju(s),f=0,c=s.length;f<c;++f)s[f].e=n=!n;for(var l=a[0],u,d;;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function ju(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Js(e){return Ie(e[0])<=xe?e[0]:qt(e[0])*((Ie(e[0])+xe)%Lt-xe)}function cv(e,t){var n=Js(t),r=t[1],i=be(r),a=[be(n),-we(n),0],s=0,f=0,c=new vr;i===1?r=Ue+_e:i===-1&&(r=-Ue-_e);for(var l=0,u=e.length;l<u;++l)if(h=(d=e[l]).length)for(var d,h,p=d[h-1],m=Js(p),g=p[1]/2+Iu,b=be(g),v=we(g),y=0;y<h;++y,m=_,b=k,v=S,p=x){var x=d[y],_=Js(x),w=x[1]/2+Iu,k=be(w),S=we(w),C=_-m,I=C>=0?1:-1,T=I*C,M=T>xe,E=b*k;if(c.add(Pn(E*I*be(T),v*S+E*we(T))),s+=M?C+I*Lt:C,M^m>=n^_>=n){var D=ya(Qr(p),Qr(x));ec(D);var B=ya(a,D);ec(B);var A=(M^C>=0?-1:1)*Wt(B[2]);(r>A||r===A&&(D[0]||D[1]))&&(f+=M^C>=0?1:-1)}}return(s<-_e||s<_e&&c<-s1)^f&1}function h1(e,t,n,r){return function(i){var a=t(i),s=u1(),f=t(s),c=!1,l,u,d,h={point:p,lineStart:g,lineEnd:b,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=x,u=[],l=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=b,u=V0(u);var _=cv(l,r);u.length?(c||(i.polygonStart(),c=!0),d1(u,uv,_,n,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,w){e(_,w)&&i.point(_,w)}function m(_,w){a.point(_,w)}function g(){h.point=m,a.lineStart()}function b(){h.point=p,a.lineEnd()}function v(_,w){d.push([_,w]),f.point(_,w)}function y(){f.lineStart(),d=[]}function x(){v(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),w=s.result(),k,S=w.length,C,I,T;if(d.pop(),l.push(d),d=null,!!S){if(_&1){if(I=w[0],(C=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),k=0;k<C;++k)i.point((T=I[k])[0],T[1]);i.lineEnd()}return}S>1&&_&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(lv))}}return h}}function lv(e){return e.length>1}function uv(e,t){return((e=e.x)[0]<0?e[1]-Ue-_e:Ue-e[1])-((t=t.x)[0]<0?t[1]-Ue-_e:Ue-t[1])}const qu=h1(function(){return!0},dv,pv,[-xe,-Ue]);function dv(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var f=a>0?xe:-xe,c=Ie(a-t);Ie(c-xe)<_e?(e.point(t,n=(n+s)/2>0?Ue:-Ue),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(a,n),i=0):r!==f&&c>=xe&&(Ie(t-r)<_e&&(t-=r*_e),Ie(a-f)<_e&&(a-=f*_e),n=hv(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=a,n=s),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function hv(e,t,n,r){var i,a,s=be(e-n);return Ie(s)>_e?hi((be(t)*(a=we(r))*be(n)-be(r)*(i=we(t))*be(e))/(i*a*s)):(t+r)/2}function pv(e,t,n,r){var i;if(e==null)i=n*Ue,r.point(-xe,i),r.point(0,i),r.point(xe,i),r.point(xe,0),r.point(xe,-i),r.point(0,-i),r.point(-xe,-i),r.point(-xe,0),r.point(-xe,i);else if(Ie(e[0]-t[0])>_e){var a=e[0]<t[0]?xe:-xe;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function gv(e){var t=we(e),n=2*qe,r=t>0,i=Ie(t)>_e;function a(u,d,h,p){fv(p,e,n,h,u,d)}function s(u,d){return we(u)*we(d)>t}function f(u){var d,h,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(b,v){var y=[b,v],x,_=s(b,v),w=r?_?0:l(b,v):_?l(b+(b<0?xe:-xe),v):0;if(!d&&(m=p=_)&&u.lineStart(),_!==p&&(x=c(d,y),(!x||Jo(d,x)||Jo(y,x))&&(y[2]=1)),_!==p)g=0,_?(u.lineStart(),x=c(y,d),u.point(x[0],x[1])):(x=c(d,y),u.point(x[0],x[1],2),u.lineEnd()),d=x;else if(i&&d&&r^_){var k;!(w&h)&&(k=c(y,d,!0))&&(g=0,r?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}_&&(!d||!Jo(d,y))&&u.point(y[0],y[1]),d=y,p=_,h=w},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function c(u,d,h){var p=Qr(u),m=Qr(d),g=[1,0,0],b=ya(p,m),v=To(b,b),y=b[0],x=v-y*y;if(!x)return!h&&u;var _=t*v/x,w=-t*y/x,k=ya(g,b),S=Co(g,_),C=Co(b,w);Zs(S,C);var I=k,T=To(S,I),M=To(I,I),E=T*T-M*(To(S,S)-1);if(!(E<0)){var D=Ct(E),B=Co(I,(-T-D)/M);if(Zs(B,S),B=Qf(B),!h)return B;var A=u[0],P=d[0],Z=u[1],ie=d[1],J;P<A&&(J=A,A=P,P=J);var X=P-A,H=Ie(X-xe)<_e,G=H||X<_e;if(!H&&ie<Z&&(J=Z,Z=ie,ie=J),G?H?Z+ie>0^B[1]<(Ie(B[0]-A)<_e?Z:ie):Z<=B[1]&&B[1]<=ie:X>xe^(A<=B[0]&&B[0]<=P)){var K=Co(I,(-T+D)/M);return Zs(K,S),[B,Qf(K)]}}}function l(u,d){var h=r?e:xe-e,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return h1(s,f,a,r?[0,-e]:[-xe,e-xe])}function mv(e,t,n,r,i,a){var s=e[0],f=e[1],c=t[0],l=t[1],u=0,d=1,h=c-s,p=l-f,m;if(m=n-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=a-f,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*h,e[1]=f+u*p),d<1&&(t[0]=s+d*h,t[1]=f+d*p),!0}}}}}var Ai=1e9,Do=-Ai;function p1(e,t,n,r){function i(l,u){return e<=l&&l<=n&&t<=u&&u<=r}function a(l,u,d,h){var p=0,m=0;if(l==null||(p=s(l,d))!==(m=s(u,d))||c(l,u)<0^d>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==m);else h.point(u[0],u[1])}function s(l,u){return Ie(l[0]-e)<_e?u>0?0:3:Ie(l[0]-n)<_e?u>0?2:1:Ie(l[1]-t)<_e?u>0?1:0:u>0?3:2}function f(l,u){return c(l.x,u.x)}function c(l,u){var d=s(l,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-l[1]:d===1?l[0]-u[0]:d===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,d=u1(),h,p,m,g,b,v,y,x,_,w,k,S={point:C,lineStart:E,lineEnd:D,polygonStart:T,polygonEnd:M};function C(A,P){i(A,P)&&u.point(A,P)}function I(){for(var A=0,P=0,Z=p.length;P<Z;++P)for(var ie=p[P],J=1,X=ie.length,H=ie[0],G,K,O=H[0],re=H[1];J<X;++J)G=O,K=re,H=ie[J],O=H[0],re=H[1],K<=r?re>r&&(O-G)*(r-K)>(re-K)*(e-G)&&++A:re<=r&&(O-G)*(r-K)<(re-K)*(e-G)&&--A;return A}function T(){u=d,h=[],p=[],k=!0}function M(){var A=I(),P=k&&A,Z=(h=V0(h)).length;(P||Z)&&(l.polygonStart(),P&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),Z&&d1(h,f,A,a,l),l.polygonEnd()),u=l,h=p=m=null}function E(){S.point=B,p&&p.push(m=[]),w=!0,_=!1,y=x=NaN}function D(){h&&(B(g,b),v&&_&&d.rejoin(),h.push(d.result())),S.point=C,_&&u.lineEnd()}function B(A,P){var Z=i(A,P);if(p&&m.push([A,P]),w)g=A,b=P,v=Z,w=!1,Z&&(u.lineStart(),u.point(A,P));else if(Z&&_)u.point(A,P);else{var ie=[y=Math.max(Do,Math.min(Ai,y)),x=Math.max(Do,Math.min(Ai,x))],J=[A=Math.max(Do,Math.min(Ai,A)),P=Math.max(Do,Math.min(Ai,P))];mv(ie,J,e,t,n,r)?(_||(u.lineStart(),u.point(ie[0],ie[1])),u.point(J[0],J[1]),Z||u.lineEnd(),k=!1):Z&&(u.lineStart(),u.point(A,P),k=!1)}y=A,x=P,_=Z}return S}}const rc=e=>e;var Qs=new vr,ic=new vr,g1,m1,oc,ac,Un={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){Un.lineStart=bv,Un.lineEnd=_v},polygonEnd:function(){Un.lineStart=Un.lineEnd=Un.point=zt,Qs.add(Ie(ic)),ic=new vr},result:function(){var e=Qs/2;return Qs=new vr,e}};function bv(){Un.point=yv}function yv(e,t){Un.point=b1,g1=oc=e,m1=ac=t}function b1(e,t){ic.add(ac*e-oc*t),oc=e,ac=t}function _v(){b1(g1,m1)}const zu=Un;var ei=1/0,_a=ei,zi=-ei,va=zi,vv={point:wv,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var e=[[ei,_a],[zi,va]];return zi=va=-(_a=ei=1/0),e}};function wv(e,t){e<ei&&(ei=e),e>zi&&(zi=e),t<_a&&(_a=t),t>va&&(va=t)}const wa=vv;var sc=0,fc=0,Ei=0,xa=0,Sa=0,Ur=0,cc=0,lc=0,Ti=0,y1,_1,dn,hn,en={point:Sr,lineStart:Uu,lineEnd:Hu,polygonStart:function(){en.lineStart=kv,en.lineEnd=Mv},polygonEnd:function(){en.point=Sr,en.lineStart=Uu,en.lineEnd=Hu},result:function(){var e=Ti?[cc/Ti,lc/Ti]:Ur?[xa/Ur,Sa/Ur]:Ei?[sc/Ei,fc/Ei]:[NaN,NaN];return sc=fc=Ei=xa=Sa=Ur=cc=lc=Ti=0,e}};function Sr(e,t){sc+=e,fc+=t,++Ei}function Uu(){en.point=xv}function xv(e,t){en.point=Sv,Sr(dn=e,hn=t)}function Sv(e,t){var n=e-dn,r=t-hn,i=Ct(n*n+r*r);xa+=i*(dn+e)/2,Sa+=i*(hn+t)/2,Ur+=i,Sr(dn=e,hn=t)}function Hu(){en.point=Sr}function kv(){en.point=Av}function Mv(){v1(y1,_1)}function Av(e,t){en.point=v1,Sr(y1=dn=e,_1=hn=t)}function v1(e,t){var n=e-dn,r=t-hn,i=Ct(n*n+r*r);xa+=i*(dn+e)/2,Sa+=i*(hn+t)/2,Ur+=i,i=hn*e-dn*t,cc+=i*(dn+e),lc+=i*(hn+t),Ti+=i*3,Sr(dn=e,hn=t)}const Vu=en;function w1(e){this._context=e}w1.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Lt);break}}},result:zt};var uc=new vr,ef,x1,S1,Ci,Ni,ka={point:zt,lineStart:function(){ka.point=Ev},lineEnd:function(){ef&&k1(x1,S1),ka.point=zt},polygonStart:function(){ef=!0},polygonEnd:function(){ef=null},result:function(){var e=+uc;return uc=new vr,e}};function Ev(e,t){ka.point=k1,x1=Ci=e,S1=Ni=t}function k1(e,t){Ci-=e,Ni-=t,uc.add(Ct(Ci*Ci+Ni*Ni)),Ci=e,Ni=t}const Wu=ka;let Yu,Ma,Xu,Gu;class Ku{constructor(t){this._append=t==null?M1:Tv(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Xu||this._append!==Ma){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Xu=r,Ma=this._append,Gu=this._,this._=i}this._+=Gu;break}}}result(){const t=this._;return this._="",t.length?t:null}}function M1(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Tv(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return M1;if(t!==Yu){const n=10**t;Yu=t,Ma=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ma}function Qi(e,t){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),dr(f,i(a))),a.result()}return s.area=function(f){return dr(f,i(zu)),zu.result()},s.measure=function(f){return dr(f,i(Wu)),Wu.result()},s.bounds=function(f){return dr(f,i(wa)),wa.result()},s.centroid=function(f){return dr(f,i(Vu)),Vu.result()},s.projection=function(f){return arguments.length?(i=f==null?(e=null,rc):(e=f).stream,s):e},s.context=function(f){return arguments.length?(a=f==null?(t=null,new Ku(n)):new w1(t=f),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return t===null&&(a=new Ku(n)),s},s.projection(e).digits(n).context(t)}function Aa(e){return{stream:is(e)}}function is(e){return function(t){var n=new dc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function dc(){}dc.prototype={constructor:dc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tl(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),dr(n,e.stream(wa)),t(wa.result()),r!=null&&e.clipExtent(r),e}function nl(e,t,n){return tl(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([f,c])},n)}function A1(e,t,n){return nl(e,[[0,0],t],n)}function E1(e,t,n){return tl(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];e.scale(150*a).translate([s,f])},n)}function T1(e,t,n){return tl(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}var Zu=16,Cv=we(30*qe);function Ju(e,t){return+t?Dv(e,t):Nv(e)}function Nv(e){return is({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Dv(e,t){function n(r,i,a,s,f,c,l,u,d,h,p,m,g,b){var v=l-r,y=u-i,x=v*v+y*y;if(x>4*t&&g--){var _=s+h,w=f+p,k=c+m,S=Ct(_*_+w*w+k*k),C=Wt(k/=S),I=Ie(Ie(k)-1)<_e||Ie(a-d)<_e?(a+d)/2:Pn(w,_),T=e(I,C),M=T[0],E=T[1],D=M-r,B=E-i,A=y*D-v*B;(A*A/x>t||Ie((v*D+y*B)/x-.5)>.3||s*h+f*p+c*m<Cv)&&(n(r,i,a,s,f,c,M,E,I,_/=S,w/=S,k,g,b),b.point(M,E),n(M,E,I,_,w,k,l,u,d,h,p,m,g,b))}}return function(r){var i,a,s,f,c,l,u,d,h,p,m,g,b={point:v,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),b.lineStart=w},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function v(C,I){C=e(C,I),r.point(C[0],C[1])}function y(){d=NaN,b.point=x,r.lineStart()}function x(C,I){var T=Qr([C,I]),M=e(C,I);n(d,h,u,p,m,g,d=M[0],h=M[1],u=C,p=T[0],m=T[1],g=T[2],Zu,r),r.point(d,h)}function _(){b.point=v,r.lineEnd()}function w(){y(),b.point=k,b.lineEnd=S}function k(C,I){x(i=C,I),a=d,s=h,f=p,c=m,l=g,b.point=x}function S(){n(d,h,u,p,m,g,a,s,i,f,c,l,Zu,r),b.lineEnd=_,_()}return b}}var Iv=is({point:function(e,t){this.stream.point(e*qe,t*qe)}});function Lv(e){return is({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Ov(e,t,n,r,i){function a(s,f){return s*=r,f*=i,[t+e*s,n-e*f]}return a.invert=function(s,f){return[(s-t)/e*r,(n-f)/e*i]},a}function Qu(e,t,n,r,i,a){if(!a)return Ov(e,t,n,r,i);var s=we(a),f=be(a),c=s*e,l=f*e,u=s/e,d=f/e,h=(f*n-s*t)/e,p=(f*t+s*n)/e;function m(g,b){return g*=r,b*=i,[c*g-l*b+t,n-l*g-c*b]}return m.invert=function(g,b){return[r*(u*g-d*b+h),i*(p-d*g-u*b)]},m}function sr(e){return C1(function(){return e})()}function C1(e){var t,n=150,r=480,i=250,a=0,s=0,f=0,c=0,l=0,u,d=0,h=1,p=1,m=null,g=qu,b=null,v,y,x,_=rc,w=.5,k,S,C,I,T;function M(A){return C(A[0]*qe,A[1]*qe)}function E(A){return A=C.invert(A[0],A[1]),A&&[A[0]*mt,A[1]*mt]}M.stream=function(A){return I&&T===A?I:I=Iv(Lv(u)(g(k(_(T=A)))))},M.preclip=function(A){return arguments.length?(g=A,m=void 0,B()):g},M.postclip=function(A){return arguments.length?(_=A,b=v=y=x=null,B()):_},M.clipAngle=function(A){return arguments.length?(g=+A?gv(m=A*qe):(m=null,qu),B()):m*mt},M.clipExtent=function(A){return arguments.length?(_=A==null?(b=v=y=x=null,rc):p1(b=+A[0][0],v=+A[0][1],y=+A[1][0],x=+A[1][1]),B()):b==null?null:[[b,v],[y,x]]},M.scale=function(A){return arguments.length?(n=+A,D()):n},M.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],D()):[r,i]},M.center=function(A){return arguments.length?(a=A[0]%360*qe,s=A[1]%360*qe,D()):[a*mt,s*mt]},M.rotate=function(A){return arguments.length?(f=A[0]%360*qe,c=A[1]%360*qe,l=A.length>2?A[2]%360*qe:0,D()):[f*mt,c*mt,l*mt]},M.angle=function(A){return arguments.length?(d=A%360*qe,D()):d*mt},M.reflectX=function(A){return arguments.length?(h=A?-1:1,D()):h<0},M.reflectY=function(A){return arguments.length?(p=A?-1:1,D()):p<0},M.precision=function(A){return arguments.length?(k=Ju(S,w=A*A),B()):Ct(w)},M.fitExtent=function(A,P){return nl(M,A,P)},M.fitSize=function(A,P){return A1(M,A,P)},M.fitWidth=function(A,P){return E1(M,A,P)},M.fitHeight=function(A,P){return T1(M,A,P)};function D(){var A=Qu(n,0,0,h,p,d).apply(null,t(a,s)),P=Qu(n,r-A[0],i-A[1],h,p,d);return u=l1(f,c,l),S=tc(t,P),C=tc(u,S),k=Ju(S,w),B()}function B(){return I=T=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&E,D()}}function rl(e){var t=0,n=xe/3,r=C1(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*qe,n=a[1]*qe):[t*mt,n*mt]},i}function Fv(e){var t=we(e);function n(r,i){return[r*t,be(i)/t]}return n.invert=function(r,i){return[r/t,Wt(i*t)]},n}function Pv(e,t){var n=be(e),r=(n+be(t))/2;if(Ie(r)<_e)return Fv(e);var i=1+n*(2*r-n),a=Ct(i)/r;function s(f,c){var l=Ct(i-2*r*be(c))/r;return[l*be(f*=r),a-l*we(f)]}return s.invert=function(f,c){var l=a-c,u=Pn(f,Ie(l))*qt(l);return l*r<0&&(u-=xe*qt(f)*qt(l)),[u/r,Wt((i-(f*f+l*l)*r*r)/(2*r))]},s}function Ea(){return rl(Pv).scale(155.424).center([0,33.6442])}function N1(){return Ea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Bv(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function $v(){var e,t,n=N1(),r,i=Ea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Ea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,l={point:function(h,p){c=[h,p]}};function u(h){var p=h[0],m=h[1];return c=null,r.point(p,m),c||(a.point(p,m),c)||(f.point(p,m),c)}u.invert=function(h){var p=n.scale(),m=n.translate(),g=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=Bv([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(l),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+_e,g+.12*p+_e],[m-.214*p-_e,g+.234*p-_e]]).stream(l),f=s.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+_e,g+.166*p+_e],[m-.115*p-_e,g+.234*p-_e]]).stream(l),d()},u.fitExtent=function(h,p){return nl(u,h,p)},u.fitSize=function(h,p){return A1(u,h,p)},u.fitWidth=function(h,p){return E1(u,h,p)},u.fitHeight=function(h,p){return T1(u,h,p)};function d(){return e=t=null,u}return u.scale(1070)}function D1(e){return function(t,n){var r=we(t),i=we(n),a=e(r*i);return a===1/0?[2,0]:[a*i*be(t),a*be(n)]}}function eo(e){return function(t,n){var r=Ct(t*t+n*n),i=e(r),a=be(i),s=we(i);return[Pn(t*a,r*s),Wt(r&&n*a/r)]}}var I1=D1(function(e){return Ct(2/(1+e))});I1.invert=eo(function(e){return 2*Wt(e/2)});function Rv(){return sr(I1).scale(124.75).clipAngle(180-.001)}var L1=D1(function(e){return(e=c1(e))&&e/be(e)});L1.invert=eo(function(e){return e});function jv(){return sr(L1).scale(79.4188).clipAngle(180-.001)}function os(e,t){return[e,ma(el((Ue+t)/2))]}os.invert=function(e,t){return[e,2*hi(f1(t))-Ue]};function qv(){return O1(os).scale(961/Lt)}function O1(e){var t=sr(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,f,c,l;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=f=c=l=null:(s=+d[0][0],f=+d[0][1],c=+d[1][0],l=+d[1][1]),u()):s==null?null:[[s,f],[c,l]]};function u(){var d=xe*r(),h=t(sv(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===os?[[Math.max(h[0]-d,s),f],[Math.min(h[0]+d,c),l]]:[[s,Math.max(h[1]-d,f)],[c,Math.min(h[1]+d,l)]])}return u()}function Io(e){return el((Ue+e)/2)}function zv(e,t){var n=we(e),r=e===t?be(e):ma(n/we(t))/ma(Io(t)/Io(e)),i=n*Ks(Io(e),r)/r;if(!r)return os;function a(s,f){i>0?f<-Ue+_e&&(f=-Ue+_e):f>Ue-_e&&(f=Ue-_e);var c=i/Ks(Io(f),r);return[c*be(r*s),i-c*we(r*s)]}return a.invert=function(s,f){var c=i-f,l=qt(r)*Ct(s*s+c*c),u=Pn(s,Ie(c))*qt(c);return c*r<0&&(u-=xe*qt(s)*qt(c)),[u/r,2*hi(Ks(i/l,1/r))-Ue]},a}function Uv(){return rl(zv).scale(109.5).parallels([30,30])}function Ta(e,t){return[e,t]}Ta.invert=Ta;function Hv(){return sr(Ta).scale(152.63)}function Vv(e,t){var n=we(e),r=e===t?be(e):(n-we(t))/(t-e),i=n/r+e;if(Ie(r)<_e)return Ta;function a(s,f){var c=i-f,l=r*s;return[c*be(l),i-c*we(l)]}return a.invert=function(s,f){var c=i-f,l=Pn(s,Ie(c))*qt(c);return c*r<0&&(l-=xe*qt(s)*qt(c)),[l/r,i-qt(r)*Ct(s*s+c*c)]},a}function Wv(){return rl(Vv).scale(131.154).center([0,13.9389])}var Oi=1.340264,Fi=-.081106,Pi=893e-6,Bi=.003796,Ca=Ct(3)/2,Yv=12;function F1(e,t){var n=Wt(Ca*be(t)),r=n*n,i=r*r*r;return[e*we(n)/(Ca*(Oi+3*Fi*r+i*(7*Pi+9*Bi*r))),n*(Oi+Fi*r+i*(Pi+Bi*r))]}F1.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,f,c;a<Yv&&(f=n*(Oi+Fi*r+i*(Pi+Bi*r))-t,c=Oi+3*Fi*r+i*(7*Pi+9*Bi*r),n-=s=f/c,r=n*n,i=r*r*r,!(Ie(s)<s1));++a);return[Ca*e*(Oi+3*Fi*r+i*(7*Pi+9*Bi*r))/we(n),Wt(be(n)/Ca)]};function Xv(){return sr(F1).scale(177.158)}function P1(e,t){var n=we(t),r=we(e)*n;return[n*be(e)/r,be(t)/r]}P1.invert=eo(hi);function Gv(){return sr(P1).scale(144.049).clipAngle(60)}function B1(e,t){return[we(t)*be(e),be(t)]}B1.invert=eo(Wt);function Kv(){return sr(B1).scale(249.5).clipAngle(90+_e)}function $1(e,t){var n=we(t),r=1+we(e)*n;return[n*be(e)/r,be(t)/r]}$1.invert=eo(function(e){return 2*hi(e)});function Zv(){return sr($1).scale(250).clipAngle(142)}function R1(e,t){return[ma(el((Ue+t)/2)),-e]}R1.invert=function(e,t){return[-t,2*hi(f1(e))-Ue]};function Jv(){var e=O1(R1),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function as(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hc=Symbol("implicit");function il(){var e=new wr,t=[],n=[],r=hc;function i(a){let s=e.get(a);if(s===void 0){if(r!==hc)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wr;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return il(t,n).unknown(r)},xn.apply(i,arguments),i}function ss(){var e=il().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,f=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-c+l*2),f&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*u,s=a*(1-c),f&&(m=Math.round(m),s=Math.round(s));var b=Hf(h).map(function(v){return m+a*v});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(f=!!h,d()):f},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return ss(t(),[r,i]).round(f).paddingInner(c).paddingOuter(l).align(u)},xn.apply(d(),arguments)}function j1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j1(t())},e}function Qv(){return j1(ss.apply(null,arguments).paddingInner(1))}function ew(e){return function(){return e}}function pc(e){return+e}var ed=[0,1];function Ut(e){return e}function gc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ew(isNaN(t)?NaN:.5)}function tw(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nw(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=gc(i,r),a=n(s,a)):(r=gc(r,i),a=n(a,s)),function(f){return a(r(f))}}function rw(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=gc(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(f){var c=Vc(e,f,1,r)-1;return a[c](i[c](f))}}function to(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fs(){var e=ed,t=ed,n=ui,r,i,a,s=Ut,f,c,l;function u(){var h=Math.min(e.length,t.length);return s!==Ut&&(s=tw(e[0],e[h-1])),f=h>2?rw:nw,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=f(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((l||(l=f(t,e.map(r),er)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,pc),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Zc,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Ut,u()):s!==Ut},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function q1(){return fs()(Ut,Ut)}function iw(e,t,n,r){var i=zf(e,t,n),a;switch(r=qi(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ov(i,s))&&(r.precision=a),a1(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=av(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iv(i))&&(r.precision=a-(r.type==="%")*2);break}}return di(r)}function no(e){var t=e.domain;return e.ticks=function(n){var r=t();return ca(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return iw(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],f=r[a],c,l,u=10;for(f<s&&(l=s,s=f,f=l,l=i,i=a,a=l);u-- >0;){if(l=qf(s,f,n),l===c)return r[i]=s,r[a]=f,t(r);if(l>0)s=Math.floor(s/l)*l,f=Math.ceil(f/l)*l;else if(l<0)s=Math.ceil(s*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function ol(){var e=q1();return e.copy=function(){return to(e,ol())},xn.apply(e,arguments),no(e)}function z1(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return z1(e).unknown(t)},e=arguments.length?Array.from(e,pc):[0,1],no(n)}function U1(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function td(e){return Math.log(e)}function nd(e){return Math.exp(e)}function ow(e){return-Math.log(-e)}function aw(e){return-Math.exp(-e)}function sw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fw(e){return e===10?sw:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cw(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rd(e){return(t,n)=>-e(-t,n)}function H1(e){const t=e(td,nd),n=t.domain;let r=10,i,a;function s(){return i=cw(r),a=fw(r),n()[0]<0?(i=rd(i),a=rd(a),e(ow,aw)):e(td,nd),t}return t.base=function(f){return arguments.length?(r=+f,s()):r},t.domain=function(f){return arguments.length?(n(f),s()):n()},t.ticks=f=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=i(l),p=i(u),m,g;const b=f==null?10:+f;let v=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}v.length*2<b&&(v=ca(l,u,b))}else v=ca(h,p,Math.min(p-h,b)).map(a);return d?v.reverse():v},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=qi(c)).precision==null&&(c.trim=!0),c=di(c)),f===1/0)return c;const l=Math.max(1,r*f/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},t.nice=()=>n(U1(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function V1(){const e=H1(fs()).domain([1,10]);return e.copy=()=>to(e,V1()).base(e.base()),xn.apply(e,arguments),e}function id(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function od(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W1(e){var t=1,n=e(id(t),od(t));return n.constant=function(r){return arguments.length?e(id(t=+r),od(t)):t},no(n)}function Y1(){var e=W1(fs());return e.copy=function(){return to(e,Y1()).constant(e.constant())},xn.apply(e,arguments)}function ad(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uw(e){return e<0?-e*e:e*e}function X1(e){var t=e(Ut,Ut),n=1;function r(){return n===1?e(Ut,Ut):n===.5?e(lw,uw):e(ad(n),ad(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},no(t)}function G1(){var e=X1(fs());return e.copy=function(){return to(e,G1()).exponent(e.exponent())},xn.apply(e,arguments),e}function K1(){var e=[],t=[],n=[],r;function i(){var s=0,f=Math.max(1,t.length);for(n=new Array(f-1);++s<f;)n[s-1]=f_(e,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Vc(n,s)]}return a.invertExtent=function(s){var f=t.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let f of s)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Tt),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K1().domain(e).range(t).unknown(r)},xn.apply(a,arguments)}function Z1(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Vc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z1().domain(e).range(t).unknown(n)},xn.apply(i,arguments)}const tf=new Date,nf=new Date;function Ke(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return c;let l;do c.push(l=new Date(+a)),t(a,f),e(a);while(l<a&&a<s);return c},i.filter=a=>Ke(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;t(s,-1),!a(s););else for(;--f>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(tf.setTime(+a),nf.setTime(+s),e(tf),e(nf),Math.floor(n(tf,nf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Na=Ke(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Na.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ke(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Na);Na.range;const Ln=1e3,Ht=Ln*60,On=Ht*60,Bn=On*24,al=Bn*7,sd=Bn*30,rf=Bn*365,tn=Ke(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCSeconds());tn.range;const ro=Ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getMinutes());ro.range;const io=Ke(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getUTCMinutes());io.range;const oo=Ke(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ln-e.getMinutes()*Ht)},(e,t)=>{e.setTime(+e+t*On)},(e,t)=>(t-e)/On,e=>e.getHours());oo.range;const ao=Ke(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*On)},(e,t)=>(t-e)/On,e=>e.getUTCHours());ao.range;const Tr=Ke(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/Bn,e=>e.getDate()-1);Tr.range;const cs=Ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>e.getUTCDate()-1);cs.range;const ls=Ke(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>Math.floor(e/Bn));ls.range;function Cr(e){return Ke(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/al)}const ti=Cr(0),Ui=Cr(1),J1=Cr(2),Q1=Cr(3),kr=Cr(4),ep=Cr(5),tp=Cr(6);ti.range;Ui.range;J1.range;Q1.range;kr.range;ep.range;tp.range;function Nr(e){return Ke(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/al)}const ni=Nr(0),Hi=Nr(1),np=Nr(2),rp=Nr(3),Mr=Nr(4),ip=Nr(5),op=Nr(6);ni.range;Hi.range;np.range;rp.range;Mr.range;ip.range;op.range;const so=Ke(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());so.range;const fo=Ke(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fo.range;const on=Ke(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());on.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ke(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});on.range;const an=Ke(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());an.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ke(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});an.range;function ap(e,t,n,r,i,a){const s=[[tn,1,Ln],[tn,5,5*Ln],[tn,15,15*Ln],[tn,30,30*Ln],[a,1,Ht],[a,5,5*Ht],[a,15,15*Ht],[a,30,30*Ht],[i,1,On],[i,3,3*On],[i,6,6*On],[i,12,12*On],[r,1,Bn],[r,2,2*Bn],[n,1,al],[t,1,sd],[t,3,3*sd],[e,1,rf]];function f(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:c(l,u,d),m=p?p.range(l,+u+1):[];return h?m.reverse():m}function c(l,u,d){const h=Math.abs(u-l)/d,p=es(([,,b])=>b).right(s,h);if(p===s.length)return e.every(zf(l/rf,u/rf,d));if(p===0)return Na.every(Math.max(zf(l,u,d),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[f,c]}const[dw,hw]=ap(an,fo,ni,ls,ao,io),[pw,gw]=ap(on,so,ti,Tr,oo,ro);function of(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function af(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function mw(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,f=e.months,c=e.shortMonths,l=wi(i),u=xi(i),d=wi(a),h=xi(a),p=wi(s),m=xi(s),g=wi(f),b=xi(f),v=wi(c),y=xi(c),x={a:Z,A:ie,b:J,B:X,c:null,d:hd,e:hd,f:Rw,g:Gw,G:Zw,H:Pw,I:Bw,j:$w,L:sp,m:jw,M:qw,p:H,q:G,Q:md,s:bd,S:zw,u:Uw,U:Hw,V:Vw,w:Ww,W:Yw,x:null,X:null,y:Xw,Y:Kw,Z:Jw,"%":gd},_={a:K,A:O,b:re,B:le,c:null,d:pd,e:pd,f:n3,g:d3,G:p3,H:Qw,I:e3,j:t3,L:cp,m:r3,M:i3,p:V,q:se,Q:md,s:bd,S:o3,u:a3,U:s3,V:f3,w:c3,W:l3,x:null,X:null,y:u3,Y:h3,Z:g3,"%":gd},w={a:T,A:M,b:E,B:D,c:B,d:ud,e:ud,f:Iw,g:ld,G:cd,H:dd,I:dd,j:Tw,L:Dw,m:Ew,M:Cw,p:I,q:Aw,Q:Ow,s:Fw,S:Nw,u:ww,U:xw,V:Sw,w:vw,W:kw,x:A,X:P,y:ld,Y:cd,Z:Mw,"%":Lw};x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(N,z){return function(W){var F=[],ce=-1,fe=0,de=N.length,pe,U,ge;for(W instanceof Date||(W=new Date(+W));++ce<de;)N.charCodeAt(ce)===37&&(F.push(N.slice(fe,ce)),(U=fd[pe=N.charAt(++ce)])!=null?pe=N.charAt(++ce):U=pe==="e"?" ":"0",(ge=z[pe])&&(pe=ge(W,U)),F.push(pe),fe=ce+1);return F.push(N.slice(fe,ce)),F.join("")}}function S(N,z){return function(W){var F=vi(1900,void 0,1),ce=C(F,N,W+="",0),fe,de;if(ce!=W.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(fe=af(vi(F.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?Hi.ceil(fe):Hi(fe),fe=cs.offset(fe,(F.V-1)*7),F.y=fe.getUTCFullYear(),F.m=fe.getUTCMonth(),F.d=fe.getUTCDate()+(F.w+6)%7):(fe=of(vi(F.y,0,1)),de=fe.getDay(),fe=de>4||de===0?Ui.ceil(fe):Ui(fe),fe=Tr.offset(fe,(F.V-1)*7),F.y=fe.getFullYear(),F.m=fe.getMonth(),F.d=fe.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),de="Z"in F?af(vi(F.y,0,1)).getUTCDay():of(vi(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(de+5)%7:F.w+F.U*7-(de+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,af(F)):of(F)}}function C(N,z,W,F){for(var ce=0,fe=z.length,de=W.length,pe,U;ce<fe;){if(F>=de)return-1;if(pe=z.charCodeAt(ce++),pe===37){if(pe=z.charAt(ce++),U=w[pe in fd?z.charAt(ce++):pe],!U||(F=U(N,W,F))<0)return-1}else if(pe!=W.charCodeAt(F++))return-1}return F}function I(N,z,W){var F=l.exec(z.slice(W));return F?(N.p=u.get(F[0].toLowerCase()),W+F[0].length):-1}function T(N,z,W){var F=p.exec(z.slice(W));return F?(N.w=m.get(F[0].toLowerCase()),W+F[0].length):-1}function M(N,z,W){var F=d.exec(z.slice(W));return F?(N.w=h.get(F[0].toLowerCase()),W+F[0].length):-1}function E(N,z,W){var F=v.exec(z.slice(W));return F?(N.m=y.get(F[0].toLowerCase()),W+F[0].length):-1}function D(N,z,W){var F=g.exec(z.slice(W));return F?(N.m=b.get(F[0].toLowerCase()),W+F[0].length):-1}function B(N,z,W){return C(N,t,z,W)}function A(N,z,W){return C(N,n,z,W)}function P(N,z,W){return C(N,r,z,W)}function Z(N){return s[N.getDay()]}function ie(N){return a[N.getDay()]}function J(N){return c[N.getMonth()]}function X(N){return f[N.getMonth()]}function H(N){return i[+(N.getHours()>=12)]}function G(N){return 1+~~(N.getMonth()/3)}function K(N){return s[N.getUTCDay()]}function O(N){return a[N.getUTCDay()]}function re(N){return c[N.getUTCMonth()]}function le(N){return f[N.getUTCMonth()]}function V(N){return i[+(N.getUTCHours()>=12)]}function se(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var z=k(N+="",x);return z.toString=function(){return N},z},parse:function(N){var z=S(N+="",!1);return z.toString=function(){return N},z},utcFormat:function(N){var z=k(N+="",_);return z.toString=function(){return N},z},utcParse:function(N){var z=S(N+="",!0);return z.toString=function(){return N},z}}}var fd={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,bw=/^%/,yw=/[\\^$*+?|[\]().{}]/g;function Ce(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function _w(e){return e.replace(yw,"\\$&")}function wi(e){return new RegExp("^(?:"+e.map(_w).join("|")+")","i")}function xi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vw(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ww(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cd(e,t,n){var r=nt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ld(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Aw(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ew(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ud(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tw(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dd(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Cw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Dw(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Iw(e,t,n){var r=nt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lw(e,t,n){var r=bw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ow(e,t,n){var r=nt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Fw(e,t,n){var r=nt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hd(e,t){return Ce(e.getDate(),t,2)}function Pw(e,t){return Ce(e.getHours(),t,2)}function Bw(e,t){return Ce(e.getHours()%12||12,t,2)}function $w(e,t){return Ce(1+Tr.count(on(e),e),t,3)}function sp(e,t){return Ce(e.getMilliseconds(),t,3)}function Rw(e,t){return sp(e,t)+"000"}function jw(e,t){return Ce(e.getMonth()+1,t,2)}function qw(e,t){return Ce(e.getMinutes(),t,2)}function zw(e,t){return Ce(e.getSeconds(),t,2)}function Uw(e){var t=e.getDay();return t===0?7:t}function Hw(e,t){return Ce(ti.count(on(e)-1,e),t,2)}function fp(e){var t=e.getDay();return t>=4||t===0?kr(e):kr.ceil(e)}function Vw(e,t){return e=fp(e),Ce(kr.count(on(e),e)+(on(e).getDay()===4),t,2)}function Ww(e){return e.getDay()}function Yw(e,t){return Ce(Ui.count(on(e)-1,e),t,2)}function Xw(e,t){return Ce(e.getFullYear()%100,t,2)}function Gw(e,t){return e=fp(e),Ce(e.getFullYear()%100,t,2)}function Kw(e,t){return Ce(e.getFullYear()%1e4,t,4)}function Zw(e,t){var n=e.getDay();return e=n>=4||n===0?kr(e):kr.ceil(e),Ce(e.getFullYear()%1e4,t,4)}function Jw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ce(t/60|0,"0",2)+Ce(t%60,"0",2)}function pd(e,t){return Ce(e.getUTCDate(),t,2)}function Qw(e,t){return Ce(e.getUTCHours(),t,2)}function e3(e,t){return Ce(e.getUTCHours()%12||12,t,2)}function t3(e,t){return Ce(1+cs.count(an(e),e),t,3)}function cp(e,t){return Ce(e.getUTCMilliseconds(),t,3)}function n3(e,t){return cp(e,t)+"000"}function r3(e,t){return Ce(e.getUTCMonth()+1,t,2)}function i3(e,t){return Ce(e.getUTCMinutes(),t,2)}function o3(e,t){return Ce(e.getUTCSeconds(),t,2)}function a3(e){var t=e.getUTCDay();return t===0?7:t}function s3(e,t){return Ce(ni.count(an(e)-1,e),t,2)}function lp(e){var t=e.getUTCDay();return t>=4||t===0?Mr(e):Mr.ceil(e)}function f3(e,t){return e=lp(e),Ce(Mr.count(an(e),e)+(an(e).getUTCDay()===4),t,2)}function c3(e){return e.getUTCDay()}function l3(e,t){return Ce(Hi.count(an(e)-1,e),t,2)}function u3(e,t){return Ce(e.getUTCFullYear()%100,t,2)}function d3(e,t){return e=lp(e),Ce(e.getUTCFullYear()%100,t,2)}function h3(e,t){return Ce(e.getUTCFullYear()%1e4,t,4)}function p3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mr(e):Mr.ceil(e),Ce(e.getUTCFullYear()%1e4,t,4)}function g3(){return"+0000"}function gd(){return"%"}function md(e){return+e}function bd(e){return Math.floor(+e/1e3)}var Br,sl,co;m3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m3(e){return Br=mw(e),sl=Br.format,Br.parse,co=Br.utcFormat,Br.utcParse,Br}function b3(e){return new Date(e)}function y3(e){return e instanceof Date?+e:+new Date(+e)}function fl(e,t,n,r,i,a,s,f,c,l){var u=q1(),d=u.invert,h=u.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),b=l("%I %p"),v=l("%a %d"),y=l("%b %d"),x=l("%B"),_=l("%Y");function w(k){return(c(k)<k?p:f(k)<k?m:s(k)<k?g:a(k)<k?b:r(k)<k?i(k)<k?v:y:n(k)<k?x:_)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,y3)):h().map(b3)},u.ticks=function(k){var S=h();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?w:l(S)},u.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?h(U1(S,k)):u},u.copy=function(){return to(u,fl(e,t,n,r,i,a,s,f,c,l))},u}function _3(){return xn.apply(fl(pw,gw,on,so,ti,Tr,oo,ro,tn,sl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function v3(){return xn.apply(fl(dw,hw,an,fo,ni,cs,ao,io,tn,co).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function us(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ds(){var e=0,t=.5,n=1,r=1,i,a,s,f,c,l=Ut,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?f:c),l(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),s=u(n=+n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(b){var v,y,x;return arguments.length?([v,y,x]=b,l=rs(g,[v,y,x]),p):[l(0),l(.5),l(1)]}}return p.range=m(ui),p.rangeRound=m(Zc),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),s=g(n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function up(){var e=no(ds()(Ut));return e.copy=function(){return us(e,up())},as.apply(e,arguments)}function dp(){var e=H1(ds()).domain([.1,1,10]);return e.copy=function(){return us(e,dp()).base(e.base())},as.apply(e,arguments)}function hp(){var e=W1(ds());return e.copy=function(){return us(e,hp()).constant(e.constant())},as.apply(e,arguments)}function pp(){var e=X1(ds());return e.copy=function(){return us(e,pp()).exponent(e.exponent())},as.apply(e,arguments)}function ye(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const gp=ye("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),w3=ye("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),x3=ye("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),S3=ye("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),k3=ye("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),M3=ye("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),A3=ye("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),E3=ye("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),T3=ye("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C3=ye("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),N3=ye("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Oe=e=>Iy(e[e.length-1]);var mp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ye);const bp=Oe(mp);var yp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ye);const _p=Oe(yp);var vp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ye);const wp=Oe(vp);var xp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ye);const Sp=Oe(xp);var mc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ye);const Da=Oe(mc);var kp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ye);const Mp=Oe(kp);var bc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ye);const Ia=Oe(bc);var Ap=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ye);const Ep=Oe(Ap);var Tp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ye);const Cp=Oe(Tp);var Np=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ye);const Dp=Oe(Np);var Ip=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ye);const Lp=Oe(Ip);var Op=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ye);const Fp=Oe(Op);var Pp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ye);const Bp=Oe(Pp);var $p=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ye);const Rp=Oe($p);var jp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ye);const qp=Oe(jp);var zp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ye);const Up=Oe(zp);var Hp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ye);const Vp=Oe(Hp);var Wp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ye);const Yp=Oe(Wp);var Xp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ye);const Gp=Oe(Xp);var Kp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ye);const Zp=Oe(Kp);var Jp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ye);const Qp=Oe(Jp);var eg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ye);const tg=Oe(eg);var ng=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ye);const rg=Oe(ng);var ig=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ye);const og=Oe(ig);var ag=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ye);const sg=Oe(ag);var fg=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ye);const cg=Oe(fg);var lg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ye);const ug=Oe(lg);function dg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const hg=Jc(_n(300,.5,0),_n(-240,.5,1));var pg=Jc(_n(-100,.75,.35),_n(80,1.5,.8)),gg=Jc(_n(260,.75,.35),_n(80,1.5,.8)),Lo=_n();function mg(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Lo.h=360*e-100,Lo.s=1.5-1.5*t,Lo.l=.8-.9*t,Lo+""}var Oo=oa(),D3=Math.PI/3,I3=Math.PI*2/3;function bg(e){var t;return e=(.5-e)*Math.PI,Oo.r=255*(t=Math.sin(e))*t,Oo.g=255*(t=Math.sin(e+D3))*t,Oo.b=255*(t=Math.sin(e+I3))*t,Oo+""}function yg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function hs(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const _g=hs(ye("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var vg=hs(ye("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),wg=hs(ye("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xg=hs(ye("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $r(e){return function(){return e}}const Sg=Math.cos,cl=Math.min,La=Math.sin,Ze=Math.sqrt,yd=1e-12,Oa=Math.PI,ps=2*Oa;function L3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new i1(t)}function O3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kg(e){this._context=e}kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gs(e){return new kg(e)}function F3(e){return e[0]}function P3(e){return e[1]}function B3(e,t){var n=$r(!0),r=null,i=gs,a=null,s=L3(f);e=typeof e=="function"?e:e===void 0?F3:$r(e),t=typeof t=="function"?t:t===void 0?P3:$r(t);function f(c){var l,u=(c=O3(c)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),l=0;l<=u;++l)!(l<u&&n(d=c[l],l,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,l,c),+t(d,l,c));if(p)return a=null,p+""||null}return f.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),f):e},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),f):t},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$r(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),f):r},f}class Mg{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function $3(e){return new Mg(e,!0)}function R3(e){return new Mg(e,!1)}const j3=Ze(3),Ag={draw(e,t){const n=Ze(t+cl(t/28,.75))*.59436,r=n/2,i=r*j3;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Vi={draw(e,t){const n=Ze(t/Oa);e.moveTo(n,0),e.arc(0,0,n,0,ps)}},Eg={draw(e,t){const n=Ze(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Tg=Ze(1/3),q3=Tg*2,Cg={draw(e,t){const n=Ze(t/q3),r=n*Tg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ng={draw(e,t){const n=Ze(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Dg={draw(e,t){const n=Ze(t-cl(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Ig={draw(e,t){const n=Ze(t),r=-n/2;e.rect(r,r,n,n)}},Lg={draw(e,t){const n=Ze(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},z3=.8908130915292852,Og=La(Oa/10)/La(7*Oa/10),U3=La(ps/10)*Og,H3=-Sg(ps/10)*Og,Fg={draw(e,t){const n=Ze(t*z3),r=U3*n,i=H3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=ps*a/5,f=Sg(s),c=La(s);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*i,c*r+f*i)}e.closePath()}},sf=Ze(3),Pg={draw(e,t){const n=-Ze(t/(sf*3));e.moveTo(0,n*2),e.lineTo(-sf*n,-n),e.lineTo(sf*n,-n),e.closePath()}},V3=Ze(3),Bg={draw(e,t){const n=Ze(t)*.6824,r=n/2,i=n*V3/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},$t=-.5,Rt=Ze(3)/2,yc=1/Ze(12),W3=(yc/2+1)*3,$g={draw(e,t){const n=Ze(t/W3),r=n/2,i=n*yc,a=r,s=n*yc+n,f=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(f,c),e.lineTo($t*r-Rt*i,Rt*r+$t*i),e.lineTo($t*a-Rt*s,Rt*a+$t*s),e.lineTo($t*f-Rt*c,Rt*f+$t*c),e.lineTo($t*r+Rt*i,$t*i-Rt*r),e.lineTo($t*a+Rt*s,$t*s-Rt*a),e.lineTo($t*f+Rt*c,$t*c-Rt*f),e.closePath()}},Rg={draw(e,t){const n=Ze(t-cl(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Y3=[Vi,Eg,Cg,Ig,Fg,Pg,$g],X3=[Vi,Dg,Rg,Bg,Ag,Lg,Ng];function nr(){}function Fa(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ms(e){this._context=e}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G3(e){return new ms(e)}function jg(e){this._context=e}jg.prototype={areaStart:nr,areaEnd:nr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K3(e){return new jg(e)}function qg(e){this._context=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z3(e){return new qg(e)}function zg(e,t){this._basis=new ms(e),this._beta=t}zg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+c*a),this._beta*t[f]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const J3=function e(t){function n(r){return t===1?new ms(r):new zg(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Pa(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ll(e,t){this._context=e,this._k=(1-t)/6}ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Q3=function e(t){function n(r){return new ll(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ul(e,t){this._context=e,this._k=(1-t)/6}ul.prototype={areaStart:nr,areaEnd:nr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const e6=function e(t){function n(r){return new ul(r,t)}return n.tension=function(r){return e(+r)},n}(0);function dl(e,t){this._context=e,this._k=(1-t)/6}dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const t6=function e(t){function n(r){return new dl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function hl(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>yd){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>yd){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Ug(e,t){this._context=e,this._alpha=t}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:hl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const n6=function e(t){function n(r){return t?new Ug(r,t):new ll(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Hg(e,t){this._context=e,this._alpha=t}Hg.prototype={areaStart:nr,areaEnd:nr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:hl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const r6=function e(t){function n(r){return t?new Hg(r,t):new ul(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Vg(e,t){this._context=e,this._alpha=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i6=function e(t){function n(r){return t?new Vg(r,t):new dl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Wg(e){this._context=e}Wg.prototype={areaStart:nr,areaEnd:nr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o6(e){return new Wg(e)}function _d(e){return e<0?-1:1}function vd(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(_d(a)+_d(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function wd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ff(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,f=(a-r)/3;e._context.bezierCurveTo(r+f,i+f*t,a-f,s-f*n,a,s)}function Ba(e){this._context=e}Ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ff(this,this._t0,wd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ff(this,wd(this,n=vd(this,e,t)),n);break;default:ff(this,this._t0,n=vd(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Yg(e){this._context=new Xg(e)}(Yg.prototype=Object.create(Ba.prototype)).point=function(e,t){Ba.prototype.point.call(this,t,e)};function Xg(e){this._context=e}Xg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function a6(e){return new Ba(e)}function s6(e){return new Yg(e)}function Gg(e){this._context=e}Gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xd(e),i=xd(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function f6(e){return new Gg(e)}function bs(e,t){this._context=e,this._t=t}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function c6(e){return new bs(e,.5)}function l6(e){return new bs(e,0)}function u6(e){return new bs(e,1)}const d6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Kg(e){return typeof e>"u"||e===null}function h6(e){return typeof e=="object"&&e!==null}function p6(e){return Array.isArray(e)?e:Kg(e)?[]:[e]}function g6(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function m6(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function b6(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var y6=Kg,_6=h6,v6=p6,w6=m6,x6=b6,S6=g6,yt={isNothing:y6,isObject:_6,toArray:v6,repeat:w6,isNegativeZero:x6,extend:S6};function Zg(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Wi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Zg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Wi.prototype=Object.create(Error.prototype);Wi.prototype.constructor=Wi;Wi.prototype.toString=function(t){return this.name+": "+Zg(this,t)};var Dn=Wi;function cf(e,t,n,r,i){var a="",s="",f=Math.floor(i/2)-1;return r-t>f&&(a=" ... ",t=r-f+a.length),n-r>f&&(s=" ...",n=r+f-s.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+a.length}}function lf(e,t){return yt.repeat(" ",t-e.length)+e}function k6(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var f="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=cf(e.buffer,r[s-c],i[s-c],e.position-(r[s]-r[s-c]),d),f=yt.repeat(" ",t.indent)+lf((e.line-c+1).toString(),u)+" | "+l.str+`
`+f;for(l=cf(e.buffer,r[s],i[s],e.position,d),f+=yt.repeat(" ",t.indent)+lf((e.line+1).toString(),u)+" | "+l.str+`
`,f+=yt.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=cf(e.buffer,r[s+c],i[s+c],e.position-(r[s]-r[s+c]),d),f+=yt.repeat(" ",t.indent)+lf((e.line+c+1).toString(),u)+" | "+l.str+`
`;return f.replace(/\n$/,"")}var M6=k6,A6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],E6=["scalar","sequence","mapping"];function T6(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function C6(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(A6.indexOf(n)===-1)throw new Dn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=T6(t.styleAliases||null),E6.indexOf(this.kind)===-1)throw new Dn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ft=C6;function Sd(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}function N6(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function _c(e){return this.extend(e)}_c.prototype.extend=function(t){var n=[],r=[];if(t instanceof ft)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Dn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof ft))throw new Dn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Dn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Dn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof ft))throw new Dn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(_c.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Sd(i,"implicit"),i.compiledExplicit=Sd(i,"explicit"),i.compiledTypeMap=N6(i.compiledImplicit,i.compiledExplicit),i};var D6=_c,I6=new ft("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),L6=new ft("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),O6=new ft("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),F6=new D6({explicit:[I6,L6,O6]});function P6(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function B6(){return null}function $6(e){return e===null}var R6=new ft("tag:yaml.org,2002:null",{kind:"scalar",resolve:P6,construct:B6,predicate:$6,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function j6(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function q6(e){return e==="true"||e==="True"||e==="TRUE"}function z6(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var U6=new ft("tag:yaml.org,2002:bool",{kind:"scalar",resolve:j6,construct:q6,predicate:z6,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function H6(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function V6(e){return 48<=e&&e<=55}function W6(e){return 48<=e&&e<=57}function Y6(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!H6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!V6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!W6(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function X6(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function G6(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!yt.isNegativeZero(e)}var K6=new ft("tag:yaml.org,2002:int",{kind:"scalar",resolve:Y6,construct:X6,predicate:G6,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Z6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function J6(e){return!(e===null||!Z6.test(e)||e[e.length-1]==="_")}function Q6(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var e5=/^[-+]?[0-9]+e/;function t5(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yt.isNegativeZero(e))return"-0.0";return n=e.toString(10),e5.test(n)?n.replace("e",".e"):n}function n5(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||yt.isNegativeZero(e))}var r5=new ft("tag:yaml.org,2002:float",{kind:"scalar",resolve:J6,construct:Q6,predicate:n5,represent:t5,defaultStyle:"lowercase"}),i5=F6.extend({implicit:[R6,U6,K6,r5]}),o5=i5,Jg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Qg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function a5(e){return e===null?!1:Jg.exec(e)!==null||Qg.exec(e)!==null}function s5(e){var t,n,r,i,a,s,f,c=0,l=null,u,d,h;if(t=Jg.exec(e),t===null&&(t=Qg.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],f=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(n,r,i,a,s,f,c)),l&&h.setTime(h.getTime()-l),h}function f5(e){return e.toISOString()}var c5=new ft("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:a5,construct:s5,instanceOf:Date,represent:f5});function l5(e){return e==="<<"||e===null}var u5=new ft("tag:yaml.org,2002:merge",{kind:"scalar",resolve:l5}),pl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function d5(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=pl;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function h5(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=pl,s=0,f=[];for(t=0;t<i;t++)t%4===0&&t&&(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)):n===18?(f.push(s>>10&255),f.push(s>>2&255)):n===12&&f.push(s>>4&255),new Uint8Array(f)}function p5(e){var t="",n=0,r,i,a=e.length,s=pl;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function g5(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var m5=new ft("tag:yaml.org,2002:binary",{kind:"scalar",resolve:d5,construct:h5,predicate:g5,represent:p5}),b5=Object.prototype.hasOwnProperty,y5=Object.prototype.toString;function _5(e){if(e===null)return!0;var t=[],n,r,i,a,s,f=e;for(n=0,r=f.length;n<r;n+=1){if(i=f[n],s=!1,y5.call(i)!=="[object Object]")return!1;for(a in i)if(b5.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function v5(e){return e!==null?e:[]}var w5=new ft("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_5,construct:v5}),x5=Object.prototype.toString;function S5(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],x5.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function k5(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var M5=new ft("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:S5,construct:k5}),A5=Object.prototype.hasOwnProperty;function E5(e){if(e===null)return!0;var t,n=e;for(t in n)if(A5.call(n,t)&&n[t]!==null)return!1;return!0}function T5(e){return e!==null?e:{}}var C5=new ft("tag:yaml.org,2002:set",{kind:"mapping",resolve:E5,construct:T5}),N5=o5.extend({implicit:[c5,u5],explicit:[m5,w5,M5,C5]}),rr=Object.prototype.hasOwnProperty,$a=1,em=2,tm=3,Ra=4,uf=1,D5=2,kd=3,I5=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,L5=/[\x85\u2028\u2029]/,O5=/[,\[\]\{\}]/,nm=/^(?:!|!!|![a-z\-]+!)$/i,rm=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Md(e){return Object.prototype.toString.call(e)}function bn(e){return e===10||e===13}function mr(e){return e===9||e===32}function Et(e){return e===9||e===32||e===10||e===13}function Hr(e){return e===44||e===91||e===93||e===123||e===125}function F5(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function P5(e){return e===120?2:e===117?4:e===85?8:0}function B5(e){return 48<=e&&e<=57?e-48:-1}function Ad(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function $5(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var im=new Array(256),om=new Array(256);for(var Rr=0;Rr<256;Rr++)im[Rr]=Ad(Rr)?1:0,om[Rr]=Ad(Rr);function R5(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||N5,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function am(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=M6(n),new Dn(t,n)}function ue(e,t){throw am(e,t)}function ja(e,t){e.onWarning&&e.onWarning.call(null,am(e,t))}var Ed={YAML:function(t,n,r){var i,a,s;t.version!==null&&ue(t,"duplication of %YAML directive"),r.length!==1&&ue(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&ue(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&ue(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&ja(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&ue(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],nm.test(i)||ue(t,"ill-formed tag handle (first argument) of the TAG directive"),rr.call(t.tagMap,i)&&ue(t,'there is a previously declared suffix for "'+i+'" tag handle'),rm.test(a)||ue(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{ue(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Zn(e,t,n,r){var i,a,s,f;if(t<n){if(f=e.input.slice(t,n),r)for(i=0,a=f.length;i<a;i+=1)s=f.charCodeAt(i),s===9||32<=s&&s<=1114111||ue(e,"expected valid JSON character");else I5.test(f)&&ue(e,"the stream contains non-printable characters");e.result+=f}}function Td(e,t,n,r){var i,a,s,f;for(yt.isObject(n)||ue(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,f=i.length;s<f;s+=1)a=i[s],rr.call(t,a)||(t[a]=n[a],r[a]=!0)}function Vr(e,t,n,r,i,a,s,f,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&ue(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Md(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Md(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(l=0,u=a.length;l<u;l+=1)Td(e,t,a[l],n);else Td(e,t,a,n);else!e.json&&!rr.call(n,i)&&rr.call(t,i)&&(e.line=s||e.line,e.lineStart=f||e.lineStart,e.position=c||e.position,ue(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function gl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ue(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ye(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;mr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(bn(i))for(gl(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&ja(e,"deficient indentation"),r}function ys(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Et(n)))}function ml(e,t){t===1?e.result+=" ":t>1&&(e.result+=yt.repeat(`
`,t-1))}function j5(e,t,n){var r,i,a,s,f,c,l,u,d=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Et(p)||Hr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Et(i)||n&&Hr(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,f=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Et(i)||n&&Hr(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),Et(r))break}else{if(e.position===e.lineStart&&ys(e)||n&&Hr(p))break;if(bn(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,Ye(e,!1,-1),e.lineIndent>=t){f=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}f&&(Zn(e,a,s,!1),ml(e,e.line-c),a=s=e.position,f=!1),mr(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Zn(e,a,s,!1),e.result?!0:(e.kind=d,e.result=h,!1)}function q5(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Zn(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else bn(n)?(Zn(e,r,i,!0),ml(e,Ye(e,!1,t)),r=i=e.position):e.position===e.lineStart&&ys(e)?ue(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ue(e,"unexpected end of the stream within a single quoted scalar")}function z5(e,t){var n,r,i,a,s,f;if(f=e.input.charCodeAt(e.position),f!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(f=e.input.charCodeAt(e.position))!==0;){if(f===34)return Zn(e,n,e.position,!0),e.position++,!0;if(f===92){if(Zn(e,n,e.position,!0),f=e.input.charCodeAt(++e.position),bn(f))Ye(e,!1,t);else if(f<256&&im[f])e.result+=om[f],e.position++;else if((s=P5(f))>0){for(i=s,a=0;i>0;i--)f=e.input.charCodeAt(++e.position),(s=F5(f))>=0?a=(a<<4)+s:ue(e,"expected hexadecimal character");e.result+=$5(a),e.position++}else ue(e,"unknown escape sequence");n=r=e.position}else bn(f)?(Zn(e,n,r,!0),ml(e,Ye(e,!1,t)),n=r=e.position):e.position===e.lineStart&&ys(e)?ue(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}ue(e,"unexpected end of the stream within a double quoted scalar")}function U5(e,t){var n=!0,r,i,a,s=e.tag,f,c=e.anchor,l,u,d,h,p,m=Object.create(null),g,b,v,y;if(y=e.input.charCodeAt(e.position),y===91)u=93,p=!1,f=[];else if(y===123)u=125,p=!0,f={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),y=e.input.charCodeAt(++e.position);y!==0;){if(Ye(e,!0,t),y=e.input.charCodeAt(e.position),y===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=f,!0;n?y===44&&ue(e,"expected the node content, but found ','"):ue(e,"missed comma between flow collection entries"),b=g=v=null,d=h=!1,y===63&&(l=e.input.charCodeAt(e.position+1),Et(l)&&(d=h=!0,e.position++,Ye(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,ri(e,t,$a,!1,!0),b=e.tag,g=e.result,Ye(e,!0,t),y=e.input.charCodeAt(e.position),(h||e.line===r)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),Ye(e,!0,t),ri(e,t,$a,!1,!0),v=e.result),p?Vr(e,f,m,b,g,v,r,i,a):d?f.push(Vr(e,null,m,b,g,v,r,i,a)):f.push(g),Ye(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}ue(e,"unexpected end of the stream within a flow collection")}function H5(e,t){var n,r,i=uf,a=!1,s=!1,f=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)uf===i?i=d===43?kd:D5:ue(e,"repeat of a chomping mode identifier");else if((u=B5(d))>=0)u===0?ue(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?ue(e,"repeat of an indentation width identifier"):(f=t+u-1,s=!0);else break;if(mr(d)){do d=e.input.charCodeAt(++e.position);while(mr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!bn(d)&&d!==0)}for(;d!==0;){for(gl(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<f)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>f&&(f=e.lineIndent),bn(d)){c++;continue}if(e.lineIndent<f){i===kd?e.result+=yt.repeat(`
`,a?1+c:c):i===uf&&a&&(e.result+=`
`);break}for(r?mr(d)?(l=!0,e.result+=yt.repeat(`
`,a?1+c:c)):l?(l=!1,e.result+=yt.repeat(`
`,c+1)):c===0?a&&(e.result+=" "):e.result+=yt.repeat(`
`,c):e.result+=yt.repeat(`
`,a?1+c:c),a=!0,s=!0,c=0,n=e.position;!bn(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Zn(e,n,e.position,!1)}return!0}function Cd(e,t){var n,r=e.tag,i=e.anchor,a=[],s,f=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ue(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!Et(s))));){if(f=!0,e.position++,Ye(e,!0,-1)&&e.lineIndent<=t){a.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,ri(e,t,tm,!1,!0),a.push(e.result),Ye(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)ue(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return f?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function V5(e,t,n){var r,i,a,s,f,c,l=e.tag,u=e.anchor,d={},h=Object.create(null),p=null,m=null,g=null,b=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ue(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(y===63||y===58)&&Et(r))y===63?(b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):ue(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=r;else{if(s=e.line,f=e.lineStart,c=e.position,!ri(e,n,em,!1,!0))break;if(e.line===a){for(y=e.input.charCodeAt(e.position);mr(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Et(y)||ue(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(v)ue(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)ue(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,f=e.lineStart,c=e.position),ri(e,t,Ra,!0,i)&&(b?m=e.result:g=e.result),b||(Vr(e,d,h,p,m,g,s,f,c),p=m=g=null),Ye(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&y!==0)ue(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Vr(e,d,h,p,m,null,s,f,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),v}function W5(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&ue(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):ue(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Et(s);)s===33&&(r?ue(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),nm.test(i)||ue(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),O5.test(a)&&ue(e,"tag suffix cannot contain flow indicator characters")}a&&!rm.test(a)&&ue(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{ue(e,"tag name is malformed: "+a)}return n?e.tag=a:rr.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:ue(e,'undeclared tag handle "'+i+'"'),!0}function Y5(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&ue(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Et(n)&&!Hr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ue(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function X5(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Et(r)&&!Hr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ue(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),rr.call(e.anchorMap,n)||ue(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ye(e,!0,-1),!0}function ri(e,t,n,r,i){var a,s,f,c=1,l=!1,u=!1,d,h,p,m,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=f=Ra===n||tm===n,r&&Ye(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;W5(e)||Y5(e);)Ye(e,!0,-1)?(l=!0,f=a,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):f=!1;if(f&&(f=l||i),(c===1||Ra===n)&&($a===n||em===n?g=t:g=t+1,b=e.position-e.lineStart,c===1?f&&(Cd(e,b)||V5(e,b,g))||U5(e,g)?u=!0:(s&&H5(e,g)||q5(e,g)||z5(e,g)?u=!0:X5(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ue(e,"alias node should not have any properties")):j5(e,g,$a===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=f&&Cd(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ue(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(rr.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,h=p.length;d<h;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||ue(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&ue(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ue(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function G5(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ye(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Et(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&ue(e,"directive name must not be less than one character in length");s!==0;){for(;mr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!bn(s));break}if(bn(s))break;for(n=e.position;s!==0&&!Et(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&gl(e),rr.call(Ed,r)?Ed[r](e,r,i):ja(e,'unknown document directive "'+r+'"')}if(Ye(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ye(e,!0,-1)):a&&ue(e,"directives end mark is expected"),ri(e,e.lineIndent-1,Ra,!1,!0),Ye(e,!0,-1),e.checkLineBreaks&&L5.test(e.input.slice(t,e.position))&&ja(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ys(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ye(e,!0,-1));return}if(e.position<e.length-1)ue(e,"end of the stream or a document separator is expected");else return}function sm(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new R5(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,ue(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)G5(n);return n.documents}function K5(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=sm(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function Z5(e,t){var n=sm(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Dn("expected a single document in the stream, but found more")}}var J5=K5,Q5=Z5,e4={loadAll:J5,load:Q5},t4=e4.load;function ir(e){return e!=null&&!Number.isNaN(e)}function vn(e,t){return+ir(t)-+ir(e)||Tt(e,t)}function qa(e,t){return+ir(t)-+ir(e)||Ji(e,t)}function bl(e){return e!=null&&`${e}`!=""}function fm(e){return isFinite(e)?e:NaN}function lo(e){return e>0&&isFinite(e)?e:NaN}function _s(e){return e<0&&isFinite(e)?e:NaN}function n4(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${r4(e.getUTCFullYear())}-${Nn(e.getUTCMonth()+1,2)}-${Nn(e.getUTCDate(),2)}${n||r||i||a?`T${Nn(n,2)}:${Nn(r,2)}${i||a?`:${Nn(i,2)}${a?`.${Nn(a,3)}`:""}`:""}Z`:""}`}function r4(e){return e<0?`-${Nn(-e,6)}`:e>9999?`+${Nn(e,6)}`:Nn(e,4)}function Nn(e,t){return`${e}`.padStart(t,"0")}const i4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function cm(e,t){return i4.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function ii(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Ji(t,n)}const Wr=1e3,Wn=Wr*60,Yn=Wn*60,wn=Yn*24,cn=wn*7,br=wn*30,qn=wn*365,df=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Wr],["5 seconds",5*Wr],["15 seconds",15*Wr],["30 seconds",30*Wr],["minute",Wn],["5 minutes",5*Wn],["15 minutes",15*Wn],["30 minutes",30*Wn],["hour",Yn],["3 hours",3*Yn],["6 hours",6*Yn],["12 hours",12*Yn],["day",wn],["2 days",2*wn],["week",cn],["2 weeks",2*cn],["month",br],["3 months",3*br],["6 months",6*br],["year",qn],["2 years",2*qn],["5 years",5*qn],["10 years",10*qn],["20 years",20*qn],["50 years",50*qn],["100 years",100*qn]],yl=new Map([["second",Wr],["minute",Wn],["hour",Yn],["day",wn],["monday",cn],["tuesday",cn],["wednesday",cn],["thursday",cn],["friday",cn],["saturday",cn],["sunday",cn],["week",cn],["month",br],["year",qn]]),lm=new Map([["second",tn],["minute",ro],["hour",oo],["day",Tr],["monday",Ui],["tuesday",J1],["wednesday",Q1],["thursday",kr],["friday",ep],["saturday",tp],["sunday",ti],["week",ti],["month",so],["year",on]]),_l=new Map([["second",tn],["minute",io],["hour",ao],["day",ls],["monday",Hi],["tuesday",np],["wednesday",rp],["thursday",Mr],["friday",ip],["saturday",op],["sunday",ni],["week",ni],["month",fo],["year",an]]),uo=Symbol("intervalDuration"),vs=Symbol("intervalType");for(const[e,t]of lm)t[uo]=yl.get(e),t[vs]="time";for(const[e,t]of _l)t[uo]=yl.get(e),t[vs]="utc";const Di=[["year",an,"utc"],["month",fo,"utc"],["day",ls,"utc",6*br],["hour",ao,"utc",3*wn],["minute",io,"utc",6*Yn],["second",tn,"utc",30*Wn]],Qo=[["year",on,"time"],["month",so,"time"],["day",Tr,"time",6*br],["hour",oo,"time",3*wn],["minute",ro,"time",6*Yn],["second",tn,"time",30*Wn]],o4=[Di[0],Qo[0],Di[1],Qo[1],Di[2],Qo[2],...Di.slice(3)];function um(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=_l.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function dm(e){return pm(um(e),"time")}function hm(e){return pm(um(e),"utc")}function pm([e,t],n){let r=(n==="time"?lm:_l).get(e);return t>1&&(r=r.every(t),r[uo]=yl.get(e)*t,r[vs]=n),r}function Nd(e,t){if(!(t>1))return;const n=e[uo];if(!df.some(([,i])=>i===n)||n%wn===0&&wn<n&&n<br)return;const[r]=df[es(([,i])=>Math.log(i)).center(df,Math.log(n*t))];return(e[vs]==="time"?dm:hm)(r)}function Dd(e,t,n){const r=t==="time"?sl:co;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=a4(n);switch(e){case"millisecond":return jr(r(".%L"),r(":%M:%S"),i);case"second":return jr(r(":%S"),r("%-I:%M"),i);case"minute":return jr(r("%-I:%M"),r("%p"),i);case"hour":return jr(r("%-I %p"),r("%b %-d"),i);case"day":return jr(r("%-d"),r("%b"),i);case"month":return jr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function a4(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function s4(e){return e==="time"?Qo:e==="utc"?Di:o4}function f4(e,t,n){const r=It(d_(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return Dd("millisecond","utc",n);for(const[i,a,s,f]of s4(e)){if(r>f||i==="hour"&&!r)break;if(t.every(c=>a.floor(c)>=c))return Dd(i,s,n)}}function jr(e,t,n){return(r,i,a)=>{const s=e(r,i),f=t(r,i),c=i-ii(a);return i!==c&&a[c]!==void 0&&f===t(a[c],c)?s:n(s,f)}}const Yi=Object.getPrototypeOf(Uint8Array),c4=Object.prototype.toString,gm=Symbol("reindex");function Vt(e,t,n){const r=typeof t;return r==="string"?Id(e,mm(t),n):r==="function"?Id(e,t,n):r==="number"||t instanceof Date||r==="boolean"?tt(e,ho(t),n):typeof(t==null?void 0:t.transform)=="function"?Ld(t.transform(e),n):l4(Ld(t,n),e==null?void 0:e[gm])}function l4(e,t){return t?wl(e,t):e}function Id(e,t,n){return tt(e,(n==null?void 0:n.prototype)instanceof Yi?u4(t):t,n)}function Ld(e,t){return t===void 0?Ot(e):e instanceof t?e:t.prototype instanceof Yi&&!(e instanceof Yi)?t.from(e,vl):t.from(e)}function u4(e){return(t,n)=>vl(e(t,n))}const ea=[null],mm=e=>t=>t[e],bm={transform:fr},Ft={transform:e=>e},d4=()=>1,h4=()=>!0,_t=e=>e==null?e:`${e}`,Fe=e=>e==null?e:+e,ym=e=>e?e[0]:void 0,p4=e=>e?e[1]:void 0,ho=e=>()=>e;function g4(e){const t=+`${e}`.slice(1)/100;return(n,r)=>la(n,t,r)}function Xn(e){return e instanceof Yi?e:tt(e,vl,Float64Array)}function vl(e){return e==null?NaN:Number(e)}function m4(e){return tt(e,b4)}function b4(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?cm(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Ar(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Ss(e)?[void 0,e]:[e,void 0]}function st(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function _m(e,t,n){if(e!=null)return sn(e,t,n)}function sn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Ot(e){return e==null||e instanceof Array||e instanceof Yi?e:Array.from(e)}function tt(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Xi(e,t=Array){return e instanceof t?e.slice():t.from(e)}function vm({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function y4({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function _4(e){return vm(e)||y4(e)||e.interval!==void 0}function Dr(e){return(e==null?void 0:e.toString)===c4}function za(e){return Dr(e)&&(e.type!==void 0||e.domain!==void 0)}function ws(e){return Dr(e)&&typeof e.transform!="function"}function oi(e){return ws(e)&&e.value===void 0&&e.channel===void 0}function v4(e,t,n,r=Ft){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function po(e,t){return e===void 0&&t===void 0?[ym,p4]:[e,t]}function wm({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Ar(t)),e===void 0&&([e]=Ar(n)),e}function fr(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function wl(e,t){return tt(t,n=>e[n],e.constructor)}function w4(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function hr(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vc(e){let t;return[{transform:()=>t,label:go(e)},n=>t=n]}function x4(e){return e==null?[e]:vc(e)}function go(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function S4(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Yt(r)||Yt(i)?tt(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):tt(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function k4(e,t){const n=xm(t==null?void 0:t.interval,t==null?void 0:t.type);return n?tt(e,n):e}function xm(e,t){const n=xl(e,t);return n&&(r=>ir(r)?n.floor(r):r)}function xl(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Hf(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Hf(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?dm:hm)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function mo(e,t){if(e=xl(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function M4(e,t){if(e=mo(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function A4(e){return typeof(e==null?void 0:e.range)=="function"}function xs(e){return e===void 0||ws(e)?e:{value:e}}function E4(e){return e==null?null:{transform:t=>Vt(t,e,Float64Array),label:go(e)}}function Ir(e){return e&&typeof e[Symbol.iterator]=="function"}function Sm(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Od(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Yt(e){for(const t of e)if(t!=null)return t instanceof Date}function T4(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&cm(t)}function C4(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function N4(e){for(const t of e)if(t!=null)return typeof t=="number"}function hf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const D4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ss(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||D4.has(e))}function I4(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Mt(e){return e==null||Gi(e)}function Gi(e){return/^\s*none\s*$/i.test(e)}function L4(e){return/^\s*round\s*$/i.test(e)}function wc(e,t){return _m(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ks(e="middle"){return wc(e,"frameAnchor")}function O4(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function F4(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function km(e){return Ir(e)?F4(e):e}function Mm(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=sn(e,"clip",["frame","sphere"])),e}const gn=Symbol("position"),$n=Symbol("color"),bo=Symbol("radius"),yo=Symbol("length"),_o=Symbol("opacity"),Ms=Symbol("symbol"),Am=Symbol("projection"),je=new Map([["x",gn],["y",gn],["fx",gn],["fy",gn],["r",bo],["color",$n],["opacity",_o],["symbol",Ms],["length",yo],["projection",Am]]);function P4(e){return e===gn||e===Am}function B4(e){return e===gn||e===bo||e===yo||e===_o}const $4=Math.sqrt(3),R4=2/$4,j4={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*R4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Sl=new Map([["asterisk",Ag],["circle",Vi],["cross",Eg],["diamond",Cg],["diamond2",Ng],["hexagon",j4],["plus",Dg],["square",Ig],["square2",Lg],["star",Fg],["times",Rg],["triangle",Pg],["triangle2",Bg],["wye",$g]]);function kl(e){return e&&typeof e.draw=="function"}function q4(e){return kl(e)?!0:typeof e!="string"?!1:Sl.has(e.toLowerCase())}function Ml(e){if(e==null||kl(e))return e;const t=Sl.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function z4(e){if(e==null||kl(e))return[void 0,e];if(typeof e=="string"){const t=Sl.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Al({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Em(e)),t!=null&&!oi(t)&&(r=pf(r,El(t))),n&&(r=pf(r,Tm))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||oi(t))&&{sort:t},transform:pf(r,s)}}function ai({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Em(e)),t!=null&&!oi(t)&&(r=gf(r,El(t))),n&&(r=gf(r,Tm))),{...i,...(t===null||oi(t))&&{sort:t},initializer:gf(r,a)}}function pf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Ot(n),r,i)}}function gf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,f,c,l,u,d;return{data:f=n,facets:c=r,channels:s}=e.call(this,n,r,i,...a),{data:u=f,facets:d=c,channels:l}=t.call(this,f,c,{...i,...s},...a),{data:u,facets:d,channels:{...s,...l}}}}function U4(e,t){return(e.initializer!=null?ai:Al)(e,t)}function Em(e){return(t,n)=>{const r=Vt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function Tm(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function H4(e,{sort:t,...n}={}){return{...(ws(e)&&e.channel!==void 0?ai:U4)(n,El(e)),sort:oi(t)?t:null}}function El(e){return(typeof e=="function"&&e.length!==1?V4:W4)(e)}function V4(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function W4(e){let t,n;({channel:t,value:e,order:n}={...xs(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?qa:vn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=vn;break;case"descending":n=qa;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(t===void 0)f=Vt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[t],!f)return{};f=f.value}const c=(l,u)=>n(f[l],f[u]);return{data:i,facets:a.map(l=>l.slice().sort(c))}}}function Y4(e,t,n=X4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Dr(e))return G4(e);if(typeof e=="function")return K4(e);if(/^p\d{2}$/i.test(e))return Cn(g4(e));switch(`${e}`.toLowerCase()){case"first":return J4;case"last":return Q4;case"identity":return Z4;case"count":return Pd;case"distinct":return e8;case"sum":return t==null?Pd:t8;case"proportion":return Bd(t,"data");case"proportion-facet":return Bd(t,"facet");case"deviation":return Cn(e_);case"min":return Cn(yn);case"min-index":return Cn(s_);case"max":return Cn(It);case"max-index":return Cn(a_);case"mean":return Fd(c_);case"median":return Fd(Uf);case"variance":return Cn($0);case"mode":return Cn(u_)}return n(e)}function X4(e){throw new Error(`invalid reduce: ${e}`)}function G4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function K4(e){return{reduceIndex(t,n,r){return e(wl(n,t),r)}}}function Cn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Fd(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Yt(n)?new Date(r):r}}}const Z4={reduceIndex(e,t){return wl(t,e)}},J4={reduceIndex(e,t){return t[e[0]]}},Q4={reduceIndex(e,t){return t[e[e.length-1]]}},Pd={label:"Frequency",reduceIndex(e){return e.length}},e8={label:"Distinct",reduceIndex(e,t){const n=new ts;for(const r of e)n.add(t[r]);return n.size}},t8=Cn(xr);function Bd(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>xr(n,a=>r[a])/i}}function Ki(e,{scale:t,type:n,value:r,filter:i,hint:a,label:s=go(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Cm(f,{scale:t,type:n,value:Vt(e,r),label:s,filter:i,hint:a})}function n8(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Ki(t,r,n)]))}function r8(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:tt(a,s)]}));return n.channels=e,n}function Cm(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&hf(r,Ss)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&hf(r,I4)?null:"opacity";break;case"symbol":n!==!0&&hf(r,q4)?(t.scale=null,t.value=tt(r,Ml)):t.scale="symbol";break;default:t.scale=je.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!je.has(n))throw new Error(`unknown scale: ${n}`);return t}function i8(e,t,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:c}=i;for(const l in i){if(!je.has(l))continue;let{value:u,order:d=a,reverse:h=s,reduce:p=f,limit:m=c}=xs(i[l]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Dm:Nm:s8(d),p==null||p===!1)continue;const b=l==="fx"||l==="fy"?a8(t,r[l]):o8(n,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const v=b.value,[y=0,x=1/0]=Ir(m)?m:m<0?[m]:[0,m];if(u==null)b.domain=()=>{let _=Array.from(new ts(v));return h&&(_=_.reverse()),(y!==0||x!==1/0)&&(_=_.slice(y,x)),_};else{const _=u==="data"?e:u==="height"?$d(n,"y1","y2"):u==="width"?$d(n,"x1","x2"):xc(n,u,u==="y"?"y2":u==="x"?"x2":void 0),w=Y4(p===!0?"max":p,_);b.domain=()=>{let k=t_(fr(v),S=>w.reduceIndex(S,_),S=>v[S]);return d&&k.sort(d),h&&k.reverse(),(y!==0||x!==1/0)&&(k=k.slice(y,x)),k.map(ym)}}}}function o8(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function a8(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of e[a])i[f]=s}return t}function $d(e,t,n){const r=xc(e,t),i=xc(e,n);return tt(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function xc(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function s8(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Nm;case"descending":return Dm}throw new Error(`invalid order: ${e}`)}function Nm([e,t],[n,r]){return vn(t,r)||vn(e,n)}function Dm([e,t],[n,r]){return qa(t,r)||vn(e,n)}function Rd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function Tl(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:Mm(n)}}function Xe(e,{document:t}){return kt(N0(e).call(t.documentElement))}let Sc=0,kc;function f8(){const e=Sc;return Sc=0,kc=void 0,e}function Jn(e){e!==kc&&(kc=e,console.warn(e),++Sc)}const Im=Math.PI,An=2*Im,jd=.618;function c8({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let f,c,l="frame";if(Dr(e)){let w;if({type:e,domain:c,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Lm(e));const{width:u,height:d,marginLeft:h,marginRight:p,marginTop:m,marginBottom:g}=s,b=u-h-p-a-r,v=d-m-g-n-i;if(e=e==null?void 0:e({width:b,height:v,clip:l,...f}),e==null)return;l=l8(l,h,m,u-p,d-g);let y=h+a,x=m+n,_;if(c!=null){const[[w,k],[S,C]]=Qi(e).bounds(c),I=Math.min(b/(S-w),v/(C-k));I>0?(y-=(I*(w+S)-b)/2,x-=(I*(k+C)-v)/2,_=Aa({point(T,M){this.stream.point(T*I+y,M*I+x)}})):Jn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=y===0&&x===0?Om():Aa({point(w,k){this.stream.point(w+y,k+x)}})),{stream:w=>e.stream(_.stream(l(w)))}}function Lm(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Qt($v,.7463,.4673);case"albers":return Fo(N1,.7463,.4673);case"azimuthal-equal-area":return Qt(Rv,4,4);case"azimuthal-equidistant":return Qt(jv,An,An);case"conic-conformal":return Fo(Uv,An,An);case"conic-equal-area":return Fo(Ea,6.1702,2.9781);case"conic-equidistant":return Fo(Wv,7.312,3.6282);case"equal-earth":return Qt(Xv,5.4133,2.6347);case"equirectangular":return Qt(Hv,An,Im);case"gnomonic":return Qt(Gv,3.4641,3.4641);case"identity":return{type:Om};case"reflect-y":return{type:u8};case"mercator":return Qt(qv,An,An);case"orthographic":return Qt(Kv,2,2);case"stereographic":return Qt(Zv,2,2);case"transverse-mercator":return Qt(Jv,An,An);default:throw new Error(`unknown projection type: ${e}`)}}function l8(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return p1(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Qt(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var l,u,d;const c=e();return s!=null&&((l=c.precision)==null||l.call(c,s)),a!=null&&((u=c.rotate)==null||u.call(c,a)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function Fo(e,t,n){const{type:r,aspectRatio:i}=Qt(e,t,n);return{type:a=>{const{parallels:s,domain:f,width:c,height:l}=a,u=r(a);return s!=null&&(u.parallels(s),f===void 0&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:i}}const Om=ho({stream:e=>e}),u8=ho(Aa({point(e,t){this.stream.point(e,-t)}}));function d8(e,t,n,r){const i=n[e],a=n[t],s=i.length,f=n[e]=new Float64Array(s).fill(NaN),c=n[t]=new Float64Array(s).fill(NaN);let l;const u=r.stream({point(d,h){f[l]=d,c[l]=h}});for(l=0;l<s;++l)u.point(i[l],a[l])}function h8({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Dr(e)&&(e=e.type),e!=null)}function p8(e){if(typeof(e==null?void 0:e.stream)=="function")return jd;if(Dr(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=Lm(e);if(t)return t}return jd}}function g8(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,f){t.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)dr(s,a);return[r,i]}const Fm=new Map([["accent",w3],["category10",gp],["dark2",x3],["observable10",S3],["paired",k3],["pastel1",M3],["pastel2",A3],["set1",E3],["set2",T3],["set3",C3],["tableau10",N3]]);function m8(e){return e!=null&&Fm.has(`${e}`.toLowerCase())}const qd=new Map([...Fm,["brbg",En(mp,bp)],["prgn",En(yp,_p)],["piyg",En(vp,wp)],["puor",En(xp,Sp)],["rdbu",En(mc,Da)],["rdgy",En(kp,Mp)],["rdylbu",En(bc,Ia)],["rdylgn",En(Ap,Ep)],["spectral",En(Tp,Cp)],["burd",zd(mc,Da)],["buylrd",zd(bc,Ia)],["blues",et(eg,tg)],["greens",et(ng,rg)],["greys",et(ig,og)],["oranges",et(lg,ug)],["purples",et(ag,sg)],["reds",et(fg,cg)],["turbo",Tn(yg)],["viridis",Tn(_g)],["magma",Tn(vg)],["inferno",Tn(wg)],["plasma",Tn(xg)],["cividis",Tn(dg)],["cubehelix",Tn(hg)],["warm",Tn(pg)],["cool",Tn(gg)],["bugn",et(Np,Dp)],["bupu",et(Ip,Lp)],["gnbu",et(Op,Fp)],["orrd",et(Pp,Bp)],["pubu",et(jp,qp)],["pubugn",et($p,Rp)],["purd",et(zp,Up)],["rdpu",et(Hp,Vp)],["ylgn",et(Xp,Gp)],["ylgnbu",et(Wp,Yp)],["ylorbr",et(Kp,Zp)],["ylorrd",et(Jp,Qp)],["rainbow",Ud(mg)],["sinebow",Ud(bg)]]);function et(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?rn(t,n):e[n])}function En(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?rn(t,n):e[n])}function zd(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?rn(r=>t(1-r),n):e[n].slice().reverse())}function Tn(e){return({length:t})=>rn(e,Math.max(2,Math.floor(t)))}function Ud(e){return({length:t})=>rn(e,Math.floor(t)+1).slice(0,-1)}function Pm(e){const t=`${e}`.toLowerCase();if(!qd.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return qd.get(t)}function As(e,t){const n=Pm(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function b8(e,t="greys"){const n=new Set,[r,i]=As(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Hd=new Map([["brbg",bp],["prgn",_p],["piyg",wp],["puor",Sp],["rdbu",Da],["rdgy",Mp],["rdylbu",Ia],["rdylgn",Ep],["spectral",Cp],["burd",e=>Da(1-e)],["buylrd",e=>Ia(1-e)],["blues",tg],["greens",rg],["greys",og],["purples",sg],["reds",cg],["oranges",ug],["turbo",yg],["viridis",_g],["magma",vg],["inferno",wg],["plasma",xg],["cividis",dg],["cubehelix",hg],["warm",pg],["cool",gg],["bugn",Dp],["bupu",Lp],["gnbu",Fp],["orrd",Bp],["pubugn",Rp],["pubu",qp],["purd",Up],["rdpu",Vp],["ylgnbu",Yp],["ylgn",Gp],["ylorbr",Zp],["ylorrd",Qp],["rainbow",mg],["sinebow",bg]]);function Cl(e){const t=`${e}`.toLowerCase();if(!Hd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Hd.get(t)}const y8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function _8(e){return e!=null&&y8.has(`${e}`.toLowerCase())}const Bm=e=>t=>e(1-t),mf=[0,1],Vd=new Map([["number",er],["rgb",$i],["hsl",O_],["hcl",B_],["lab",F_]]);function $m(e){const t=`${e}`.toLowerCase();if(!Vd.has(t))throw new Error(`unknown interpolator: ${t}`);return Vd.get(t)}function vo(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:f=jm(e,n),unknown:c,round:l,scheme:u,interval:d,range:h=je.get(e)===bo?N8(n,f):je.get(e)===yo?D8(n,f):je.get(e)===_o?mf:void 0,interpolate:p=je.get(e)===$n?u==null&&h!==void 0?$i:Cl(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):l?Zc:er,reverse:m}){if(d=mo(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=$m(p)),m=!!m,h!==void 0){const g=(f=Ot(f)).length,b=(h=Ot(h)).length;if(g!==b){if(p.length===1)throw new Error("invalid piecewise interpolator");p=rs(p,h),h=void 0}}if(p.length===1?(m&&(p=Bm(p),m=!1),h===void 0&&(h=Float64Array.from(f,(g,b)=>b/(f.length-1)),h.length===2&&(h=mf)),t.interpolate((h===mf?ho:Dl)(p))):t.interpolate(p),s){const[g,b]=Kn(f);(g>0||b<0)&&(f=Xi(f),ii(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return m&&(f=ua(f)),t.domain(f).unknown(c),i&&(t.nice(v8(i,r)),f=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:f,range:h,scale:t,interpolate:p,interval:d}}function v8(e,t){return e===!0?void 0:typeof e=="number"?e:M4(e,t)}function w8(e,t,n){return vo(e,ol(),t,n)}function x8(e,t,n){return Rm(e,t,{...n,exponent:.5})}function Rm(e,t,{exponent:n=1,...r}){return vo(e,G1().exponent(n),t,{...r,type:"pow"})}function S8(e,t,{base:n=10,domain:r=I8(t),...i}){return vo(e,V1().base(n),t,{...i,domain:r})}function k8(e,t,{constant:n=1,...r}){return vo(e,Y1().constant(n),t,r)}function M8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=L8(t),unknown:f,interpolate:c,reverse:l}){return n===void 0&&(n=c!==void 0?rn(c,i):je.get(e)===$n?As(a,i):void 0),s.length>0&&(s=K1(s,n===void 0?{length:i}:n).quantiles()),Nl(e,t,{domain:s,range:n,reverse:l,unknown:f})}function A8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=jm(e,t),unknown:s,interpolate:f,reverse:c}){const[l,u]=Kn(a);let d;return n===void 0?(d=ca(l,u,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,n=f!==void 0?rn(f,r):je.get(e)===$n?As(i,r):void 0):(d=rn(er(l,u),r+1).slice(1,-1),l instanceof Date&&(d=d.map(h=>new Date(h)))),ii(Ot(a))<0&&d.reverse(),Nl(e,t,{domain:d,range:n,reverse:c,unknown:s})}function Nl(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?rn(a,n.length+1):je.get(e)===$n?As(i,n.length+1):void 0,reverse:f}){n=Ot(n);const c=ii(n);if(!isNaN(c)&&!E8(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(s=ua(s)),{type:"threshold",scale:Z1(c<0?ua(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function E8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=Ji(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function T8(e){return{type:"identity",scale:B4(je.get(e))?z1():t=>t}}function Zi(e,t=fm){return e.length?[yn(e,({value:n})=>n===void 0?n:yn(n,t)),It(e,({value:n})=>n===void 0?n:It(n,t))]:[0,1]}function jm(e,t){const n=je.get(e);return(n===bo||n===_o||n===yo?C8:Zi)(t)}function C8(e){return[0,e.length?It(e,({value:t})=>t===void 0?t:It(t,fm)):1]}function N8(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=la(e,.5,({value:s})=>s===void 0?NaN:la(s,.25,lo)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/It(i);return a<1?i.map(s=>s*a):i}function D8(e,t){const n=Uf(e,({value:a})=>a===void 0?NaN:Uf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/It(r);return i<1?r.map(a=>a*i):r}function I8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Zi(e,lo);if(n<0)return Zi(e,_s)}return[1,10]}function L8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Dl(e){return(t,n)=>r=>e(t+r*(n-t))}function Es(e,t,n,r,{type:i,nice:a,clamp:s,domain:f=Zi(r),unknown:c,pivot:l=0,scheme:u,range:d,symmetric:h=!0,interpolate:p=je.get(e)===$n?u==null&&d!==void 0?$i:Cl(u!==void 0?u:"rdbu"):er,reverse:m}){l=+l,f=Ot(f);let[g,b]=f;if(f.length>2&&Jn(`Warning: the diverging ${e} scale domain contains extra elements.`),Ji(g,b)<0&&([g,b]=[b,g],m=!m),g=Math.min(g,l),b=Math.max(b,l),typeof p!="function"&&(p=$m(p)),d!==void 0&&(p=p.length===1?Dl(p)(...d):rs(p,d)),m&&(p=Bm(p)),h){const v=n.apply(l),y=v-n.apply(g),x=n.apply(b)-v;y<x?g=n.invert(v-x):y>x&&(b=n.invert(v+y))}return t.domain([g,l,b]).unknown(c).interpolator(p),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[g,b],pivot:l,interpolate:p,scale:t}}function O8(e,t,n){return Es(e,up(),$8,t,n)}function F8(e,t,n){return qm(e,t,{...n,exponent:.5})}function qm(e,t,{exponent:n=1,...r}){return Es(e,pp().exponent(n=+n),q8(n),t,{...r,type:"diverging-pow"})}function P8(e,t,{base:n=10,pivot:r=1,domain:i=Zi(t,r<0?_s:lo),...a}){return Es(e,dp().base(n=+n),R8,t,{domain:i,pivot:r,...a})}function B8(e,t,{constant:n=1,...r}){return Es(e,hp().constant(n=+n),z8(n),t,r)}const $8={apply(e){return e},invert(e){return e}},R8={apply:Math.log,invert:Math.exp},j8={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function q8(e){return e===.5?j8:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function z8(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function zm(e,t,n,r){return vo(e,t,n,r)}function U8(e,t,n){return zm(e,_3(),t,n)}function H8(e,t,n){return zm(e,v3(),t,n)}const wo=Symbol("ordinal");function Um(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:c}){return i=mo(i,r),a===void 0&&(a=Vm(n,i,e)),(r==="categorical"||r===wo)&&(r="ordinal"),f&&(a=ua(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:c,interval:i}}function V8(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...c}){r=mo(r,n),i===void 0&&(i=Vm(t,r,e));let l;if(je.get(e)===Ms)l=X8(t),a=a===void 0?G8(l):tt(a,Ml);else if(je.get(e)===$n&&(a===void 0&&(n==="ordinal"||n===wo)&&(a=b8(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const u=Cl(s),d=a[0],h=a[1]-a[0];a=({length:p})=>rn(m=>u(d+h*m),p)}else a=Pm(s);if(f===hc)throw new Error(`implicit unknown on ${e} scale is not supported`);return Um(e,il().unknown(f),t,{...c,type:n,domain:i,range:a,hint:l})}function W8(e,t,{align:n=.5,padding:r=.5,...i}){return Hm(Qv().align(n).padding(r),t,i,e)}function Y8(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return Hm(ss().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function Hm(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Um(r,e,t,n),e.round=i,e}function Vm(e,t,n){const r=new ts;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Kn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&je.get(n)===gn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return jf(r,vn)}function Wd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function X8(e){return{fill:Wd(e,"fill"),stroke:Wd(e,"stroke")}}function G8(e){return Mt(e.fill)?X3:Y3}function Mc(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,facet:{label:m=t}={},...g}={}){const b={};for(const[v,y]of e){const x=g[v],_=Gm(v,y,{round:je.get(v)===gn?f:void 0,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,...x});if(_){let{label:w=v==="fx"||v==="fy"?m:t,percent:k,transform:S,inset:C,insetTop:I=C!==void 0?C:v==="y"?r:0,insetRight:T=C!==void 0?C:v==="x"?i:0,insetBottom:M=C!==void 0?C:v==="y"?a:0,insetLeft:E=C!==void 0?C:v==="x"?s:0}=x||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");_.percent=!!k,_.label=w===void 0?Z8(y,_):w,_.transform=S,v==="x"||v==="fx"?(_.insetLeft=+E,_.insetRight=+T):(v==="y"||v==="fy")&&(_.insetTop=+I,_.insetBottom=+M),b[v]=_}}return b}function Yd(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:s,interval:f,label:c}=i;t[r]=Zm(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),c!=null&&(a.label=c)}return n}function K8(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?Il(t):t;i&&Xd(i,s),a&&Gd(a,s);const f=i||a?Wm(e,t):t;n&&Xd(n,f),r&&Gd(r,f)}function Z8(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Lr(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function J8(e){return Math.sign(ii(e.domain()))*Math.sign(ii(e.range()))}function Il(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:c,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:a,height:s}}function Wm({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Il(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:f,height:t?t.scale.bandwidth()+r+a:c,facet:{width:f,height:c}}}function Xd(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,f=a+n,c=i-s-r;e.range=[f,Math.max(f,c)],Lr(e)||(e.range=Xm(e)),e.scale.range(e.range)}Ym(e)}function Gd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,f=a+n,c=i-s-r;e.range=[Math.max(f,c),f],Lr(e)?e.range.reverse():e.range=Xm(e),e.scale.range(e.range)}Ym(e)}function Ym(e){e.round===void 0&&n7(e)&&Q8(e)<=30&&e.scale.round(!0)}function Q8({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Xm(e){const t=e.scale.domain().length+Km(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function e7(e,t,n){return Gm(e,n===void 0?void 0:[{hint:n}],{...t})}function Gm(e,t=[],n={}){const r=t7(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Lr({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Yt)?Jn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`):i.some(T4)?Jn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`):i.some(C4)&&Jn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Po(t,n,Xn);break;case"identity":switch(je.get(e)){case gn:n=Po(t,n,Xn);break;case Ms:n=Po(t,n,r7);break}break;case"utc":case"time":n=Po(t,n,m4);break}switch(r){case"diverging":return O8(e,t,n);case"diverging-sqrt":return F8(e,t,n);case"diverging-pow":return qm(e,t,n);case"diverging-log":return P8(e,t,n);case"diverging-symlog":return B8(e,t,n);case"categorical":case"ordinal":case wo:return V8(e,t,n);case"cyclical":case"sequential":case"linear":return w8(e,t,n);case"sqrt":return x8(e,t,n);case"threshold":return Nl(e,t,n);case"quantile":return M8(e,t,n);case"quantize":return A8(e,t,n);case"pow":return Rm(e,t,n);case"log":return S8(e,t,n);case"symlog":return k8(e,t,n);case"utc":return H8(e,t,n);case"time":return U8(e,t,n);case"point":return W8(e,t,n);case"band":return Y8(e,t,n);case"identity":return T8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qr(e){return typeof e=="symbol"?e.description:e}function Kd(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Zd={toString:()=>"projection"};function t7(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Kd(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=Zd);for(const l of t){const u=Kd(l.type);if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}}if(n===Zd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=je.get(e);if(c===bo)return"sqrt";if(c===_o||c===yo)return"linear";if(c===Ms)return"ordinal";if((r||i||[]).length>2)return bf(c);if(r!==void 0){if(Od(r))return bf(c);if(Yt(r))return"utc"}else{const l=t.map(({value:u})=>u).filter(u=>u!==void 0);if(l.some(Od))return bf(c);if(l.some(Yt))return"utc"}if(c===$n){if(s!=null||_8(a))return"diverging";if(m8(a))return"categorical"}return"linear"}function bf(e){switch(e){case gn:return"point";case $n:return wo;default:return"ordinal"}}function Lr({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===wo}function Km({type:e}){return e==="threshold"}function n7({type:e}){return e==="point"||e==="band"}function Gn(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Po(e,{domain:t,...n},r){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...n}}function r7(e){return tt(e,Ml)}function Ac(e={}){let t;for(const n in e)if(je.has(n)&&za(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Zm(e7(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function i7(e){return t=>{if(!je.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Zm({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Xi(n),...r!==void 0&&{range:Xi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function o7(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const a7=o7(e=>new Intl.NumberFormat(e));function s7(e="en-US"){const t=a7(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function f7(e){return n4(e,"Invalid Date")}function c7(e="en-US"){const t=s7(e);return n=>(n instanceof Date?f7:typeof n=="number"?t:_t)(n)}const Er=c7(),Dt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let l7=0;function Jd(){return`plot-clip-${++l7}`}function u7(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:b,opacity:v,mixBlendMode:y,imageFilter:x,paintOrder:_,pointerEvents:w,shapeRendering:k,channels:S},{ariaLabel:C,fill:I="currentColor",fillOpacity:T,stroke:M="none",strokeOpacity:E,strokeWidth:D,strokeLinecap:B,strokeLinejoin:A,strokeMiterlimit:P,paintOrder:Z}){I===null&&(f=null,c=null),M===null&&(l=null,d=null),Mt(I)?!Mt(M)&&(!Mt(f)||S!=null&&S.fill)&&(M="none"):Mt(M)&&(!Mt(l)||S!=null&&S.stroke)&&(I="none");const[ie,J]=Ar(f,I),[X,H]=st(c,T),[G,K]=Ar(l,M),[O,re]=st(d,E),[le,V]=st(v);Gi(K)||(u===void 0&&(u=D),p===void 0&&(p=B),h===void 0&&(h=A),m===void 0&&!L4(h)&&(m=P),!Gi(J)&&_===void 0&&(_=Z));const[se,N]=st(u);return I!==null&&(e.fill=Ge(J,"currentColor"),e.fillOpacity=Si(H,1)),M!==null&&(e.stroke=Ge(K,"none"),e.strokeWidth=Si(N,1),e.strokeOpacity=Si(re,1),e.strokeLinejoin=Ge(h,"miter"),e.strokeLinecap=Ge(p,"butt"),e.strokeMiterlimit=Si(m,4),e.strokeDasharray=Ge(g,"none"),e.strokeDashoffset=Ge(b,"0")),e.target=_t(s),e.ariaLabel=_t(C),e.ariaDescription=_t(i),e.ariaHidden=_t(a),e.opacity=Si(V,1),e.mixBlendMode=Ge(y,"normal"),e.imageFilter=Ge(x,"none"),e.paintOrder=Ge(_,"normal"),e.pointerEvents=Ge(w,"auto"),e.shapeRendering=Ge(k,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ie,scale:"auto",optional:!0},fillOpacity:{value:X,scale:"auto",optional:!0},stroke:{value:G,scale:"auto",optional:!0},strokeOpacity:{value:O,scale:"auto",optional:!0},strokeWidth:{value:se,optional:!0},opacity:{value:le,scale:"auto",optional:!0}}}function d7(e,t){t&&e.filter(n=>bl(t[n])).append("title").call(p7,t)}function h7(e,t){t&&e.filter(([n])=>bl(t[n])).append("title").call(g7,t)}function p7(e,t){t&&e.text(n=>Er(t[n]))}function g7(e,t){t&&e.text(([n])=>Er(t[n]))}function Sn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&me(e,"aria-label",h=>r[h]),a&&me(e,"fill",h=>a[h]),s&&me(e,"fill-opacity",h=>s[h]),f&&me(e,"stroke",h=>f[h]),c&&me(e,"stroke-opacity",h=>c[h]),l&&me(e,"stroke-width",h=>l[h]),u&&me(e,"opacity",h=>u[h]),d&&Jm(e,h=>d[h],t),n||d7(e,i)}function m7(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&me(e,"aria-label",([h])=>r[h]),a&&me(e,"fill",([h])=>a[h]),s&&me(e,"fill-opacity",([h])=>s[h]),f&&me(e,"stroke",([h])=>f[h]),c&&me(e,"stroke-opacity",([h])=>c[h]),l&&me(e,"stroke-width",([h])=>l[h]),u&&me(e,"opacity",([h])=>u[h]),d&&Jm(e,([h])=>d[h],t),n||h7(e,i)}function b7({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:c},{tip:l}){return[e,l?void 0:t,n,r,i,a,s,f,c].filter(u=>u!==void 0)}function y7(e,t,n){const r=Wc(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&Jn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*_7(e,t,n,r){const{z:i}=n,{z:a}=r,s=b7(r,n),f=[...t,...s];for(const c of a?y7(e,a,i):[e]){let l,u;e:for(const d of c){for(const h of f)if(!ir(h[d])){u&&u.push(-1);continue e}if(l===void 0){u&&(yield u),l=s.map(h=>hr(h[d])),u=[d];continue}u.push(d);for(let h=0;h<s.length;++h)if(hr(s[h][d])!==l[h]){yield u,l=s.map(m=>hr(m[d])),u=[d];continue e}}u&&(yield u)}}function v7(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:f,marginLeft:c,marginRight:l,marginTop:u,marginBottom:d}=n,h=Jd();i=`url(#${h})`,e=Xe("svg:g",r).call(p=>p.append("svg:clipPath").attr("id",h).append("rect").attr("x",c).attr("y",u).attr("width",s-l-c).attr("height",f-u-d)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Jd();i=`url(#${f})`,e.append("clipPath").attr("id",f).append("path").attr("d",Qi(s)({type:"Sphere"}));break}}me(e,"aria-label",t.ariaLabel),me(e,"aria-description",t.ariaDescription),me(e,"aria-hidden",t.ariaHidden),me(e,"clip-path",i)}function Gt(e,t,n,r){v7(e,t,n,r),me(e,"fill",t.fill),me(e,"fill-opacity",t.fillOpacity),me(e,"stroke",t.stroke),me(e,"stroke-width",t.strokeWidth),me(e,"stroke-opacity",t.strokeOpacity),me(e,"stroke-linejoin",t.strokeLinejoin),me(e,"stroke-linecap",t.strokeLinecap),me(e,"stroke-miterlimit",t.strokeMiterlimit),me(e,"stroke-dasharray",t.strokeDasharray),me(e,"stroke-dashoffset",t.strokeDashoffset),me(e,"shape-rendering",t.shapeRendering),me(e,"filter",t.imageFilter),me(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;me(e,"pointer-events",i)}function Kt(e,t){w7(e,"mix-blend-mode",t.mixBlendMode),me(e,"opacity",t.opacity)}function Jm(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(aa.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(aa.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function me(e,t,n){n!=null&&e.attr(t,n)}function w7(e,t,n){n!=null&&e.style(t,n)}function Zt(e,t,{x:n,y:r},i=Dt,a=Dt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function Ge(e,t){if((e=_t(e))!==t)return e}function Si(e,t){if((e=Fe(e))!==t)return e}const x7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Ll(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!x7.test(e))throw new Error(`invalid class name: ${e}`);return e}function Ol(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function xo({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function S7(e,t,n={}){let r=.5-Dt,i=.5+Dt,a=.5+Dt,s=.5-Dt;for(const{marginTop:g,marginRight:b,marginBottom:v,marginLeft:y}of t)g>r&&(r=g),b>i&&(i=b),v>a&&(a=v),y>s&&(s=y);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:l=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:d=f!==void 0?f:s}=n;c=+c,l=+l,u=+u,d=+d;let{width:h=640,height:p=k7(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,c-r+u-a)}=n;h=+h,p=+p;const m={width:h,height:p,marginTop:c,marginRight:l,marginBottom:u,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:v=g!==void 0?g:l,marginBottom:y=g!==void 0?g:u,marginLeft:x=g!==void 0?g:d}=n.facet??{};b=+b,v=+v,y=+y,x=+x,m.facet={marginTop:b,marginRight:v,marginBottom:y,marginLeft:x}}return m}function k7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){const d=n?n.scale.domain().length:1,h=p8(i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*h,b=Math.max(.1,Math.min(10,g));return Math.round((s-u-c)*b+f+l)}const p=t?Lr(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Qd("y",t)/(Qd("x",e)*a),g=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,v=g*(s-u-c)-e.insetLeft-e.insetRight;return(m*v+t.insetTop+t.insetBottom)/b+f+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Qd(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Kn(r);return Math.abs(i(s)-i(a))}function M7(e,t){const{fx:n,fy:r}=Mc(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?J2(i,a).map(([s,f],c)=>({x:s,y:f,i:c})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function A7(e,{x:t,y:n}){return t&&(t=Ec(t)),n&&(n=Ec(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Fl(e,{fx:t,fy:n}){const r=fr(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Li(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Li(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Li(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function E7(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function T7(e){const t=[],n=new Uint32Array(xr(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const C7=new Map([["top",yf],["right",wf],["bottom",_f],["left",vf],["top-left",Bo(yf,vf)],["top-right",Bo(yf,wf)],["bottom-left",Bo(_f,vf)],["bottom-right",Bo(_f,wf)],["top-empty",I7],["right-empty",F7],["bottom-empty",L7],["left-empty",O7],["empty",P7]]);function N7(e){if(e==null)return null;const t=C7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const eh=new WeakMap;function Ec(e){let t=eh.get(e);return t||eh.set(e,t=new wr(tt(e,(n,r)=>[n,r]))),t}function cr(e,t){return Ec(e).get(t)}function D7(e,t,n){return t=hr(t),n=hr(n),e.find(r=>Object.is(hr(r.x),t)&&Object.is(hr(r.y),n))}function Ts(e,t,n){var r;return(r=D7(e,t,n))==null?void 0:r.empty}function yf(e,{y:t},{y:n}){return t?cr(t,n)===0:!0}function _f(e,{y:t},{y:n}){return t?cr(t,n)===t.length-1:!0}function vf(e,{x:t},{x:n}){return t?cr(t,n)===0:!0}function wf(e,{x:t},{x:n}){return t?cr(t,n)===t.length-1:!0}function I7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=cr(t,r);if(a>0)return Ts(e,n,t[a-1])}function L7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=cr(t,r);if(a<t.length-1)return Ts(e,n,t[a+1])}function O7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=cr(t,n);if(a>0)return Ts(e,t[a-1],r)}function F7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=cr(t,n);if(a<t.length-1)return Ts(e,t[a+1],r)}function P7(e,t,{empty:n}){return n}function Bo(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function xf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class xt{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:c,sort:l,dx:u=0,dy:d=0,margin:h=0,marginTop:p=h,marginRight:m=h,marginBottom:g=h,marginLeft:b=h,clip:v=i==null?void 0:i.clip,channels:y,tip:x,render:_}=r;if(this.data=t,this.sort=oi(l)?l:null,this.initializer=ai(r).initializer,this.transform=this.initializer?r.transform:Al(r).transform,a===null||a===!1?this.facet=null:(this.facet=sn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===ea&&typeof f=="string"?[f]:f,this.fy=t===ea&&typeof c=="string"?[c]:c),this.facetAnchor=N7(s),n=km(n),y!==void 0&&(n={...B7(y),...n}),i!==void 0&&(n={...u7(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([w,k])=>{if(ws(k.value)){const{value:S,label:C=k.label,scale:I=k.scale}=k.value;k={...k,label:C,scale:I,value:S}}if(t===ea&&typeof k.value=="string"){const{value:S}=k;k={...k,value:[S]}}return[w,k]}).filter(([w,{value:k,optional:S}])=>{if(k!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+b,this.clip=Mm(v),this.tip=$7(x),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:k}=n[w];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=eb(_,this.render))}initialize(t,n,r){let i=Ot(this.data);t===void 0&&i!=null&&(t=[fr(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Ot(i)),t!==void 0&&(t.original=a);const s=n8(this.channels,i);return this.sort!=null&&i8(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=ir}=n[i];if(a!==null){const s=r[i];t=t.filter(f=>a(s[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&d8(i,a,n,r.projection)}}scale(t,n,r){const i=r8(t,n);return r.projection&&this.project(t,i,r),i}}function Qm(...e){return e.plot=xt.prototype.plot,e}function eb(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,f){return e.call(this,n,r,i,a,s,(c,l,u,d,h)=>t.call(this,c,l,u,d,h,f))}}function B7(e){return Object.fromEntries(Object.entries(km(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:xs(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function $7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?sn(e,"tip",["x","y","xy"]):e}function Pl(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Dr(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}const th=new WeakMap;function Bl(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:c,...l}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...l,render:eb(function(u,d,h,p,m,g){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:v}=m.getMarkState(this);let y=th.get(b);y||th.set(b,y={sticky:!1,roots:[],renders:[]});let x=y.renders.push(K)-1;const{x:_,y:w,fx:k,fy:S}=d;let C=k?k(u.fx)-p.marginLeft:0,I=S?S(u.fy)-p.marginTop:0;_!=null&&_.bandwidth&&(C+=_.bandwidth()/2),w!=null&&w.bandwidth&&(I+=w.bandwidth()/2);const T=u.fi!=null;let M;if(T){let V=y.facetStates;V||(y.facetStates=V=new Map),M=V.get(this),M||V.set(this,M=new Map)}const[E,D]=xo(this,p),{px:B,py:A}=h,P=B?V=>B[V]:tb(h,E),Z=A?V=>A[V]:nb(h,D);let ie,J,X,H;function G(V,se){if(T)if(H&&(H=cancelAnimationFrame(H)),V==null)M.delete(u.fi);else{M.set(u.fi,se),H=requestAnimationFrame(()=>{H=null;for(const[N,z]of M)if(z<se||z===se&&N<u.fi){V=null;break}K(V)});return}K(V)}function K(V){if(ie===V&&X===y.sticky)return;ie=V,X=m.pointerSticky=y.sticky;const se=ie==null?[]:[ie];T&&(se.fx=u.fx,se.fy=u.fy,se.fi=u.fi);const N=g(se,d,h,p,m);if(J){if(T){const z=J.parentNode,W=J.getAttribute("transform"),F=N.getAttribute("transform");W?N.setAttribute("transform",W):N.removeAttribute("transform"),F?z.setAttribute("transform",F):z.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}J.replaceWith(N)}return y.roots[x]=J=N,ie==null&&(M==null?void 0:M.size)>1||m.dispatchValue(ie==null?null:v[ie]),N}function O(V){if(y.sticky||V.pointerType==="mouse"&&V.buttons===1)return;let[se,N]=Wf(V);se-=C,N-=I;const z=se<p.marginLeft||se>p.width-p.marginRight?1:e,W=N<p.marginTop||N>p.height-p.marginBottom?1:t;let F=null,ce=s*s;for(const fe of u){const de=z*(P(fe)-se),pe=W*(Z(fe)-N),U=de*de+pe*pe;U<=ce&&(F=fe,ce=U)}if(F!=null&&(e!==1||t!==1)){const fe=P(F)-se,de=Z(F)-N;ce=fe*fe+de*de}G(F,ce)}function re(V){V.pointerType==="mouse"&&ie!=null&&(y.sticky&&y.roots.some(se=>se==null?void 0:se.contains(V.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(se=>se(null))):(y.sticky=!0,K(ie)),V.stopImmediatePropagation()))}function le(V){V.pointerType==="mouse"&&(y.sticky||G(null))}return b.addEventListener("pointerenter",O),b.addEventListener("pointermove",O),b.addEventListener("pointerdown",re),b.addEventListener("pointerleave",le),K(null)},c)}}function R7(e){return Bl(1,1,e)}function j7(e){return Bl(1,.01,e)}function nh(e){return Bl(.01,1,e)}function tb({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function nb({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function rb(e){return Lr(e)&&e.interval===void 0?void 0:"tabular-nums"}function q7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:l=0,style:u,ticks:d=(i-l-f)/64,tickFormat:h,fontVariant:p=rb(e),round:m=!0,opacity:g,className:b}=t;const v=Tl(t);b=Ll(b),g=st(g)[1],h===null&&(h=()=>null);const y=Xe("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(E=>E.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Ol,u);let x=E=>E.selectAll(".tick line").attr("y1",s+c-a),_;const w=m?(E,D)=>E.rangeRound(D):(E,D)=>E.range(D),{type:k,domain:S,range:C,interpolate:I,scale:T,pivot:M}=e;if(I){const E=C===void 0?I:rs(I.length===1?Dl(I):I,C);_=w(T.copy(),rn(er(l,i-f),Math.min(S.length+(M!==void 0),C===void 0?1/0:C.length)));const D=256,B=v.document.createElement("canvas");B.width=D,B.height=1;const A=B.getContext("2d");for(let P=0,Z=D-1;P<D;++P)A.fillStyle=E(P/Z),A.fillRect(P,0,1,1);y.append("image").attr("opacity",g).attr("x",l).attr("y",s).attr("width",i-l-f).attr("height",a-s-c).attr("preserveAspectRatio","none").attr("xlink:href",B.toDataURL())}else if(k==="threshold"){const E=S,D=h===void 0?B=>B:typeof h=="string"?di(h):h;_=w(ol().domain([-1,C.length-1]),[l,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(C).enter().append("rect").attr("x",(B,A)=>_(A-1)).attr("y",s).attr("width",(B,A)=>_(A)-_(A-1)).attr("height",a-s-c).attr("fill",B=>B),d=tt(E,(B,A)=>A),h=B=>D(E[B],B)}else _=w(ss().domain(S),[l,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",_).attr("y",s).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",a-s-c).attr("fill",T),x=()=>{};return y.append("g").attr("transform",`translate(0,${a-c})`).call(w_(_).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ge(p,"normal")).call(x).call(E=>E.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",l).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const ib=Math.PI/180;function Cs(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Sf(n),e.markerMid=Sf(r),e.markerEnd=Sf(i)}function Sf(e){if(e==null||e===!1)return null;if(e===!0)return ih;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return rh("auto");case"arrow-reverse":return rh("auto-start-reverse");case"dot":return z7;case"circle":case"circle-fill":return ih;case"circle-stroke":return U7;case"tick":return kf("auto");case"tick-x":return kf(90);case"tick-y":return kf(0)}throw new Error(`invalid marker: ${e}`)}function rh(e){return(t,n)=>Xe("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function z7(e,t){return Xe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function ih(e,t){return Xe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function U7(e,t){return Xe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function kf(e){return(t,n)=>Xe("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let H7=0;function $l(e,t,{stroke:n},r){return ob(e,t,n&&(i=>n[i]),r)}function V7(e,t,{stroke:n},r){return ob(e,t,n&&(([i])=>n[i]),r)}function ob(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function c(l){return function(u){const d=a(u);let h=f.get(l);h||f.set(l,h=new Map);let p=h.get(d);if(!p){const m=this.parentNode.insertBefore(l(d,s),this),g=`plot-marker-${++H7}`;m.setAttribute("id",g),h.set(d,p=`url(#${g})`)}return p}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}function Rl({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=ab(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function jl({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=ab(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function ab(e,t,n){return e===void 0&&t===void 0&&n===void 0?Dt?[1,0]:[.5,.5]:[t,n]}function sb(e,{interval:t}){return e={...xs(e)},e.interval=xl(e.interval===void 0?t:e.interval),e}function Ns(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:f,interval:c}=sb(i,n);if(f==null||c==null&&!r)return n;const l=go(i);if(c==null){let p;const m={transform:g=>p||(p=Vt(g,f)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?m:a,[`${e}2`]:s===void 0&&!(a===s&&r)?m:s}}let u,d;function h(p){return d!==void 0&&p===u?d:d=tt(Vt(u=p,f),m=>c.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:l}:a,[`${e}2`]:s===void 0?{transform:p=>h(p).map(m=>c.offset(m)),label:l}:s})}function fb(e,t,n){const{[e]:r}=n,{value:i,interval:a}=sb(r,n);return i==null||a==null?n:t({...n,[e]:{label:go(r),transform:s=>{const f=tt(Vt(s,i),l=>a.floor(l)),c=f.map(l=>a.offset(l));return f.map(Yt(f)?(l,u)=>l==null||isNaN(l=+l)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=c[u],u==null)?NaN:(+l+ +u)/2)}}})}function W7(e={}){return Ns("x",Rl,e,!0)}function cb(e={}){return Ns("y",jl,e,!0)}function Y7(e={}){return Ns("x",Rl,e)}function X7(e={}){return Ns("y",jl,e)}function G7(e={}){return fb("x",Rl,e)}function K7(e={}){return fb("y",jl,e)}const lb={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Z7 extends xt{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:c=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Pl(n,"x"),lb),this.insetTop=Fe(f),this.insetBottom=Fe(c),Cs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y1:l,y2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetTop:v,insetBottom:y}=this;return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,{x:c&&s},Dt,0).call(x=>x.selectAll().data(t).enter().append("line").call(Kt,this).attr("x1",c?_=>c[_]:(g+d-m)/2).attr("x2",c?_=>c[_]:(g+d-m)/2).attr("y1",l&&!Gn(f)?_=>l[_]+v:p+v).attr("y2",u&&!Gn(f)?f.bandwidth?_=>u[_]+f.bandwidth()-y:_=>u[_]-y:h-b-y).call(Sn,this,r).call($l,this,r,a)).node()}}class J7 extends xt{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:c=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Pl(n,"y"),lb),this.insetRight=Fe(f),this.insetLeft=Fe(c),Cs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{y:c,x1:l,x2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetLeft:v,insetRight:y}=this;return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,{y:c&&f},0,Dt).call(x=>x.selectAll().data(t).enter().append("line").call(Kt,this).attr("x1",l&&!Gn(s)?_=>l[_]+v:g+v).attr("x2",u&&!Gn(s)?s.bandwidth?_=>u[_]+s.bandwidth()-y:_=>u[_]-y:d-m-y).attr("y1",c?_=>c[_]:(p+h-b)/2).attr("y2",c?_=>c[_]:(p+h-b)/2).call(Sn,this,r).call($l,this,r,a)).node()}}function ql(e,t){let{x:n=Ft,y:r,y1:i,y2:a,...s}=X7(t);return[i,a]=ub(r,i,a),new Z7(e,{...s,x:n,y1:i,y2:a})}function zl(e,t){let{y:n=Ft,x:r,x1:i,x2:a,...s}=Y7(t);return[i,a]=ub(r,i,a),new J7(e,{...s,y:n,x1:i,x2:a})}function ub(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Ul(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const Q7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},db="­";class Hl extends xt{constructor(t,n={}){const{x:r,y:i,text:a=Ir(t)&&Sm(t)?Ft:bm,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:c=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:d,monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:b,fontWeight:v,rotate:y}=n,[x,_]=st(y,0),[w,k]=o9(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:E4(x),optional:!0},text:{value:a,filter:bl,optional:!0}},n,Q7),this.rotate=_,this.textAnchor=Ge(f,"middle"),this.lineAnchor=sn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=hb(d),this.monospace=!!h,this.fontFamily=_t(p),this.fontSize=k,this.fontStyle=_t(g),this.fontVariant=_t(b),this.fontWeight=_t(v),this.frameAnchor=ks(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=gb(this),this.clipLine=mb(this)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,rotate:u,text:d,title:h,fontSize:p}=r,{rotate:m}=this,[g,b]=xo(this,i);return Xe("svg:g",a).call(Gt,this,i,a).call(pb,this,d,i).call(Zt,this,{x:c&&s,y:l&&f}).call(v=>v.selectAll().data(t).enter().append("text").call(Kt,this).call(e9,this,d,h).attr("transform",Ul`translate(${c?y=>c[y]:g},${l?y=>l[y]:b})${u?y=>` rotate(${u[y]})`:m?` rotate(${m})`:""}`).call(me,"font-size",p&&(y=>p[y])).call(Sn,this,r)).node()}}function hb(e){return e==null?null:sn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function e9(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:c}=t;e.each(function(l){const u=f(Er(n[l])??"").map(c),d=u.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let p=0;for(let m=0;m<d;++m){if(++p,!u[m])continue;const g=this.ownerDocument.createElementNS(aa.svg,"tspan");g.setAttribute("x",0),m===p-1?g.setAttribute("y",`${(h+m)*a}em`):g.setAttribute("dy",`${p*a}em`),g.textContent=u[m],this.appendChild(g),p=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=u[0];if(s&&!r&&u[0]!==n[l]){const p=this.ownerDocument.createElementNS(aa.svg,"title");p.textContent=n[l],this.appendChild(p)}})}function Ds(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=po(t,n)),new Hl(e,{...r,x:t,y:n})}function t9(e,{x:t=Ft,...n}={}){return new Hl(e,K7({...n,x:t}))}function n9(e,{y:t=Ft,...n}={}){return new Hl(e,G7({...n,y:t}))}function pb(e,t,n){me(e,"text-anchor",t.textAnchor),me(e,"font-family",t.fontFamily),me(e,"font-size",t.fontSize),me(e,"font-style",t.fontStyle),me(e,"font-variant",t.fontVariant===void 0?r9(n):t.fontVariant),me(e,"font-weight",t.fontWeight)}function r9(e){return e&&(N4(e)||Yt(e))?"tabular-nums":void 0}const i9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function o9(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),i9.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function a9(e,t,n){const r=[];let i,a=0;for(const[s,f,c]of s9(e)){if(i===void 0&&(i=s),a>i&&n(e,i,f)>t&&(r.push(e.slice(i,a)+(e[a-1]===db?"-":"")),i=s),c){r.push(e.slice(i,f)),i=void 0;continue}a=f}return r}function*s9(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case db:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const oh={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Vl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pi(e,i))r+=oh[e[i]]??(yb(e,i)?120:oh.e);return r}function Wl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pi(e,i))r+=yb(e,i)?126:63;return r}function gb({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Wl:Vl,i=t*100;return a=>a9(a,i,r)}function mb({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Wl:Vl,i=t*100;switch(n){case"clip-start":return a=>sh(a,i,r,"");case"clip-end":return a=>ah(a,i,r,"");case"ellipsis-start":return a=>sh(a,i,r,Xr);case"ellipsis-middle":return a=>f9(a,i,r,Xr);case"ellipsis-end":return a=>ah(a,i,r,Xr)}}const Xr="…";function si(e,t,n,r){const i=[];let a=0;for(let s=0,f=0,c=e.length;s<c;s=f){f=pi(e,s);const l=n(e,s,f);if(a+l>t){for(a+=r;a>t&&s>0;)f=s,s=i.pop(),a-=n(e,s,f);return[s,t-a]}a+=l,i.push(s)}return[-1,0]}function ah(e,t,n,r){e=e.trim();const i=n(r),[a]=si(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function f9(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,f]=si(e,t/2,n,a),[c]=si(e,i-t/2-f+a,n,-a);return c<0?r:e.slice(0,s).trimEnd()+r+e.slice(pi(e,c)).trimStart()}function sh(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=si(e,i-t+a,n,-a);return s<0?r:r+e.slice(pi(e,s)).trimStart()}const Tc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,fh=/\p{Extended_Pictographic}/uy;function pi(e,t){return t+=c9(e,t)?2:1,u9(e,t)&&(t=Tc.lastIndex),l9(e,t)?pi(e,t+1):t}function bb(e,t){return e.charCodeAt(t)<128}function c9(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function l9(e,t){return e.charCodeAt(t)===8205}function u9(e,t){return bb(e,t)?!1:(Tc.lastIndex=t,Tc.test(e))}function yb(e,t){return bb(e,t)?!1:(fh.lastIndex=t,fh.test(e))}const d9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},_b=3.5,h9=_b*5,vb={draw(e,t,n){const r=t*n/h9;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},p9={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},g9=new Map([["arrow",vb],["spike",p9]]);function m9(e){return e&&typeof e.draw=="function"}function b9(e){if(m9(e))return e;const t=g9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let wb=class extends xt{constructor(t,n={}){const{x:r,y:i,r:a=_b,length:s,rotate:f,shape:c=vb,anchor:l="middle",frameAnchor:u}=n,[d,h]=st(s,12),[p,m]=st(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,d9),this.r=+a,this.length=h,this.rotate=m,this.shape=b9(c),this.anchor=sn(l,"anchor",["start","middle","end"]),this.frameAnchor=ks(u)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,length:u,rotate:d}=r,{length:h,rotate:p,anchor:m,shape:g,r:b}=this,[v,y]=xo(this,i);return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,{x:c&&s,y:l&&f}).call(x=>x.selectAll().data(t).enter().append("path").call(Kt,this).attr("transform",Ul`translate(${c?_=>c[_]:v},${l?_=>l[_]:y})${d?_=>` rotate(${d[_]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?u?_=>` translate(0,${u[_]})`:` translate(0,${h})`:u?_=>` translate(0,${u[_]/2})`:` translate(0,${h/2})`}`).attr("d",u?_=>{const w=Vn();return g.draw(w,u[_],b),w}:(()=>{const _=Vn();return g.draw(_,h,b),_})()).call(Sn,this,r)).node()}};function y9(e,t={}){const{x:n=Ft,...r}=t;return new wb(e,{...r,x:n})}function _9(e,t={}){const{y:n=Ft,...r}=t;return new wb(e,{...r,y:n})}function lr(e,t){return arguments.length<2&&!Ir(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Is({anchor:e}={},t){return e===void 0?t[0]:sn(e,"anchor",t)}function xb(e){return Is(e,["left","right"])}function Sb(e){return Is(e,["right","left"])}function kb(e){return Is(e,["bottom","top"])}function Mb(e){return Is(e,["top","bottom"])}function So(){const[e,t]=lr(...arguments);return Ab("y",xb(t),e,t)}function v9(){const[e,t]=lr(...arguments);return Ab("fy",Sb(t),e,t)}function gi(){const[e,t]=lr(...arguments);return Eb("x",kb(t),e,t)}function w9(){const[e,t]=lr(...arguments);return Eb("fx",Mb(t),e,t)}function Ab(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="y"?6:0,tickPadding:g,tickRotate:b,x:v,margin:y,marginTop:x=y===void 0?20:y,marginRight:_=y===void 0?t==="right"?40:0:y,marginBottom:w=y===void 0?20:y,marginLeft:k=y===void 0?t==="left"?40:0:y,label:S,labelAnchor:C,labelArrow:I,labelOffset:T,...M}){return m=Fe(m),g=Fe(g),b=Fe(b),C!==void 0&&(C=sn(C,"labelAnchor",["center","top","bottom"])),I=Fb(I),Qm(m&&!Mt(a)?x9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,x:v,...M}):null,Mt(c)?null:k9(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,x:v,marginTop:x,marginRight:_,marginBottom:w,marginLeft:k,...M}),!Mt(c)&&S!==null?Ds([],Db({fill:c,fillOpacity:l,...M},function(E,D,B,A,P){const Z=A[e],{marginTop:ie,marginRight:J,marginBottom:X,marginLeft:H}=e==="y"&&P.inset||P,G=C??(Z.bandwidth?"center":"top"),K=T??(t==="right"?J:H)-3;return G==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=G,this.frameAnchor=`${G}-${t}`,this.rotate=0),this.dy=G==="top"?3-ie:G==="bottom"?X-3:0,this.dx=t==="right"?K:-K,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ob(e,Z,{anchor:t,label:S,labelAnchor:G,labelArrow:I})]}}}})):null)}function Eb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="x"?6:0,tickPadding:g,tickRotate:b,y:v,margin:y,marginTop:x=y===void 0?t==="top"?30:0:y,marginRight:_=y===void 0?20:y,marginBottom:w=y===void 0?t==="bottom"?30:0:y,marginLeft:k=y===void 0?20:y,label:S,labelAnchor:C,labelArrow:I,labelOffset:T,...M}){return m=Fe(m),g=Fe(g),b=Fe(b),C!==void 0&&(C=sn(C,"labelAnchor",["center","left","right"])),I=Fb(I),Qm(m&&!Mt(a)?S9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,y:v,...M}):null,Mt(c)?null:M9(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,y:v,marginTop:x,marginRight:_,marginBottom:w,marginLeft:k,...M}),!Mt(c)&&S!==null?Ds([],Db({fill:c,fillOpacity:l,...M},function(E,D,B,A,P){const Z=A[e],{marginTop:ie,marginRight:J,marginBottom:X,marginLeft:H}=e==="x"&&P.inset||P,G=C??(Z.bandwidth?"center":"right"),K=T??(t==="top"?ie:X)-3;return G==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${G}`,this.textAnchor=G==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-K:K,this.dx=G==="right"?J-3:G==="left"?3-H:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ob(e,Z,{anchor:t,label:S,labelAnchor:G,labelArrow:I})]}}}})):null)}function x9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:d=l,dx:h=0,y:p=e==="y"?void 0:null,...m}){return mi(_9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:p,...m,dx:t==="left"?+h-Dt+ +u:+h+Dt-d,anchor:"start",length:c,shape:t==="left"?L9:O9})}function S9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:d=l,dy:h=0,x:p=e==="x"?void 0:null,...m}){return mi(y9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:p,...m,dy:t==="bottom"?+h-Dt-d:+h+Dt+ +u,anchor:"start",length:c,shape:t==="bottom"?D9:I9})}function k9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*ib):0),text:c,textAnchor:l=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:u=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y:b=e==="y"?void 0:null,...v}){return mi(n9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,y:b,...v,dx:t==="left"?+g-a-f+ +p:+g+ +a+ +f-m},function(y,x,_,w,k){d===void 0&&(this.fontVariant=Lb(y)),c===void 0&&(k.text=Ib(y,x,_,w,t))})}function M9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*ib):0),text:c,textAnchor:l=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:b=e==="x"?void 0:null,...v}){return mi(t9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,x:b,...v,dy:t==="bottom"?+g+ +a+ +f-m:+g-a-f+ +p},function(y,x,_,w,k){d===void 0&&(this.fontVariant=Lb(y)),c===void 0&&(k.text=Ib(y,x,_,w,t))})}function A9(){const[e,t]=lr(...arguments);return Tb("y",xb(t),e,t)}function E9(){const[e,t]=lr(...arguments);return Tb("fy",Sb(t),e,t)}function T9(){const[e,t]=lr(...arguments);return Cb("x",kb(t),e,t)}function C9(){const[e,t]=lr(...arguments);return Cb("fx",Mb(t),e,t)}function Tb(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...f}){return mi(zl,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...Nb(f)})}function Cb(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...f}){return mi(ql,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...Nb(f)})}function Nb({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Db({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u=!1},d){return[,e]=Ar(e),[,t]=st(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u,initializer:d}}function mi(e,t,n,r,i,a){let s;function f(u,d,h,p,m,g){const b=u==null&&(t==="fx"||t==="fy"),{[t]:v}=p;if(!v)throw new Error(`missing scale: ${t}`);const y=v.domain();let{interval:x,ticks:_,tickFormat:w,tickSpacing:k=t==="x"?80:35}=i;if(typeof _=="string"&&Pb(v)&&(x=_,_=void 0),_===void 0&&(_=mo(x,v.type)??N9(v,k)),u==null){if(Ir(_))u=Ot(_);else if(A4(_))u=Mf(_,...Kn(y));else if(v.interval){let C=v.interval;if(v.ticks){const[I,T]=Kn(y),M=(T-I)/C[uo];C=Nd(C,M/_)??C,u=Mf(C,I,T)}else{u=y;const I=u.length;C=Nd(C,I/_)??C,C!==v.interval&&(u=Mf(C,...Kn(u)))}if(C===v.interval){const I=Math.round(u.length/_);I>1&&(u=u.filter((T,M)=>M%I===0))}}else v.ticks?u=v.ticks(_):u=y;if(!v.ticks&&u.length&&u!==y){const C=new ts(y);u=u.filter(I=>C.has(I)),u.length||Jn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[fr(u)]:s[t]={scale:t,value:Ft}}a==null||a.call(this,v,u,_,w,s);const S=Object.fromEntries(Object.entries(s).map(([C,I])=>[C,{...I,value:Vt(u,I.value)}]));return b&&(d=g.filterFacets(u,S)),{data:u,facets:d,channels:S}}const c=ai(i).initializer,l=e(n,ai({...i,initializer:f},c));return n==null?(s=l.channels,l.channels={}):s={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function N9(e,t){const[n,r]=Kn(e.range());return(r-n)/t}function Ib(e,t,n,r,i){return{value:Yl(e,t,n,r,i)}}function Yl(e,t,n,r,i){return typeof r=="function"?r:r===void 0&&t&&Yt(t)?f4(e.type,t,i)??Er:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Er:typeof r=="string"?(Yt(e.domain())?co:di)(r):ho(r)}function Mf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const D9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},I9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},L9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},O9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Lb(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Ob(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Pb(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=J8(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Fb(e="auto"){return Mt(e)?!1:typeof e=="boolean"?e:sn(e,"labelArrow",["auto","up","right","down","left"])}function Pb(e){return Yt(e.domain())}function ch(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function F9(e,{opacity:t,...n}={}){if(!Lr(e)&&!Km(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Bb(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",st(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function P9(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:Mt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},c){const[d,h]=Ar(t),[p,m]=Ar(r),g=ch(c,d),b=ch(c,p),v=s*s*Math.PI;return n=st(n)[1],i=st(i)[1],a=st(a)[1],Bb(e,f,(y,x,_,w)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",w).attr("fill",d==="color"?k=>g.scale(k):h).attr("fill-opacity",n).attr("stroke",p==="color"?k=>b.scale(k):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",k=>{const S=Vn();return e.scale(k).draw(S,v),S}))}function Bb(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=rb(e),swatchSize:s=15,swatchWidth:f=s,swatchHeight:c=s,marginLeft:l=0,className:u,style:d,width:h}=t;const p=Tl(t);u=Ll(u),i=Yl(e.scale,e.domain,void 0,i);const m=Xe("div",p).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,f,c).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",Ge(a,"normal")).call(Ol,d).node()}const Cc=new Map([["symbol",P9],["color",Rb],["opacity",$9]]);function B9(e,t,n={}){return(r,i)=>{if(!Cc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Cc.get(r)(e[r],$b(t,n[r],i),a=>e[a])}}function $b({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return O4(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Rb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return F9(e,n);case"ramp":return q7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function $9({type:e,interpolate:t,...n},{legend:r=!0,color:i=oa(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Rb({type:e,...n,interpolate:R9(i)},{legend:r,...a})}function R9(e){const{r:t,g:n,b:r}=oa(e)||oa(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function j9(e,t,n){const r=[];for(const[i,a]of Cc){const s=n[i];if(s!=null&&s.legend&&i in e){const f=a(e[i],$b(t,e[i],s),c=>e[c]);f!=null&&r.push(f)}}return r}const q9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},z9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class U9 extends xt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:c,ry:l}=t;super(ea,void 0,t,n==null?q9:z9),this.anchor=_m(n,"anchor",["top","right","bottom","left"]),this.insetTop=Fe(i),this.insetRight=Fe(a),this.insetBottom=Fe(s),this.insetLeft=Fe(f),this.rx=Fe(c),this.ry=Fe(l)}render(t,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:c,marginLeft:l,width:u,height:d}=i,{anchor:h,insetTop:p,insetRight:m,insetBottom:g,insetLeft:b,rx:v,ry:y}=this,x=l+b,_=u-f-m,w=s+p,k=d-c-g;return Xe(h?"svg:line":"svg:rect",a).datum(0).call(Gt,this,i,a).call(Kt,this).call(Sn,this,r).call(Zt,this,{}).call(h==="left"?S=>S.attr("x1",x).attr("x2",x).attr("y1",w).attr("y2",k):h==="right"?S=>S.attr("x1",_).attr("x2",_).attr("y1",w).attr("y2",k):h==="top"?S=>S.attr("x1",x).attr("x2",_).attr("y1",w).attr("y2",w):h==="bottom"?S=>S.attr("x1",x).attr("x2",_).attr("y1",k).attr("y2",k):S=>S.attr("x",x).attr("y",w).attr("width",_-x).attr("height",k-w).attr("rx",v).attr("ry",y)).node()}}function jb(e){return new U9(e)}const Af={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},H9=new Set(["geometry","href","src","ariaLabel","scales"]);class V9 extends xt{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ir(t)&&Sm(t)&&(n={...n,title:Ft});const{x:r,y:i,x1:a,x2:s,y1:f,y2:c,anchor:l,preferredAnchor:u="bottom",monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:b,lineHeight:v=1,lineWidth:y=20,frameAnchor:x,format:_,textAnchor:w="start",textOverflow:k,textPadding:S=8,title:C,pointerSize:I=12,pathFilter:T="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:f==null},title:{value:C,optional:!0}},n,Af),this.anchor=wc(l,"anchor"),this.preferredAnchor=wc(u,"preferredAnchor"),this.frameAnchor=ks(x),this.textAnchor=Ge(w,"middle"),this.textPadding=+S,this.pointerSize=+I,this.pathFilter=_t(T),this.lineHeight=+v,this.lineWidth=+y,this.textOverflow=hb(k),this.monospace=!!d,this.fontFamily=_t(h),this.fontSize=Fe(p),this.fontStyle=_t(m),this.fontVariant=_t(g),this.fontWeight=_t(b);for(const M in Af)M in this.channels&&(this[M]=Af[M]);this.splitLines=gb(this),this.clipLine=mb(this),this.format={..._}}render(t,n,r,i,a){const s=this,{x:f,y:c,fx:l,fy:u}=n,{ownerSVGElement:d,document:h}=a,{anchor:p,monospace:m,lineHeight:g,lineWidth:b}=this,{textPadding:v,pointerSize:y,pathFilter:x}=this,{marginTop:_,marginLeft:w}=i,{x1:k,y1:S,x2:C,y2:I,x:T=k??C,y:M=S??I}=r,E=l?l(t.fx)-w:0,D=u?u(t.fy)-_:0,[B,A]=xo(this,i),P=tb(r,B),Z=nb(r,A),ie=m?Wl:Vl,J=ie(Xr);let X,H;"title"in r?(X=r.channels,H=Z9):(X=K9.call(this,r,n),H=J9);const G=Xe("svg:g",a).call(Gt,this,i,a).call(pb,this).call(Zt,this,{x:T&&f,y:M&&c}).call(re=>re.selectAll().data(t).enter().append("g").attr("transform",le=>`translate(${Math.round(P(le))},${Math.round(Z(le))})`).call(Kt,this).call(le=>le.append("path").attr("filter",x)).call(le=>le.append("text").each(function(V){const se=kt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=H.call(s,V,t,X,n,r);if(typeof N=="string")for(const z of s.splitLines(N))K(se,{value:s.clipLine(z)});else{const z=new Set;for(const W of N){const{label:F=""}=W;F&&z.has(F)||(z.add(F),K(se,W))}}})));function K(re,{label:le,value:V,color:se,opacity:N}){le??(le=""),V??(V="");const z=se!=null||N!=null;let W,F=b*100;const[ce]=si(le,F,ie,J);if(ce>=0)le=le.slice(0,ce).trimEnd()+Xr,W=V.trim(),V="";else{(le||!V&&!z)&&(V=" "+V);const[de]=si(V,F-ie(le),ie,J);de>=0&&(W=V.trim(),V=V.slice(0,de).trimEnd()+Xr)}const fe=re.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");le&&fe.append("tspan").attr("font-weight","bold").text(le),V&&fe.append(()=>h.createTextNode(V)),z&&fe.append("tspan").text(" ■").attr("fill",se).attr("fill-opacity",N).style("user-select","none"),W&&fe.append("title").text(W)}function O(){const{width:re,height:le}=i.facet??i;G.selectChildren().each(function(V){let{x:se,width:N,height:z}=this.getBBox();N=Math.round(N),z=Math.round(z);let W=p;if(W===void 0){const fe=P(V)+E,de=Z(V)+D,pe=fe+N+y+v*2<re,U=fe-N-y-v*2>0,ge=de+z+y+v*2<le,Me=de-z-y-v*2>0;W=pe&&U?ge&&Me?s.preferredAnchor:Me?"bottom":"top":ge&&Me?pe?"left":"right":(pe||U)&&(ge||Me)?`${Me?"bottom":"top"}-${pe?"left":"right"}`:s.preferredAnchor}const F=this.firstChild,ce=this.lastChild;if(F.setAttribute("d",G9(W,y,v,N,z)),se)for(const fe of ce.childNodes)fe.setAttribute("x",-se);ce.setAttribute("y",`${+Y9(W,ce.childNodes.length,g).toFixed(6)}em`),ce.setAttribute("transform",`translate(${X9(W,y,v,N,z)})`)}),G.attr("visibility",null)}return t.length&&(G.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(O):typeof requestAnimationFrame<"u"&&requestAnimationFrame(O)),G.node()}}function W9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=po(t,n)),new V9(e,{...r,x:t,y:n})}function Y9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function X9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function G9(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function K9({channels:e},t){var i,a;const n={};let r=this.format;r=lh(r,e,"x"),r=lh(r,e,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const c=Rd(e,s);c&&(n[s]=c)}}for(const s in e){if(s in n||s in r||H9.has(s))continue;const f=Rd(e,s);f&&(n[s]=f)}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const c=((i=n[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(Yt(c)?co:di)(f)}else if(f===void 0||f===!0){const c=t[s];this.format[s]=c!=null&&c.bandwidth?Yl(c,c.domain()):Er}}return n}function lh(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function Z9(e,t,{title:n}){return Er(n.value[e],e)}function*J9(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Ua(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:dh(r,n,"x"),value:uh(this.format.x2,n.x1,s,e)};else if(a==="y2"&&"y1"in n)yield{label:dh(r,n,"y"),value:uh(this.format.y2,n.y1,s,e)};else{const f=s.value[e],c=s.scale;if(!ir(f)&&c==null)continue;yield{label:Ua(r,n,a),value:this.format[a](f,e),color:c==="color"?i[a][e]:null,opacity:c==="opacity"?i[a][e]:null}}}}function uh(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function dh(e,t,n){const r=Ua(e,t,`${n}1`,n),i=Ua(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ua(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Xl(e={}){var J;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=e,c=Ll(e.className),l=e.marks===void 0?[]:ph(e.marks);l.push(...ax(l));const u=ix(t,e),d=new Map;for(const X of l){const H=gh(X,u,e);H&&d.set(X,H)}const h=new Map;u&&ki(h,[u],e),ki(h,d,e);const p=ph(sx(l,h,e));for(const X of p){const H=gh(X,u,e);H&&d.set(X,H)}l.unshift(...p);let m=M7(h,e);if(m!==void 0){const X=u?xf(m,u):void 0;for(const G of l){if(G.facet===null||G.facet==="super")continue;const K=d.get(G);K!==void 0&&(K.facetsIndex=G.fx!=null||G.fy!=null?xf(m,K):X)}const H=new Set;for(const{facetsIndex:G}of d.values())G==null||G.forEach((K,O)=>{(K==null?void 0:K.length)>0&&H.add(O)});m.forEach(0<H.size&&H.size<m.length?(G,K)=>G.empty=!H.has(K):G=>G.empty=!1);for(const G of l)if(G.facet==="exclude"){const K=d.get(G);K!==void 0&&(K.facetsIndex=T7(K.facetsIndex))}}for(const X of je.keys())za(e[X])&&X!=="fx"&&X!=="fy"&&h.set(X,[]);const g=new Map;for(const X of l){if(g.has(X))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:H,channels:G}=d.get(X)??{},{data:K,facets:O,channels:re}=X.initialize(H,G,e);Gl(re,e),g.set(X,{data:K,facets:O,channels:re})}const b=Mc(ki(h,g,e),e),v=S7(b,l,e);K8(b,v);const y=Yd(b),{fx:x,fy:_}=y,w=x||_?Wm(b,v):v,k=x||_?px(y,v):v,S=Tl(e),C=S.document,I=N0("svg").call(C.documentElement);let T=I;S.ownerSVGElement=I,S.className=c,S.projection=c8(e,w),S.filterFacets=(X,H)=>xf(m,{channels:H,groups:Fl(X,H)}),S.getMarkState=X=>{const H=g.get(X),G=d.get(X);return{...H,channels:{...H.channels,...G==null?void 0:G.channels}}},S.dispatchValue=X=>{T.value!==X&&(T.value=X,T.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[X,H]of g)if(X.initializer!=null){const G=X.facet==="super"?k:w,K=X.initializer(H.data,H.facets,H.channels,y,G,S);if(K.data!==void 0&&(H.data=K.data),K.facets!==void 0&&(H.facets=K.facets),K.channels!==void 0){const{fx:O,fy:re,...le}=K.channels;rx(le),Object.assign(H.channels,le);for(const V of Object.values(le)){const{scale:se}=V;se!=null&&!P4(je.get(se))&&(qb(V,e),M.add(se))}(O!=null||re!=null)&&d.set(X,!0)}}if(M.size){const X=new Map;ki(X,g,e,O=>M.has(O)),ki(h,g,e,O=>M.has(O));const H=hx(Mc(X,e),b),{scales:G,...K}=Yd(H);Object.assign(b,H),Object.assign(y,K),Object.assign(y.scales,G)}let E,D;m!==void 0&&(E={x:x==null?void 0:x.domain(),y:_==null?void 0:_.domain()},m=A7(m,E),D=E7(x,_,v));for(const[X,H]of g)H.values=X.scale(H.channels,y,S);const{width:B,height:A}=v;kt(I).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",B).attr("height",A).attr("viewBox",`0 0 ${B} ${A}`).attr("aria-label",s).attr("aria-description",f).call(X=>X.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(Ol,n);for(const X of l){const{channels:H,values:G,facets:K}=g.get(X);if(m===void 0||X.facet==="super"){let O=null;if(K&&(O=K[0],O=X.filter(O,H,G),O.length===0))continue;const re=X.render(O,y,G,k,S);if(re==null)continue;I.appendChild(re)}else{let O;for(const re of m){if(!(((J=X.facetAnchor)==null?void 0:J.call(X,m,E,re))??!re.empty))continue;let le=null;if(K){const se=d.has(X);if(le=K[se?re.i:0],le=X.filter(le,H,G),le.length===0)continue;!se&&le===K[0]&&(le=w4(le)),le.fx=re.x,le.fy=re.y,le.fi=re.i}const V=X.render(le,y,G,w,S);if(V!=null){(O??(O=kt(I).append("g"))).append(()=>V).datum(re);for(const se of["aria-label","aria-description","aria-hidden","transform"])V.hasAttribute(se)&&(O.attr(se,V.getAttribute(se)),V.removeAttribute(se))}}O==null||O.selectChildren().attr("transform",D)}}const P=j9(b,S,e),{figure:Z=r!=null||i!=null||a!=null||P.length>0}=e;Z&&(T=C.createElement("figure"),T.className=`${c}-figure`,T.style.maxWidth="initial",r!=null&&T.append(hh(C,r,"h2")),i!=null&&T.append(hh(C,i,"h3")),T.append(...P,I),a!=null&&T.append(Q9(C,a))),T.scale=i7(y.scales),T.legend=B9(b,S,e);const ie=f8();return ie>0&&kt(I).append("text").attr("x",B).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${ie.toLocaleString("en-US")} warning${ie===1?"":"s"}. Please check the console.`),T}function hh(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function Q9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function ex({marks:e=[],...t}={}){return Xl({...t,marks:[...e,this]})}xt.prototype.plot=ex;function ph(e){return e.flat(1/0).filter(t=>t!=null).map(tx)}function tx(e){return typeof e.render=="function"?e:new nx(e)}class nx extends xt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Gl(e,t){for(const n in e)qb(e[n],t);return e}function qb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?c=>c*100:xm(s,i)}=t[n]??{};f!=null&&(e.value=tt(e.value,f),e.transform=!1)}function rx(e){for(const t in e)Cm(t,e[t])}function ki(e,t,n,r=h4){var i,a;for(const{channels:s}of t.values())for(const f in s){const c=s[f],{scale:l}=c;if(l!=null&&r(l))if(l==="projection"){if(!h8(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(u||d){const[h,p]=g8(c);u&&Ef(e,"x",h),d&&Ef(e,"y",p)}}}else Ef(e,l,c)}return e}function Ef(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function ix(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Ot(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Ki(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Ki(i,{value:r,scale:"fy"})),Gl(a,t);const s=Fl(i,a);return{channels:a,groups:s,data:e.data}}function gh(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=Ot(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const u={};return r!=null&&(u.fx=Ki(l,{value:r,scale:"fx"})),i!=null&&(u.fy=Ki(l,{value:i,scale:"fy"})),Gl(u,n),{channels:u,groups:Fl(l,u)}}if(t===void 0)return;const{channels:a,groups:s,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((c=Ot(e.data))==null?void 0:c.length)===f.length&&Jn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function ox(e,t={}){return ai({...t,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(e))}function ax(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?j7:/^y$/i.test(i)?nh:R7,r=i(ox(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===nh?"left":"bottom");const s=W9(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,t.push(s)}}return t}function sx(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:c,grid:l,facet:u={},facet:{axis:d=c,grid:h}=u,x:{axis:p=c,grid:m=p===null?null:l}=i,y:{axis:g=c,grid:b=g===null?null:l}=a,fx:{axis:v=d,grid:y=v===null?null:h}=s,fy:{axis:x=d,grid:_=x===null?null:h}=f}=n;(r||!za(i)&&!mh("x",e))&&(p=m=null),(r||!za(a)&&!mh("y",e))&&(g=b=null),t.has("fx")||(v=y=null),t.has("fy")||(x=_=null),p===void 0&&(p=!jo(e,"x")),g===void 0&&(g=!jo(e,"y")),v===void 0&&(v=!jo(e,"fx")),x===void 0&&(x=!jo(e,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),v===!0&&(v=p==="top"||p===null?"bottom":"top"),x===!0&&(x=g==="right"||g===null?"left":"right");const w=[];return Ro(w,_,E9,f),$o(w,x,v9,"right","left",u,f),Ro(w,y,C9,s),$o(w,v,w9,"top","bottom",u,s),Ro(w,b,A9,a),$o(w,g,So,"left","right",n,a),Ro(w,m,T9,i),$o(w,p,gi,"bottom","top",n,i),w}function $o(e,t,n,r,i,a,s){if(!t)return;const f=fx(t);s=cx(f?r:t,a,s);const{line:c}=s;(n===So||n===gi)&&c&&!Gi(c)&&e.push(jb(lx(s))),e.push(n(s)),f&&e.push(n({...s,anchor:i,label:null}))}function Ro(e,t,n,r){!t||Gi(t)||e.push(n(ux(t,r)))}function fx(e){return/^\s*both\s*$/i.test(e)}function cx(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h=t.label,labelAnchor:p,labelArrow:m=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h,labelAnchor:p,labelArrow:m,labelOffset:g}}function lx(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function ux(e,{stroke:t=Ss(e)?e:void 0,ticks:n=dx(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function dx(e){switch(typeof e){case"number":return!0;case"string":return!Ss(e)}return Ir(e)||typeof(e==null?void 0:e.range)=="function"}function jo(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function mh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function hx(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function px({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Il(n),l=e&&bh(e),u=t&&bh(t);return{marginTop:t?u[0]:r,marginRight:e?f-l[1]:i,marginBottom:t?c-u[1]:a,marginLeft:e?l[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function bh(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const gx=new Map([["basis",G3],["basis-closed",K3],["basis-open",Z3],["bundle",J3],["bump-x",$3],["bump-y",R3],["cardinal",Q3],["cardinal-closed",e6],["cardinal-open",t6],["catmull-rom",n6],["catmull-rom-closed",r6],["catmull-rom-open",i6],["linear",gs],["linear-closed",o6],["monotone-x",a6],["monotone-y",s6],["natural",f6],["step",c6],["step-after",u6],["step-before",l6]]);function mx(e=gs,t){if(typeof e=="function")return e;const n=gx.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function zb(e=fi,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?fi:mx(e,t)}function fi(e){return gs(e)}function bx(e={}){return vm(e)?e:{...e,x:Ft}}function yx(e,t){if(t.length===1)return{data:e,facets:t};const n=e.length,r=new Uint8Array(n);let i=0;for(const f of t)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=Xi(e);const a=e[gm]=new Uint32Array(n+i);t=t.map(f=>Xi(f,Uint32Array));let s=n;r.fill(0);for(const f of t)for(let c=0,l=f.length;c<l;++c){const u=f[c];r[u]?(f[c]=s,e[s]=e[u],a[s]=u,++s):a[u]=u,r[u]=1}return{data:e,facets:t}}function _x(e={},t={}){arguments.length===1&&([e,t]=wx(e));const{y1:n,y:r=n,x:i,...a}=t,[s,f,c,l]=Sx(r,i,"y","x",e,a);return{...s,y1:n,y:f,x1:c,x2:l,x:S4(c,l)}}function vx({x:e,x1:t,x2:n,...r}={}){return r=Pl(r,"y"),t===void 0&&n===void 0?_x({x:e,...r}):([t,n]=v4(e,t,n),{...r,x1:t,x2:n})}function wx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const xx={length:!0};function Sx(e,t=d4,n,r,{offset:i,order:a,reverse:s},f){if(t===null)throw new Error(`stack requires ${r}`);const c=wm(f),[l,u]=x4(e),[d,h]=vc(t),[p,m]=vc(t);return d.hint=p.hint=xx,i=kx(i),a=Ex(a,i,r),[Al(f,(g,b,v)=>{({data:g,facets:b}=yx(g,b));const y=e==null?void 0:u(k4(Vt(g,e),v==null?void 0:v[n])),x=Vt(g,t,Float64Array),_=Vt(g,c),w=a&&a(g,y,x,_),k=g.length,S=h(new Float64Array(k)),C=m(new Float64Array(k)),I=[];for(const T of b){const M=y?Array.from(Wc(T,E=>y[E]).values()):[T];if(w)for(const E of M)E.sort(w);for(const E of M){let D=0,B=0;s&&E.reverse();for(const A of E){const P=x[A];P<0?D=C[A]=(S[A]=D)+P:P>0?B=C[A]=(S[A]=B)+P:C[A]=S[A]=B}}I.push(M)}return i&&i(I,S,C,_),{data:g,facets:b}}),l,d,p]}function kx(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Mx;case"center":case"silhouette":return Ax;case"wiggle":return Hb}throw new Error(`unknown offset: ${e}`)}}function Ub(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function Mx(e,t,n){for(const r of e)for(const i of r){const[a,s]=Ub(i,n);for(const f of i){const c=1/(s-a||1);t[f]=c*(t[f]-a),n[f]=c*(n[f]-a)}}}function Ax(e,t,n){for(const r of e){for(const i of r){const[a,s]=Ub(i,n);for(const f of i){const c=(s+a)/2;t[f]-=c,n[f]-=c}}Vb(r,t,n)}Wb(e,t,n)}function Hb(e,t,n,r){for(const i of e){const a=new wr;let s=0;for(const f of i){let c=-1;const l=f.map(p=>Math.abs(n[p]-t[p])),u=f.map(p=>{c=r?r[p]:++c;const m=n[p]-t[p],g=a.has(c)?m-a.get(c):0;return a.set(c,m),g}),d=[0,...Q2(u)];for(const p of f)t[p]+=s,n[p]+=s;const h=xr(l);h&&(s-=xr(l,(p,m)=>(u[m]/2+d[m])*p)/h)}Vb(i,t,n)}Wb(e,t,n)}function Vb(e,t,n){const r=yn(e,i=>yn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Wb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),a=i.map(f=>(yn(f,c=>t[c])+It(f,c=>n[c]))/2),s=yn(a);for(let f=0;f<r;f++){const c=s-a[f];for(const l of i[f])t[l]+=c,n[l]+=c}}function Ex(e,t,n){if(e===void 0&&t===Hb)return yh(vn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?qa:vn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return Tx(i);case"z":return Cx(i);case"sum":return Nx(i);case"appearance":return Dx(i);case"inside-out":return yh(i)}return _h(mm(e))}if(typeof e=="function")return(e.length===1?_h:Ix)(e);if(Array.isArray(e))return Lx(e);throw new Error(`invalid order: ${e}`)}}function Tx(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function Cx(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function Nx(e){return Ls(e,(t,n,r,i)=>Xc(fr(t),a=>xr(a,s=>r[s]),a=>i[a]))}function Dx(e){return Ls(e,(t,n,r,i)=>Xc(fr(t),a=>n[H0(a,s=>r[s])],a=>i[a]))}function yh(e){return Ls(e,(t,n,r,i)=>{const a=fr(t),s=Xc(a,d=>n[H0(d,h=>r[h])],d=>i[d]),f=Li(a,d=>xr(d,h=>r[h]),d=>i[d]),c=[],l=[];let u=0;for(const d of s)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),l.push(d));return l.reverse().concat(c)})}function _h(e){return t=>{const n=Vt(t,e);return(r,i)=>vn(n[r],n[i])}}function Ix(e){return t=>(n,r)=>e(t[n],t[r])}function Lx(e){return Ls(vn,()=>e)}function Ls(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new wr(t(n,r,i,a).map((f,c)=>[f,c]));return(f,c)=>e(s.get(a[f]),s.get(a[c]))}}const Ox={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Fx extends xt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,Ox),this.curve=zb(f,c),Cs(this,n)}project(t,n,r){this.curve!==fi&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:s,y1:f,x2:c=s,y2:l=f}=r,{curve:u}=this;return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(Kt,this).attr("d",u===fi&&a.projection?Px(a.projection,s,f,c,l):h=>{const p=Vn(),m=u(p);return m.lineStart(),m.point(s[h],f[h]),m.point(c[h],l[h]),m.lineEnd(),p}).call(Sn,this,r).call($l,this,r,a)).node()}}function Px(e,t,n,r,i){const a=Qi(e);return t=Xn(t),n=Xn(n),r=Xn(r),i=Xn(i),s=>a({type:"LineString",coordinates:[[t[s],n[s]],[r[s],i[s]]]})}function Nc(e,{x:t,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=vh(t,n,r),[a,s]=vh(i,a,s),new Fx(e,{...f,x1:n,x2:r,y1:a,y2:s})}function vh(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class Bx extends xt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:c=a,insetLeft:l=a,rx:u,ry:d}=r;this.insetTop=Fe(s),this.insetRight=Fe(f),this.insetBottom=Fe(c),this.insetLeft=Fe(l),this.rx=Ge(u,"auto"),this.ry=Ge(d,"auto")}render(t,n,r,i,a){const{rx:s,ry:f}=this;return Xe("svg:g",a).call(Gt,this,i,a).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(Kt,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(me,"rx",s).call(me,"ry",f).call(Sn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}}const $x={ariaLabel:"cell"};class Rx extends Bx{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,$x)}_transform(t,n){t.call(Zt,n,{},0,0)}}function jx(e,{x:t,y:n,...r}={}){return[t,n]=po(t,n),new Rx(e,{...r,x:t,y:n})}const qx={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Yb(e){return e.sort===void 0&&e.reverse===void 0?H4({channel:"-r"},e):e}class zx extends xt{constructor(t,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=Vi,frameAnchor:c}=n,[l,u]=st(s,0),[d,h]=z4(f),[p,m]=st(a,d==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:lo,optional:!0},rotate:{value:l,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},Yb(n),qx),this.r=m,this.rotate=u,this.symbol=h,this.frameAnchor=ks(c);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:v,stroke:y}=g;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:y?y.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,r:u,rotate:d,symbol:h}=r,{r:p,rotate:m,symbol:g}=this,[b,v]=xo(this,i),y=g===Vi,x=u?void 0:p*p*Math.PI;return _s(p)&&(t=[]),Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,{x:c&&s,y:l&&f}).call(_=>_.selectAll().data(t).enter().append(y?"circle":"path").call(Kt,this).call(y?w=>{w.attr("cx",c?k=>c[k]:b).attr("cy",l?k=>l[k]:v).attr("r",u?k=>u[k]:p)}:w=>{w.attr("transform",Ul`translate(${c?k=>c[k]:b},${l?k=>l[k]:v})${d?k=>` rotate(${d[k]})`:m?` rotate(${m})`:""}`).attr("d",u&&h?k=>{const S=Vn();return h[k].draw(S,u[k]*u[k]*Math.PI),S}:u?k=>{const S=Vn();return g.draw(S,u[k]*u[k]*Math.PI),S}:h?k=>{const S=Vn();return h[k].draw(S,x),S}:(()=>{const k=Vn();return g.draw(k,x),k})())}).call(Sn,this,r)).node()}}function Ux(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=po(t,n)),new zx(e,{...r,x:t,y:n})}function Hx(e,t){return Ux(e,{...t,symbol:"circle"})}const Vx={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let Wx=class extends xt{constructor(t,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:wm(n),optional:!0}},n,Vx),this.z=a,this.curve=zb(s,f),Cs(this,n)}filter(t){return t}project(t,n,r){this.curve!==fi&&super.project(t,n,r)}render(t,n,r,i,a){const{x:s,y:f}=r,{curve:c}=this;return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,n).call(l=>l.selectAll().data(_7(t,[s,f],this,r)).enter().append("path").call(Kt,this).call(m7,this,r).call(V7,this,r,a).attr("d",c===fi&&a.projection?Yx(a.projection,s,f):B3().curve(c).defined(u=>u>=0).x(u=>s[u]).y(u=>f[u]))).node()}};function Yx(e,t,n){const r=Qi(e);return t=Xn(t),n=Xn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function Xx(e,{x:t,y:n,...r}={}){return[t,n]=po(t,n),new Wx(e,{...r,x:t,y:n})}const Gx={ariaLabel:"rect"};class Xb extends xt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:c=f,insetRight:l=f,insetBottom:u=f,insetLeft:d=f,rx:h,ry:p}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,Gx),this.insetTop=Fe(c),this.insetRight=Fe(l),this.insetBottom=Fe(u),this.insetLeft=Fe(d),this.rx=Ge(h,"auto"),this.ry=Ge(p,"auto")}render(t,n,r,i,a){const{x:s,y:f}=n,{x1:c,y1:l,x2:u,y2:d}=r,{marginTop:h,marginRight:p,marginBottom:m,marginLeft:g,width:b,height:v}=i,{projection:y}=a,{insetTop:x,insetRight:_,insetBottom:w,insetLeft:k,rx:S,ry:C}=this,I=(s!=null&&s.bandwidth?s.bandwidth():0)-k-_,T=(f!=null&&f.bandwidth?f.bandwidth():0)-x-w;return Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,{},0,0).call(M=>M.selectAll().data(t).enter().append("rect").call(Kt,this).attr("x",c&&(y||!Gn(s))?u?E=>Math.min(c[E],u[E])+k:E=>c[E]+k:g+k).attr("y",l&&(y||!Gn(f))?d?E=>Math.min(l[E],d[E])+x:E=>l[E]+x:h+x).attr("width",c&&(y||!Gn(s))?u?E=>Math.max(0,Math.abs(u[E]-c[E])+I):I:b-p-g-_-k).attr("height",l&&(y||!Gn(f))?d?E=>Math.max(0,Math.abs(l[E]-d[E])+T):T:v-h-m-x-w).call(me,"rx",S).call(me,"ry",C).call(Sn,this,r)).node()}}function Kx(e,t){return new Xb(e,W7(cb(t)))}function Kl(e,t={}){return _4(t)||(t={...t,y:bm,x2:Ft,interval:1}),new Xb(e,vx(cb(bx(t))))}const Zx={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Jx extends xt{constructor(t,n={}){const[r,i]=st(n.r,3);super(t,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:lo,optional:!0}},Yb(n),Zx),this.r=i}render(t,n,r,i,a){const{geometry:s,r:f}=r,c=Qi(a.projection??Qx(n)),{r:l}=this;return _s(l)?t=[]:l!==void 0&&c.pointRadius(l),Xe("svg:g",a).call(Gt,this,i,a).call(Zt,this,n).call(u=>{u.selectAll().data(t).enter().append("path").call(Kt,this).attr("d",f?d=>c.pointRadius(f[d])(s[d]):d=>c(s[d])).call(Sn,this,r)}).node()}}function Qx({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Aa({point(n,r){this.stream.point(e(n),t(r))}})}function eS(e,{geometry:t=Ft,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new Jx(e,{geometry:t,...n})}function tS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nS(e,t={}){if(!e||e.length===0)return[];let n=Qn(e[0]),r=t.include?t.include:n;r=ia(t.include||n,t.exclude||[]);let i=ia(n,r);return console.log(r,i),L0(a=>r.map(s=>{let f=B2(i,a);return f[t.key||"key"]=s,f[t.value||"value"]=a[s],f}),e)}class rS{add(t,n,r){let i=`${r.view.id}::${r.eventname}`;return Ae(this[i])?this[i]={iact:r,oldVal:t,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(t){un(this).forEach(t)}merge(t){if(Ae(t))return this;t.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const Hn=$e(Array),wh=()=>null;function Gr(e,t,n){if($e(String,t))e[t]=n;else if(Hn(t)){let[r,...i]=t;Ae(e[r])&&(e[r]={}),bt(i)?Gr(e,r,n):Gr(e[r],i,n)}}function Ha(e,t,n){if($e(String,t))Ae(e[t])&&(e[t]=[]),e[t].push(n);else if(Hn(t)){let[r,...i]=t;Ae(e[r])&&(e[r]=bt(i)?[]:{}),bt(i)?Ha(e,r,n):Ha(e[r],i,n)}}function zn(e,t,n){if($e(String,t))return e[t]||($e(Function,n)?n():n);if(Hn(t)){let[r,...i]=t;return Ae(e[r])?$e(Function,n)?n():n:bt(i)?zn(e,r,n):zn(e[r],i,n)}}class iS{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(t,n,r=wh,i){if(!t.attr)return this;let a=t.view.id,s=t.eventname;return Ha(this.dependencies,[a,s],{view:n,domainfunction:r}),Ha(this.view2iacts,n.id,t),this.setDefault(n,i),this}dependentViews(t){let n=t.eventname;return zn(this.dependencies,[t.view.id,n],[])}cmp(t,n){return this.isDependentOn(t.view,n)?1:this.isDependentOn(n.view,t)?-1:0}isDependentOn(t,n){let r=this.getAncestorIacts(t);return Hc(i=>(i.store??i)==n,r)}setDefault(t,n){return Ae(n)||(this.defaults[t.id]=n),this}getDefault(t,n){return(zn(this.defaults,t.id)??wh)(n,this.getAncestorIacts(t))}getAncestorIacts(t){let n=[];return zn(this.view2iacts,t.id,[]).forEach(r=>{n.push(r),n=Ri(n,this.getAncestorIacts(r.view))}),n}getStatesKey(t){let n=this.getAncestorIacts(t),r=Ri([t.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(t,n,r){let i=this.getStatesKey(n.view);!Ae(r)&&Ae(r.states[i])&&Gr(r.states,[i,n.eventname],{old:zn(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,zn(this.states,[i,n.eventname]),t),Gr(this.states,[i,n.eventname],t)}restoreStates(t){ln((n,r)=>{ln(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),Gr(this.states,[r,i.eventname],a)},n)},t.states)}getState(t,n,r=!0){let i=this.getStatesKey(t);return Ae(n)?this.states[i]:zn(this.states,[i,n],()=>r?this.getDefault(t,n):void 0)}}class oS{constructor(t){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new iS,this.transactions=[],this._isaborting=!1,this.backends=t,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(t){if(this.views[t.id]=t,Hn(t)){t.forEach(n=>this.view(n));return}this.interactions[t.id]=this.interactions[t.id]??{_attrs:{}},t.magic=this,ln((n,r)=>{if(!Ae(this.interactions[t.id][r]))return;let i=a=>{t.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>Fs(n)??{},load:i,id:this._iactid++,view:t,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!Ae(this.interactions[t.id]._attrs[a]))return this.interactions[t.id]._attrs[a];let f={store:n,attr:a,view:t,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let c=Fs(n);return tr(a)(c)?c[a]:(bt(c)||console.error("could not find attr:",Qn(Fs(n)).length),$e(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[t.id]._attrs[a]=f,f},this.interactions[t.id][r]=n},t.interactions)}render(t,n,r,i={}){return t=Hn(t)?t:[t],n=Hn(n)?n:[n],t.map(s=>{if($e(Ly,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(t){console.debug("save backends invoked on: ",t),t=Hn(t)?t:[t],t.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),ln((a,s)=>{ln((f,c)=>{f.forEach(l=>{console.debug("saveBackend.DependencyLeaf.ViewIact",l.view.id,this.i2b[l.view.id]);let u=this.dependencies.getAncestorIacts(l.view),d=Ri([n.id],u.map(h=>[h.id,h.val()]));bt(N2(Qn(this.i2b[l.view.id]),n.id))||(console.debug("saveBackend.View",n.id,l.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(t,n,r){var s;if(Hn(n)){n.forEach(f=>this.connect(t,f,r));return}let i=n,a=i.view;Ae(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),Ae(t)||Gr(this.i2b,[a.id,t.id],this.processBindings(r))}processBindings(t){if(Ae(t)||bt(t))return Lf;if($e(Function,t))return t;let n=Bf(P0($e(Array),$e(Object)),Fn(r=>this.processBindings(r)),Bf($e(Function),Lf,r=>()=>r))(t);return tr("*",t)?r=>Oy(r,pu(n)(r)):pu(n)}saveIactState(t,n,r){this.dependencies.saveState(t,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(t,f))}let s=this.dependencies.getState(i);ln((f,c)=>{f=f??this.dependencies.getDefault(i,c),f&&(console.debug("saveIactState.load",i.id,c,f),i.load(f,c))},s),(Ae(s)||bt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(t,n){if(!Ae(t))if(console.log("handleEvent",this._isaborting,n.view.id,t),this._isaborting)this.dependencies.saveState(t,n,null),this.sendEventToBackends(t,n);else if(this.transactions.length==0||$s(this.transactions).iact!=n)n.start(),this.handleEvent(t,n),n.end();else{let r=$s(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,t,n),r.visible&&this.sendEventToBackends(t,n)}}sendEventToBackends(t,n){ln((r,i)=>{let a=r(t);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return I2(t=>t.snapshot(),this.backends)}restoreSnapshot(t){ln((n,r)=>{Ae(n)||this.backends[r].restoreSnapshot(n)},t.snapshot)}start(t,n=!0){this.transactions.push({xid:this._xid++,iact:t,visible:n,snapshot:this.snapshot(),states:{},writeSet:new rS}),console.log("magic.start",this.transactions)}end(t){if(!Hc(a=>a.iact=t,this.transactions)){console.log("magic.end: can't find interaction",t);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=un(n.writeSet).map(({iact:a})=>a.id),i=L0(a=>un(a).map(({iact:s})=>s.id),un(n.states));if(bt(q2(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=$s(this.transactions);a.snapshot=Of(a.snapshot,n.snapshot),a.states=Of(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(t){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Fy(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),R2((i,a)=>this.dependencies.cmp(i.iact,a.iact),un(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(t){let n=JSON.parse(t);this.dependencies.states=n,ln((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(t){let n=this.dependencies.getStatesKey(t),r=this.dependencies.states[n],i=un(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}t.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const aS=e=>({}),xh=e=>({}),sS=e=>({}),Sh=e=>({}),fS=e=>({}),kh=e=>({}),cS=e=>({}),Mh=e=>({}),lS=e=>({}),Ah=e=>({}),uS=e=>({}),Eh=e=>({}),dS=e=>({}),Th=e=>({}),hS=e=>({}),Ch=e=>({}),pS=e=>({}),Nh=e=>({}),gS=e=>({}),Dh=e=>({}),mS=e=>({}),Ih=e=>({}),bS=e=>({}),Lh=e=>({}),yS=e=>({}),Oh=e=>({}),_S=e=>({}),Fh=e=>({}),vS=e=>({}),Ph=e=>({});function wS(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,y,x,_,w,k,S,C,I,T,M,E,D,B,A;const P=e[1].header,Z=dt(P,e,e[0],Ph),ie=e[1].alert,J=dt(ie,e,e[0],Fh),X=e[1].dropdown1,H=dt(X,e,e[0],Oh),G=e[1].chart1,K=dt(G,e,e[0],Lh),O=e[1].dropdown2,re=dt(O,e,e[0],Ih),le=e[1].chart2,V=dt(le,e,e[0],Dh),se=e[1].dropdown3,N=dt(se,e,e[0],Nh),z=e[1].chart3,W=dt(z,e,e[0],Ch),F=e[1].dropdown4,ce=dt(F,e,e[0],Th),fe=e[1].chart4,de=dt(fe,e,e[0],Eh),pe=e[1].obplot,U=dt(pe,e,e[0],Ah),ge=e[1].slider1,Me=dt(ge,e,e[0],Mh),Be=e[1].slider2,Pe=dt(Be,e,e[0],kh),Pt=e[1].slider3,Je=dt(Pt,e,e[0],Sh),fn=e[1].slider4,Qe=dt(fn,e,e[0],xh);return{c(){t=Q("div"),n=Q("div"),Z&&Z.c(),r=Se(),i=Q("div"),J&&J.c(),a=Se(),s=Q("div"),H&&H.c(),f=Se(),c=Q("div"),K&&K.c(),l=Se(),u=Q("div"),re&&re.c(),d=Se(),h=Q("div"),V&&V.c(),p=Se(),m=Q("div"),N&&N.c(),g=Se(),b=Q("div"),W&&W.c(),v=Se(),y=Q("div"),ce&&ce.c(),x=Se(),_=Q("div"),de&&de.c(),w=Se(),k=Q("div"),U&&U.c(),S=Se(),C=Q("div"),Me&&Me.c(),I=Se(),T=Q("div"),Pe&&Pe.c(),M=Se(),E=Q("div"),Je&&Je.c(),D=Se(),B=Q("div"),Qe&&Qe.c(),this.h()},l(j){t=ee(j,"DIV",{class:!0});var oe=te(t);n=ee(oe,"DIV",{class:!0});var Re=te(n);Z&&Z.l(Re),Re.forEach(q),r=ke(oe),i=ee(oe,"DIV",{class:!0});var St=te(i);J&&J.l(St),St.forEach(q),a=ke(oe),s=ee(oe,"DIV",{class:!0});var Jt=te(s);H&&H.l(Jt),Jt.forEach(q),f=ke(oe),c=ee(oe,"DIV",{class:!0});var Nt=te(c);K&&K.l(Nt),Nt.forEach(q),l=ke(oe),u=ee(oe,"DIV",{class:!0});var Or=te(u);re&&re.l(Or),Or.forEach(q),d=ke(oe),h=ee(oe,"DIV",{class:!0});var kn=te(h);V&&V.l(kn),kn.forEach(q),p=ke(oe),m=ee(oe,"DIV",{class:!0});var L=te(m);N&&N.l(L),L.forEach(q),g=ke(oe),b=ee(oe,"DIV",{class:!0});var ae=te(b);W&&W.l(ae),ae.forEach(q),v=ke(oe),y=ee(oe,"DIV",{class:!0});var Te=te(y);ce&&ce.l(Te),Te.forEach(q),x=ke(oe),_=ee(oe,"DIV",{class:!0});var Ne=te(_);de&&de.l(Ne),Ne.forEach(q),w=ke(oe),k=ee(oe,"DIV",{class:!0});var Bt=te(k);U&&U.l(Bt),Bt.forEach(q),S=ke(oe),C=ee(oe,"DIV",{class:!0});var bi=te(C);Me&&Me.l(bi),bi.forEach(q),I=ke(oe),T=ee(oe,"DIV",{class:!0});var ko=te(T);Pe&&Pe.l(ko),ko.forEach(q),M=ke(oe),E=ee(oe,"DIV",{class:!0});var Mo=te(E);Je&&Je.l(Mo),Mo.forEach(q),D=ke(oe),B=ee(oe,"DIV",{class:!0});var eu=te(B);Qe&&Qe.l(eu),eu.forEach(q),oe.forEach(q),this.h()},h(){$(n,"class","mx-auto"),$(i,"class",""),$(s,"class","mx-auto"),$(c,"class",""),$(u,"class","mx-auto"),$(h,"class",""),$(m,"class","mx-auto"),$(b,"class",""),$(y,"class","mx-auto"),$(_,"class",""),$(k,"class",""),$(C,"class",""),$(T,"class",""),$(E,"class",""),$(B,"class",""),$(t,"class","px-5 py-2 bg-white")},m(j,oe){ve(j,t,oe),Y(t,n),Z&&Z.m(n,null),Y(t,r),Y(t,i),J&&J.m(i,null),Y(t,a),Y(t,s),H&&H.m(s,null),Y(t,f),Y(t,c),K&&K.m(c,null),Y(t,l),Y(t,u),re&&re.m(u,null),Y(t,d),Y(t,h),V&&V.m(h,null),Y(t,p),Y(t,m),N&&N.m(m,null),Y(t,g),Y(t,b),W&&W.m(b,null),Y(t,v),Y(t,y),ce&&ce.m(y,null),Y(t,x),Y(t,_),de&&de.m(_,null),Y(t,w),Y(t,k),U&&U.m(k,null),Y(t,S),Y(t,C),Me&&Me.m(C,null),Y(t,I),Y(t,T),Pe&&Pe.m(T,null),Y(t,M),Y(t,E),Je&&Je.m(E,null),Y(t,D),Y(t,B),Qe&&Qe.m(B,null),A=!0},p(j,[oe]){Z&&Z.p&&(!A||oe&1)&&ht(Z,P,j,j[0],A?gt(P,j[0],oe,vS):pt(j[0]),Ph),J&&J.p&&(!A||oe&1)&&ht(J,ie,j,j[0],A?gt(ie,j[0],oe,_S):pt(j[0]),Fh),H&&H.p&&(!A||oe&1)&&ht(H,X,j,j[0],A?gt(X,j[0],oe,yS):pt(j[0]),Oh),K&&K.p&&(!A||oe&1)&&ht(K,G,j,j[0],A?gt(G,j[0],oe,bS):pt(j[0]),Lh),re&&re.p&&(!A||oe&1)&&ht(re,O,j,j[0],A?gt(O,j[0],oe,mS):pt(j[0]),Ih),V&&V.p&&(!A||oe&1)&&ht(V,le,j,j[0],A?gt(le,j[0],oe,gS):pt(j[0]),Dh),N&&N.p&&(!A||oe&1)&&ht(N,se,j,j[0],A?gt(se,j[0],oe,pS):pt(j[0]),Nh),W&&W.p&&(!A||oe&1)&&ht(W,z,j,j[0],A?gt(z,j[0],oe,hS):pt(j[0]),Ch),ce&&ce.p&&(!A||oe&1)&&ht(ce,F,j,j[0],A?gt(F,j[0],oe,dS):pt(j[0]),Th),de&&de.p&&(!A||oe&1)&&ht(de,fe,j,j[0],A?gt(fe,j[0],oe,uS):pt(j[0]),Eh),U&&U.p&&(!A||oe&1)&&ht(U,pe,j,j[0],A?gt(pe,j[0],oe,lS):pt(j[0]),Ah),Me&&Me.p&&(!A||oe&1)&&ht(Me,ge,j,j[0],A?gt(ge,j[0],oe,cS):pt(j[0]),Mh),Pe&&Pe.p&&(!A||oe&1)&&ht(Pe,Be,j,j[0],A?gt(Be,j[0],oe,fS):pt(j[0]),kh),Je&&Je.p&&(!A||oe&1)&&ht(Je,Pt,j,j[0],A?gt(Pt,j[0],oe,sS):pt(j[0]),Sh),Qe&&Qe.p&&(!A||oe&1)&&ht(Qe,fn,j,j[0],A?gt(fn,j[0],oe,aS):pt(j[0]),xh)},i(j){A||(Ve(Z,j),Ve(J,j),Ve(H,j),Ve(K,j),Ve(re,j),Ve(V,j),Ve(N,j),Ve(W,j),Ve(ce,j),Ve(de,j),Ve(U,j),Ve(Me,j),Ve(Pe,j),Ve(Je,j),Ve(Qe,j),A=!0)},o(j){We(Z,j),We(J,j),We(H,j),We(K,j),We(re,j),We(V,j),We(N,j),We(W,j),We(ce,j),We(de,j),We(U,j),We(Me,j),We(Pe,j),We(Je,j),We(Qe,j),A=!1},d(j){j&&q(t),Z&&Z.d(j),J&&J.d(j),H&&H.d(j),K&&K.d(j),re&&re.d(j),V&&V.d(j),N&&N.d(j),W&&W.d(j),ce&&ce.d(j),de&&de.d(j),U&&U.d(j),Me&&Me.d(j),Pe&&Pe.d(j),Je&&Je.d(j),Qe&&Qe.d(j)}}}function xS(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class SS extends ct{constructor(t){super(),lt(this,t,xS,wS,ut,{})}}const Va="_theplot_",kS={top:30,right:20,bottom:50,left:40};function Os(e,t){e.className=e.className||Va,Ae(e.width);let n=Xl(e),r=null;return n.tagName=="svg"&&n.classList.contains(e.className)?r=n:r=n.querySelector(`svg.${e.className}`),r.classList.add(Va),e.width||r.setAttribute("width","100%"),e.height||r.setAttribute("height","100%"),t.innerHTML="",t.appendChild(n),n}class Zl{constructor({iact:t,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=t,this.magic=n,this.plot=r,r&&this.init(r)}load(t){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!t||bt(t)){this.el.call(this.brush.clear);return}const{left:n,right:r}=t;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:t}){if(this.iact.isActive)if(!t)this.iact.set(this.defaultSelection);else{const[n,r]=t;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:t,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:t,sourceEvent:n}){this.iact.isActive&&(t||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(t){if(!this.iact.isActive)return;if(this.plot=t,this.x=t.scale("x"),this.y=t.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=t.classList.contains(Va)?kt(t):kt(t.querySelector(`.${Va}`));this.brush=W_().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function MS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){ve(r,t,i),Y(t,n),e[15](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ee,o:Ee,d(r){r&&q(t),e[15](null)}}}function AS(e,t,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:c,xDomainMin:l=null,xDomainMax:u=null,brushX:d=rt({}),interactions:h={brushX:d}}=t,p,m=null,g={},b=[],v;function y(S,C){return C==="overlay"?(g=S,!0):!1}function x(S,C){!S||S.length===0||typeof C=="object"||(y(S,C)?console.debug("overlays"):b=S,w())}let{load:_=S=>v==null?void 0:v.load(S)}=t;function w(){n(2,l=l??yn(Fn(Ff(f),b))),n(3,u=u??It(Fn(Ff(f),b)));const S=Math.max(36,Math.min(b.length,20));let C={x:{domain:[+l,+u]},height:200,marginBottom:50,color:{scheme:"Tableau10",legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[gi({ticks:S,fontSize:10}),So({fontSize:10}),ql([l]),zl([0]),Xx(b,{x:f,y:c,marker:!0,strokeWidth:3}),Kl(g,{x1:"left",x2:"right",y2:It(Uc(c,b)),fill:"key",color:"key",opacity:.2})]};m=Os(C,p),d.isActive&&(v=v??new Zl({iact:d,magic:a}),v.init(m))}function k(S){or[S?"unshift":"push"](()=>{p=S,n(1,p)})}return e.$$set=S=>{"id"in S&&n(4,r=S.id),"name"in S&&n(0,i=S.name),"magic"in S&&n(5,a=S.magic),"description"in S&&n(6,s=S.description),"xAttr"in S&&n(7,f=S.xAttr),"yAttr"in S&&n(8,c=S.yAttr),"xDomainMin"in S&&n(2,l=S.xDomainMin),"xDomainMax"in S&&n(3,u=S.xDomainMax),"brushX"in S&&n(9,d=S.brushX),"interactions"in S&&n(10,h=S.interactions),"load"in S&&n(13,_=S.load)},[i,p,l,u,r,a,s,f,c,d,h,y,x,_,w,k]}class ES extends ct{constructor(t){super(),lt(this,t,AS,MS,ut,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ne()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ne()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ne()}get description(){return this.$$.ctx[6]}set description(t){this.$$set({description:t}),ne()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),ne()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),ne()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ne()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ne()}get brushX(){return this.$$.ctx[9]}set brushX(t){this.$$set({brushX:t}),ne()}get interactions(){return this.$$.ctx[10]}set interactions(t){this.$$set({interactions:t}),ne()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(t){this.$$set({load:t}),ne()}get update(){return this.$$.ctx[14]}}function Bh(e){return Object.prototype.toString.call(e)==="[object Date]"}function Dc(e,t,n,r){if(typeof n=="number"||Bh(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,f=e.opts.damping*a,c=(s-f)*e.inv_mass,l=(a+c)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,Bh(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>Dc(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Dc(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function TS(e,t={}){const n=rt(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,f,c,l=e,u=e,d=1,h=0,p=!1;function m(b,v={}){u=b;const y=c={};return e==null||v.hard||g.stiffness>=1&&g.damping>=1?(p=!0,s=tu(),l=b,n.set(e=u),Promise.resolve()):(v.soft&&(h=1/((v.soft===!0?.5:+v.soft)*60),d=0),f||(s=tu(),p=!1,f=hy(x=>{if(p)return p=!1,f=null,!1;d=Math.min(d+h,1);const _={inv_mass:d,opts:g,settled:!0,dt:(x-s)*60/1e3},w=Dc(_,l,e,u);return s=x,l=e,n.set(e=w),_.settled&&(f=null),!_.settled})),new Promise(x=>{f.promise.then(()=>{y===c&&x()})}))}const g={set:m,update:(b,v)=>m(b(u,e),v),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function $h(e,t,n){const r=e.slice();return r[37]=t[n],r[39]=n,r}function Rh(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&jh(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){$(t,"class","pip first"),$(t,"style",n=e[14]+": 0%;"),he(t,"selected",e[18](e[0])),he(t,"in-range",e[17](e[0]))},m(s,f){ve(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[30]),Le(t,"pointerup",e[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=jh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&$(t,"style",n),f[0]&262145&&he(t,"selected",s[18](s[0])),f[0]&131073&&he(t,"in-range",s[17](s[0]))},d(s){s&&q(t),a&&a.d(),r=!1,ar(i)}}}function jh(e){let t,n,r,i=e[12](e[16](e[0]),0,0)+"",a,s=e[10]&&qh(e),f=e[11]&&zh(e);return{c(){t=Q("span"),s&&s.c(),n=He(),r=new Ka(!1),a=He(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=He(),r=Za(l,!1),a=He(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){ve(c,t,l),s&&s.m(t,null),Y(t,n),r.m(i,t),Y(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=qh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&69633&&i!==(i=c[12](c[16](c[0]),0,0)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=zh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function qh(e){let t,n;return{c(){t=Q("span"),n=vt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&1024&&Xt(n,r[10])},d(r){r&&q(t)}}}function zh(e){let t,n;return{c(){t=Q("span"),n=vt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&2048&&Xt(n,r[11])},d(r){r&&q(t)}}}function Uh(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Xh($h(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=He()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=He()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);ve(i,t,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=$h(i,n,s);r[s]?r[s].p(f,a):(r[s]=Xh(f),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Oc(r,i),i&&q(t)}}}function Hh(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&Vh(e);function f(...c){return e[33](e[39],...c)}return{c(){t=Q("span"),s&&s.c(),n=Se(),this.h()},l(c){t=ee(c,"SPAN",{class:!0,style:!0});var l=te(t);s&&s.l(l),n=ke(l),l.forEach(q),this.h()},h(){$(t,"class","pip"),$(t,"style",r=e[14]+": "+e[15](e[19](e[39]))+"%;"),he(t,"selected",e[18](e[19](e[39]))),he(t,"in-range",e[17](e[19](e[39])))},m(c,l){ve(c,t,l),s&&s.m(t,null),Y(t,n),i||(a=[Le(t,"pointerdown",e[32]),Le(t,"pointerup",f)],i=!0)},p(c,l){e=c,e[6]==="label"||e[9]==="label"?s?s.p(e,l):(s=Vh(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&573440&&r!==(r=e[14]+": "+e[15](e[19](e[39]))+"%;")&&$(t,"style",r),l[0]&786432&&he(t,"selected",e[18](e[19](e[39]))),l[0]&655360&&he(t,"in-range",e[17](e[19](e[39])))},d(c){c&&q(t),s&&s.d(),i=!1,ar(a)}}}function Vh(e){let t,n,r,i=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",a,s=e[10]&&Wh(e),f=e[11]&&Yh(e);return{c(){t=Q("span"),s&&s.c(),n=He(),r=new Ka(!1),a=He(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=He(),r=Za(l,!1),a=He(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){ve(c,t,l),s&&s.m(t,null),Y(t,n),r.m(i,t),Y(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=Wh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&561152&&i!==(i=c[12](c[19](c[39]),c[39],c[15](c[19](c[39])))+"")&&r.p(i),c[11]?f?f.p(c,l):(f=Yh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function Wh(e){let t,n;return{c(){t=Q("span"),n=vt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&1024&&Xt(n,r[10])},d(r){r&&q(t)}}}function Yh(e){let t,n;return{c(){t=Q("span"),n=vt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&2048&&Xt(n,r[11])},d(r){r&&q(t)}}}function Xh(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,r=t&&Hh(e);return{c(){r&&r.c(),n=He()},l(i){r&&r.l(i),n=He()},m(i,a){r&&r.m(i,a),ve(i,n,a)},p(i,a){a[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?r?r.p(i,a):(r=Hh(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&q(n)}}}function Gh(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Kh(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){$(t,"class","pip last"),$(t,"style",n=e[14]+": 100%;"),he(t,"selected",e[18](e[1])),he(t,"in-range",e[17](e[1]))},m(s,f){ve(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[34]),Le(t,"pointerup",e[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=Kh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&$(t,"style",n),f[0]&262146&&he(t,"selected",s[18](s[1])),f[0]&131074&&he(t,"in-range",s[17](s[1]))},d(s){s&&q(t),a&&a.d(),r=!1,ar(i)}}}function Kh(e){let t,n,r,i=e[12](e[16](e[1]),e[20],100)+"",a,s=e[10]&&Zh(e),f=e[11]&&Jh(e);return{c(){t=Q("span"),s&&s.c(),n=He(),r=new Ka(!1),a=He(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=He(),r=Za(l,!1),a=He(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){ve(c,t,l),s&&s.m(t,null),Y(t,n),r.m(i,t),Y(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=Zh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&1118210&&i!==(i=c[12](c[16](c[1]),c[20],100)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=Jh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function Zh(e){let t,n;return{c(){t=Q("span"),n=vt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&1024&&Xt(n,r[10])},d(r){r&&q(t)}}}function Jh(e){let t,n;return{c(){t=Q("span"),n=vt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&2048&&Xt(n,r[11])},d(r){r&&q(t)}}}function CS(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Rh(e),a=(e[6]&&e[9]!==!1||e[9])&&Uh(e),s=(e[6]&&e[8]!==!1||e[8])&&Gh(e);return{c(){t=Q("div"),i&&i.c(),n=Se(),a&&a.c(),r=Se(),s&&s.c(),this.h()},l(f){t=ee(f,"DIV",{class:!0});var c=te(t);i&&i.l(c),n=ke(c),a&&a.l(c),r=ke(c),s&&s.l(c),c.forEach(q),this.h()},h(){$(t,"class","rangePips"),he(t,"disabled",e[5]),he(t,"hoverable",e[4]),he(t,"vertical",e[2]),he(t,"reversed",e[3]),he(t,"focus",e[13])},m(f,c){ve(f,t,c),i&&i.m(t,null),Y(t,n),a&&a.m(t,null),Y(t,r),s&&s.m(t,null)},p(f,c){f[6]&&f[7]!==!1||f[7]?i?i.p(f,c):(i=Rh(f),i.c(),i.m(t,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,c):(a=Uh(f),a.c(),a.m(t,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,c):(s=Gh(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),c[0]&32&&he(t,"disabled",f[5]),c[0]&16&&he(t,"hoverable",f[4]),c[0]&4&&he(t,"vertical",f[2]),c[0]&8&&he(t,"reversed",f[3]),c[0]&8192&&he(t,"focus",f[13])},i:Ee,o:Ee,d(f){f&&q(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function NS(e,t,n){let r,i,a,s,f,{range:c=!1}=t,{min:l=0}=t,{max:u=100}=t,{step:d=1}=t,{values:h=[(u+l)/2]}=t,{vertical:p=!1}=t,{reversed:m=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:v=void 0}=t,{all:y=!0}=t,{first:x=void 0}=t,{last:_=void 0}=t,{rest:w=void 0}=t,{prefix:k=""}=t,{suffix:S=""}=t,{formatter:C=(O,re,le)=>O}=t,{focus:I=void 0}=t,{orientationStart:T=void 0}=t,{percentOf:M=void 0}=t,{moveHandle:E=void 0}=t,{fixFloat:D=void 0}=t,{normalisedClient:B=void 0}=t,A;function P(O){O=B(O),A={x:O.clientX,y:O.clientY}}function Z(O,re){if(re=B(re),!b){const le=Math.sqrt(Math.pow(A.x-re.clientX,2)+Math.pow(A.y-re.clientY,2));A&&le<=5&&E(void 0,O)}}const ie=O=>{P(O)},J=O=>{Z(l,O)},X=O=>{P(O)},H=(O,re)=>{Z(a(O),re)},G=O=>{P(O)},K=O=>{Z(u,O)};return e.$$set=O=>{"range"in O&&n(23,c=O.range),"min"in O&&n(0,l=O.min),"max"in O&&n(1,u=O.max),"step"in O&&n(24,d=O.step),"values"in O&&n(25,h=O.values),"vertical"in O&&n(2,p=O.vertical),"reversed"in O&&n(3,m=O.reversed),"hoverable"in O&&n(4,g=O.hoverable),"disabled"in O&&n(5,b=O.disabled),"pipstep"in O&&n(26,v=O.pipstep),"all"in O&&n(6,y=O.all),"first"in O&&n(7,x=O.first),"last"in O&&n(8,_=O.last),"rest"in O&&n(9,w=O.rest),"prefix"in O&&n(10,k=O.prefix),"suffix"in O&&n(11,S=O.suffix),"formatter"in O&&n(12,C=O.formatter),"focus"in O&&n(13,I=O.focus),"orientationStart"in O&&n(14,T=O.orientationStart),"percentOf"in O&&n(15,M=O.percentOf),"moveHandle"in O&&n(27,E=O.moveHandle),"fixFloat"in O&&n(16,D=O.fixFloat),"normalisedClient"in O&&n(28,B=O.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,r=v||((u-l)/d>=(p?50:100)?(u-l)/(p?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((u-l)/(d*r),10)),e.$$.dirty[0]&553713665&&n(19,a=function(O){return D(l+O*d*r)}),e.$$.dirty[0]&33619968&&n(18,s=function(O){return h.some(re=>D(re)===D(O))}),e.$$.dirty[0]&41943040&&n(17,f=function(O){if(c==="min")return h[0]>O;if(c==="max")return h[0]<O;if(c)return h[0]<O&&h[1]>O})},[l,u,p,m,g,b,y,x,_,w,k,S,C,I,T,M,D,f,s,a,i,P,Z,c,d,h,v,E,B,r,ie,J,X,H,G,K]}class DS extends ct{constructor(t){super(),lt(this,t,NS,CS,ut,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Qh(e,t,n){const r=e.slice();return r[65]=t[n],r[67]=n,r}function e0(e){let t,n,r,i=e[21](e[65],e[67],e[24](e[65]))+"",a,s=e[18]&&t0(e),f=e[19]&&n0(e);return{c(){t=Q("span"),s&&s.c(),n=He(),r=new Ka(!1),a=He(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=He(),r=Za(l,!1),a=He(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","rangeFloat")},m(c,l){ve(c,t,l),s&&s.m(t,null),Y(t,n),r.m(i,t),Y(t,a),f&&f.m(t,null)},p(c,l){c[18]?s?s.p(c,l):(s=t0(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&18874369&&i!==(i=c[21](c[65],c[67],c[24](c[65]))+"")&&r.p(i),c[19]?f?f.p(c,l):(f=n0(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function t0(e){let t,n;return{c(){t=Q("span"),n=vt(e[18]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[18]),i.forEach(q),this.h()},h(){$(t,"class","rangeFloat-prefix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&262144&&Xt(n,r[18])},d(r){r&&q(t)}}}function n0(e){let t,n;return{c(){t=Q("span"),n=vt(e[19]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=wt(i,e[19]),i.forEach(q),this.h()},h(){$(t,"class","rangeFloat-suffix")},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i[0]&524288&&Xt(n,r[19])},d(r){r&&q(t)}}}function r0(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m=e[7]&&e0(e);return{c(){t=Q("span"),n=Q("span"),r=Se(),m&&m.c(),this.h()},l(g){t=ee(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=te(t);n=ee(b,"SPAN",{class:!0}),te(n).forEach(q),r=ke(b),m&&m.l(b),b.forEach(q),this.h()},h(){$(n,"class","rangeNub"),$(t,"role","slider"),$(t,"class","rangeHandle"),$(t,"data-handle",e[67]),$(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),$(t,"aria-label",a=e[22][e[67]]),$(t,"aria-valuemin",s=e[2]===!0&&e[67]===1?e[0][0]:e[3]),$(t,"aria-valuemax",f=e[2]===!0&&e[67]===0?e[0][1]:e[4]),$(t,"aria-valuenow",c=e[65]),$(t,"aria-valuetext",l=""+(e[18]+s0(e[21](e[65],e[67],e[24](e[65])))+e[19])),$(t,"aria-orientation",u=e[6]?"vertical":"horizontal"),$(t,"aria-disabled",e[10]),$(t,"disabled",e[10]),$(t,"tabindex",d=e[10]?-1:0),he(t,"active",e[25]&&e[27]===e[67]),he(t,"press",e[26]&&e[27]===e[67])},m(g,b){ve(g,t,b),Y(t,n),Y(t,r),m&&m.m(t,null),h||(p=[Le(t,"blur",e[35]),Le(t,"focus",e[36]),Le(t,"keydown",e[37])],h=!0)},p(g,b){g[7]?m?m.p(g,b):(m=e0(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&1744830464&&i!==(i=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&$(t,"style",i),b[0]&4194304&&a!==(a=g[22][g[67]])&&$(t,"aria-label",a),b[0]&13&&s!==(s=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&$(t,"aria-valuemin",s),b[0]&21&&f!==(f=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&$(t,"aria-valuemax",f),b[0]&1&&c!==(c=g[65])&&$(t,"aria-valuenow",c),b[0]&19660801&&l!==(l=""+(g[18]+s0(g[21](g[65],g[67],g[24](g[65])))+g[19]))&&$(t,"aria-valuetext",l),b[0]&64&&u!==(u=g[6]?"vertical":"horizontal")&&$(t,"aria-orientation",u),b[0]&1024&&$(t,"aria-disabled",g[10]),b[0]&1024&&$(t,"disabled",g[10]),b[0]&1024&&d!==(d=g[10]?-1:0)&&$(t,"tabindex",d),b[0]&167772160&&he(t,"active",g[25]&&g[27]===g[67]),b[0]&201326592&&he(t,"press",g[26]&&g[27]===g[67])},d(g){g&&q(t),m&&m.d(),h=!1,ar(p)}}}function i0(e){let t,n;return{c(){t=Q("span"),this.h()},l(r){t=ee(r,"SPAN",{class:!0,style:!0}),te(t).forEach(q),this.h()},h(){$(t,"class","rangeBar"),$(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(r,i){ve(r,t,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&$(t,"style",n)},d(r){r&&q(t)}}}function o0(e){let t,n;return t=new DS({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:ta}}),{c(){Fc(t.$$.fragment)},l(r){Pc(t.$$.fragment,r)},m(r,i){Bc(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),t.$set(a)},i(r){n||(Ve(t.$$.fragment,r),n=!0)},o(r){We(t.$$.fragment,r),n=!1},d(r){$c(t,r)}}}function IS(e){let t,n,r,i,a,s,f=e[0],c=[];for(let d=0;d<f.length;d+=1)c[d]=r0(Qh(e,f,d));let l=e[2]&&i0(e),u=e[11]&&o0(e);return{c(){t=Q("div");for(let d=0;d<c.length;d+=1)c[d].c();n=Se(),l&&l.c(),r=Se(),u&&u.c(),this.h()},l(d){t=ee(d,"DIV",{id:!0,role:!0,class:!0});var h=te(t);for(let p=0;p<c.length;p+=1)c[p].l(h);n=ke(h),l&&l.l(h),r=ke(h),u&&u.l(h),h.forEach(q),this.h()},h(){$(t,"id",e[17]),$(t,"role","none"),$(t,"class","rangeSlider"),he(t,"range",e[2]),he(t,"disabled",e[10]),he(t,"hoverable",e[9]),he(t,"vertical",e[6]),he(t,"reversed",e[8]),he(t,"focus",e[25]),he(t,"min",e[2]==="min"),he(t,"max",e[2]==="max"),he(t,"pips",e[11]),he(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,h){ve(d,t,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(t,null);Y(t,n),l&&l.m(t,null),Y(t,r),u&&u.m(t,null),e[51](t),i=!0,a||(s=[Le(window,"mousedown",e[40]),Le(window,"touchstart",e[40]),Le(window,"mousemove",e[41]),Le(window,"touchmove",e[41]),Le(window,"mouseup",e[42]),Le(window,"touchend",e[43]),Le(window,"keydown",e[44]),Le(t,"mousedown",e[38]),Le(t,"mouseup",e[39]),Le(t,"touchstart",nu(e[38])),Le(t,"touchend",nu(e[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){f=d[0];let p;for(p=0;p<f.length;p+=1){const m=Qh(d,f,p);c[p]?c[p].p(m,h):(c[p]=r0(m),c[p].c(),c[p].m(t,n))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[2]?l?l.p(d,h):(l=i0(d),l.c(),l.m(t,r)):l&&(l.d(1),l=null),d[11]?u?(u.p(d,h),h[0]&2048&&Ve(u,1)):(u=o0(d),u.c(),Ve(u,1),u.m(t,null)):u&&(py(),We(u,1,1,()=>{u=null}),gy()),(!i||h[0]&131072)&&$(t,"id",d[17]),(!i||h[0]&4)&&he(t,"range",d[2]),(!i||h[0]&1024)&&he(t,"disabled",d[10]),(!i||h[0]&512)&&he(t,"hoverable",d[9]),(!i||h[0]&64)&&he(t,"vertical",d[6]),(!i||h[0]&256)&&he(t,"reversed",d[8]),(!i||h[0]&33554432)&&he(t,"focus",d[25]),(!i||h[0]&4)&&he(t,"min",d[2]==="min"),(!i||h[0]&4)&&he(t,"max",d[2]==="max"),(!i||h[0]&2048)&&he(t,"pips",d[11]),(!i||h[0]&122880)&&he(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(Ve(u),i=!0)},o(d){We(u),i=!1},d(d){d&&q(t),Oc(c,d),l&&l.d(),u&&u.d(),e[51](null),a=!1,ar(s)}}}function a0(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function ta(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function s0(e){return`${e}`.replace(/<[^>]*>/g,"")}function LS(e,t,n){let r,i,a,s,f,c,l=Ee,u=()=>(l(),l=nn(z,L=>n(30,c=L)),z);e.$$.on_destroy.push(()=>l());let{slider:d=void 0}=t,{range:h=!1}=t,{pushy:p=!1}=t,{min:m=0}=t,{max:g=100}=t,{step:b=1}=t,{values:v=[(g+m)/2]}=t,{vertical:y=!1}=t,{float:x=!1}=t,{reversed:_=!1}=t,{hoverable:w=!0}=t,{disabled:k=!1}=t,{pips:S=!1}=t,{pipstep:C=void 0}=t,{all:I=void 0}=t,{first:T=void 0}=t,{last:M=void 0}=t,{rest:E=void 0}=t,{id:D=void 0}=t,{prefix:B=""}=t,{suffix:A=""}=t,{formatter:P=(L,ae,Te)=>L}=t,{handleFormatter:Z=P}=t,{ariaLabels:ie=[]}=t,{precision:J=2}=t,{springValues:X={stiffness:.15,damping:.4}}=t;const H=my();let G=0,K=!1,O=!1,re=!1,le=!1,V=v.length-1,se,N,z;const W=L=>parseFloat((+L).toFixed(J));function F(L){const ae=d.querySelectorAll(".handle"),Te=Array.prototype.includes.call(ae,L),Ne=Array.prototype.some.call(ae,Bt=>Bt.contains(L));return Te||Ne}function ce(L){return h==="min"||h==="max"?L.slice(0,1):h?L.slice(0,2):L}function fe(){return d.getBoundingClientRect()}function de(L){const ae=fe();let Te=0,Ne=0,Bt=0;y?(Te=L.clientY-ae.top,Ne=Te/ae.height*100,Ne=_?Ne:100-Ne):(Te=L.clientX-ae.left,Ne=Te/ae.width*100,Ne=_?100-Ne:Ne),Bt=(g-m)/100*Ne+m;let bi;return h===!0&&v[0]===v[1]?Bt>v[1]?1:0:(bi=v.indexOf([...v].sort((ko,Mo)=>Math.abs(Bt-ko)-Math.abs(Bt-Mo))[0]),bi)}function pe(L){const ae=fe();let Te=0,Ne=0,Bt=0;y?(Te=L.clientY-ae.top,Ne=Te/ae.height*100,Ne=_?Ne:100-Ne):(Te=L.clientX-ae.left,Ne=Te/ae.width*100,Ne=_?100-Ne:Ne),Bt=(g-m)/100*Ne+m,U(V,Bt)}function U(L,ae){return ae=a(ae),typeof L>"u"&&(L=V),h&&(L===0&&ae>v[1]?p?n(0,v[1]=ae,v):ae=v[1]:L===1&&ae<v[0]&&(p?n(0,v[0]=ae,v):ae=v[0])),v[L]!==ae&&n(0,v[L]=ae,v),N!==ae&&(Or(),N=ae),ae}function ge(L){return h==="min"?0:L[0]}function Me(L){return h==="max"?0:h==="min"?100-L[0]:100-L[1]}function Be(L){le&&(n(25,K=!1),O=!1,n(26,re=!1))}function Pe(L){k||(n(27,V=a0(L.target)),n(25,K=!0))}function Pt(L){if(!k){const ae=a0(L.target);let Te=L.ctrlKey||L.metaKey||L.shiftKey?b*10:b,Ne=!1;switch(L.key){case"PageDown":Te*=10;case"ArrowRight":case"ArrowUp":U(ae,v[ae]+Te),Ne=!0;break;case"PageUp":Te*=10;case"ArrowLeft":case"ArrowDown":U(ae,v[ae]-Te),Ne=!0;break;case"Home":U(ae,m),Ne=!0;break;case"End":U(ae,g),Ne=!0;break}Ne&&(L.preventDefault(),L.stopPropagation())}}function Je(L){if(!k){const ae=L.target,Te=ta(L);n(25,K=!0),O=!0,n(26,re=!0),n(27,V=de(Te)),se=N=a(v[V]),Jt(),L.type==="touchstart"&&!ae.matches(".pipVal")&&pe(Te)}}function fn(L){L.type==="touchend"&&Nt(),n(26,re=!1)}function Qe(L){le=!1,K&&L.target!==d&&!d.contains(L.target)&&n(25,K=!1)}function j(L){k||O&&pe(ta(L))}function oe(L){if(!k){const ae=L.target;O&&((ae===d||d.contains(ae))&&(n(25,K=!0),!F(ae)&&!ae.matches(".pipVal")&&pe(ta(L))),Nt())}O=!1,n(26,re=!1)}function Re(L){O=!1,n(26,re=!1)}function St(L){k||(L.target===d||d.contains(L.target))&&(le=!0)}function Jt(){!k&&H("start",{activeHandle:V,value:se,values:v.map(L=>a(L))})}function Nt(){!k&&H("stop",{activeHandle:V,startValue:se,value:v[V],values:v.map(L=>a(L))})}function Or(){!k&&H("change",{activeHandle:V,startValue:se,previousValue:typeof N>"u"?se:N,value:v[V],values:v.map(L=>a(L))})}function kn(L){or[L?"unshift":"push"](()=>{d=L,n(1,d)})}return e.$$set=L=>{"slider"in L&&n(1,d=L.slider),"range"in L&&n(2,h=L.range),"pushy"in L&&n(45,p=L.pushy),"min"in L&&n(3,m=L.min),"max"in L&&n(4,g=L.max),"step"in L&&n(5,b=L.step),"values"in L&&n(0,v=L.values),"vertical"in L&&n(6,y=L.vertical),"float"in L&&n(7,x=L.float),"reversed"in L&&n(8,_=L.reversed),"hoverable"in L&&n(9,w=L.hoverable),"disabled"in L&&n(10,k=L.disabled),"pips"in L&&n(11,S=L.pips),"pipstep"in L&&n(12,C=L.pipstep),"all"in L&&n(13,I=L.all),"first"in L&&n(14,T=L.first),"last"in L&&n(15,M=L.last),"rest"in L&&n(16,E=L.rest),"id"in L&&n(17,D=L.id),"prefix"in L&&n(18,B=L.prefix),"suffix"in L&&n(19,A=L.suffix),"formatter"in L&&n(20,P=L.formatter),"handleFormatter"in L&&n(21,Z=L.handleFormatter),"ariaLabels"in L&&n(22,ie=L.ariaLabels),"precision"in L&&n(46,J=L.precision),"springValues"in L&&n(47,X=L.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(L){return L<=m?m:L>=g?g:L}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,a=function(L){if(L<=m)return W(m);if(L>=g)return W(g);L=W(L);let ae=(L-m)%b,Te=L-ae;return Math.abs(ae)*2>=b&&(Te+=ae>0?b:-b),Te=i(Te),W(Te)}),e.$$.dirty[0]&24&&n(24,r=function(L){let ae=(L-m)/(g-m)*100;return isNaN(ae)||ae<=0?0:ae>=100?100:W(ae)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(v)||(n(0,v=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const L=ce(v.map(ae=>a(ae)));(v.length!==L.length||!v.every((ae,Te)=>W(ae)===L[Te]))&&n(0,v=L),G!==v.length?u(n(23,z=TS(v.map(ae=>r(ae)),X))):z.set(v.map(ae=>r(ae))),n(48,G=v.length),v.length>1&&!Array.isArray(ie)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,s=y?_?"top":"bottom":_?"right":"left"),e.$$.dirty[0]&320&&n(28,f=y?_?"bottom":"top":_?"left":"right")},[v,d,h,m,g,b,y,x,_,w,k,S,C,I,T,M,E,D,B,A,P,Z,ie,z,r,K,re,V,f,s,c,W,U,ge,Me,Be,Pe,Pt,Je,fn,Qe,j,oe,Re,St,p,J,X,G,a,i,kn]}class Gb extends ct{constructor(t){super(),lt(this,t,LS,IS,ut,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function f0(e){let t,n;return{c(){t=Q("p"),n=vt(e[2])},l(r){t=ee(r,"P",{});var i=te(t);n=wt(i,e[2]),i.forEach(q)},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i&4&&Xt(n,r[2])},d(r){r&&q(t)}}}function OS(e){let t,n,r,i,a,s=e[2]&&f0(e);function f(l){e[14](l)}let c={min:+e[0],max:+e[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return e[6]!==void 0&&(c.values=e[6]),r=new Gb({props:c}),or.push(()=>w0(r,"values",f)),r.$on("start",e[8]),r.$on("change",e[7]),r.$on("stop",e[9]),{c(){t=Q("div"),s&&s.c(),n=Se(),Fc(r.$$.fragment),this.h()},l(l){t=ee(l,"DIV",{class:!0,id:!0});var u=te(t);s&&s.l(u),n=ke(u),Pc(r.$$.fragment,u),u.forEach(q),this.h()},h(){$(t,"class","px-[1%] py-[1%] ml-[2.1%]"),$(t,"id","slider")},m(l,u){ve(l,t,u),s&&s.m(t,null),Y(t,n),Bc(r,t,null),a=!0},p(l,[u]){l[2]?s?s.p(l,u):(s=f0(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),!i&&u&64&&(i=!0,d.values=l[6],x0(()=>i=!1)),r.$set(d)},i(l){a||(Ve(r.$$.fragment,l),a=!0)},o(l){We(r.$$.fragment,l),a=!1},d(l){l&&q(t),s&&s.d(),$c(r)}}}function FS(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(y,M=>n(15,r=M)),y),s,f=Ee,c=()=>(f(),f=nn(b,M=>n(16,s=M)),b),l,u=Ee,d=()=>(u(),u=nn(v,M=>n(17,l=M)),v);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=100,id:m,description:g}=t,{change:b=rt({})}=t;c();let{stop:v=rt({})}=t;d();let{drag:y=rt({})}=t;a();let{interactions:x={change:b,stop:v,drag:y}}=t;S0("dims");let _=[h,p];[..._];function w(M){console.log("Slider.render",M),M&&$e(Array,M)&&bt(M.filter(E=>E===void 0))&&(n(6,_=[+M[0].min,+M[0].max]),n(0,[h,p]=_,h,n(1,p)),console.log("Slider.render.to",_)),_&&_.length>=2&&S()}function k(M,E){console.log("Slider.load",M,E),!(!tr("left")(M)||!tr("right")(M))&&(M=M??{left:h,right:p},n(6,_=[M.left??h,M.right??p]),S())}function S(){b.isActive&&ze(b,s={left:_[0],right:_[1]},s),y.isActive&&ze(y,r={left:_[0],right:_[1]},r)}function C(){y.isActive&&ze(y,r={left:_[0],right:_[1]},r)}function I(){v.isActive&&ze(v,l={left:_[0],right:_[1]},l),b.isActive&&ze(b,s={left:_[0],right:_[1]},s),y.isActive&&ze(y,r={left:_[0],right:_[1]},r)}function T(M){_=M,n(6,_)}return e.$$set=M=>{"min"in M&&n(0,h=M.min),"max"in M&&n(1,p=M.max),"id"in M&&n(10,m=M.id),"description"in M&&n(2,g=M.description),"change"in M&&c(n(3,b=M.change)),"stop"in M&&d(n(4,v=M.stop)),"drag"in M&&a(n(5,y=M.drag)),"interactions"in M&&n(11,x=M.interactions)},[h,p,g,b,v,y,_,S,C,I,m,x,w,k,T]}class PS extends ct{constructor(t){super(),lt(this,t,FS,OS,ut,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ne()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ne()}get id(){return this.$$.ctx[10]}set id(t){this.$$set({id:t}),ne()}get description(){return this.$$.ctx[2]}set description(t){this.$$set({description:t}),ne()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ne()}get stop(){return this.$$.ctx[4]}set stop(t){this.$$set({stop:t}),ne()}get drag(){return this.$$.ctx[5]}set drag(t){this.$$set({drag:t}),ne()}get interactions(){return this.$$.ctx[11]}set interactions(t){this.$$set({interactions:t}),ne()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function BS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){ve(r,t,i),Y(t,n),e[18](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ee,o:Ee,d(r){r&&q(t),e[18](null)}}}function $S(e,t,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:c="val",yMax:l,magic:u,xDomainMin:d=null,xDomainMax:h=null,theplot:p=null}=t,m={},{brushX:g=rt({}),interactions:b={brushX:g}}=t,v,y=null,x=[],_=[{},{}];function w(T,M){return M!="overlay"?!1:(m=T,!0)}function k(T,M){return M!="badyear"?!1:(T.forEach((E,D)=>{E.rank=D+1,E[f]=Number(E[f])}),_=T,!0)}function S(T,M){!T||T.length===0||typeof M=="object"||(k(T,M)||w(T,M)?console.debug("overlay or badyear"):(x=nS(T,{include:a}),x.forEach(E=>E[f]=Number(E[f]))),C())}function C(){n(2,d=+d),n(3,h=+h);let T=Ac({x:{type:"linear",domain:[d-1,h]}}),M=D=>(_.length-D.rank)*(.3/_.length)+.7,E={x:T,color:{domain:a,range:gp,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[gi({ticks:Py(D=>D+d,h-d),tickRotate:-90,fontSize:10,tickFormat:D=>(D+"").slice(-2)}),So({fontSize:10,label:"Severity"}),zl([0]),ql([T.domain[0]]),Nc(_,{x1:D=>D[f]-.5,x2:D=>D[f]+.5,y:M,stroke:"black",opacity:.8,strokeWidth:1}),Kx(_,{x1:D=>D[f]-.5,x2:D=>D[f]+.5,y1:0,y2:M,fill:"gray",opacity:.1}),Kl(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),Hx(x,{filter:D=>D.key==a.at(-1)&&D[f]>=d&&D[f]<=h&&+D[c]==0,x:D=>+D[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((D,B)=>{let A=(1+B)/a.length*.7;E.marks.push(Nc(x,{filter:P=>P.key==D&&P[f]>=d&&P[f]<=h,x:P=>+P[f]+A-.35,y1:0,y2:c,stroke:"key",strokeWidth:4}))}),n(4,p=Os(E,y)),g.isActive&&(v=v??new Zl({iact:g,magic:u}),v.init(p))}function I(T){or[T?"unshift":"push"](()=>{y=T,n(1,y)})}return e.$$set=T=>{"id"in T&&n(5,r=T.id),"name"in T&&n(0,i=T.name),"groupNames"in T&&n(6,a=T.groupNames),"title"in T&&n(7,s=T.title),"xAttr"in T&&n(8,f=T.xAttr),"yAttr"in T&&n(9,c=T.yAttr),"yMax"in T&&n(10,l=T.yMax),"magic"in T&&n(11,u=T.magic),"xDomainMin"in T&&n(2,d=T.xDomainMin),"xDomainMax"in T&&n(3,h=T.xDomainMax),"theplot"in T&&n(4,p=T.theplot),"brushX"in T&&n(12,g=T.brushX),"interactions"in T&&n(13,b=T.interactions)},[i,y,d,h,p,r,a,s,f,c,l,u,g,b,w,k,S,C,I]}class RS extends ct{constructor(t){super(),lt(this,t,$S,BS,ut,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),ne()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ne()}get groupNames(){return this.$$.ctx[6]}set groupNames(t){this.$$set({groupNames:t}),ne()}get title(){return this.$$.ctx[7]}set title(t){this.$$set({title:t}),ne()}get xAttr(){return this.$$.ctx[8]}set xAttr(t){this.$$set({xAttr:t}),ne()}get yAttr(){return this.$$.ctx[9]}set yAttr(t){this.$$set({yAttr:t}),ne()}get yMax(){return this.$$.ctx[10]}set yMax(t){this.$$set({yMax:t}),ne()}get magic(){return this.$$.ctx[11]}set magic(t){this.$$set({magic:t}),ne()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ne()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ne()}get theplot(){return this.$$.ctx[4]}set theplot(t){this.$$set({theplot:t}),ne()}get brushX(){return this.$$.ctx[12]}set brushX(t){this.$$set({brushX:t}),ne()}get interactions(){return this.$$.ctx[13]}set interactions(t){this.$$set({interactions:t}),ne()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function jS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){ve(r,t,i),Y(t,n),e[11](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ee,o:Ee,d(r){r&&q(t),e[11](null)}}}function qS(e,t,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=t,{brushX:c=rt({})}=t,{interactions:l={brushX:c}}=t,u,d,h,p={},m=[];function g(x,_){return _!="overlay"?!1:(p=x,!0)}function b(x,_){!x||x.length===0||typeof _=="object"||(g(x,_)?console.debug("overlay"):m=x,v())}function v(){let x={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,marginLeft:90,height:300,fy:{label:null,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},scheme:"Tableau10",legend:!0},marks:[gi({ticks:36,fontSize:10}),jb(),Nc(m,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"village"}),Ds(m,{x:_=>{let w=(_.end_time-_.start_time)/2+_.start_time;return console.log("yy",_,w),w},y:"activity",dy:3,lineAnchor:"top",fy:"village",fontSize:10,color:"gray",text:"activity"}),Kl(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})]};u=Os(x,d),c.isActive&&(h=h??new Zl({iact:c,magic:f}),h.init(u))}function y(x){or[x?"unshift":"push"](()=>{d=x,n(1,d)})}return e.$$set=x=>{"id"in x&&n(2,r=x.id),"name"in x&&n(0,i=x.name),"xDomainMin"in x&&n(3,a=x.xDomainMin),"xDomainMax"in x&&n(4,s=x.xDomainMax),"magic"in x&&n(5,f=x.magic),"brushX"in x&&n(6,c=x.brushX),"interactions"in x&&n(7,l=x.interactions)},[i,d,r,a,s,f,c,l,g,b,v,y]}class zS extends ct{constructor(t){super(),lt(this,t,qS,jS,ut,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ne()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ne()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(t){this.$$set({xDomainMin:t}),ne()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(t){this.$$set({xDomainMax:t}),ne()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ne()}get brushX(){return this.$$.ctx[6]}set brushX(t){this.$$set({brushX:t}),ne()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ne()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function US(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){ve(r,t,i),Y(t,n),e[6](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ee,o:Ee,d(r){r&&q(t),e[6](null)}}}function HS(e,t,n){let{name:r,id:i,interactions:a={}}=t,s,f=[];function c(d,h){!d||d.length===0||(f=d,l())}function l(){let d=Ac({color:{type:"linear",scheme:"greens"}}),h=Ac({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=f.map(g=>h.apply(ha(d.apply(+g.value)).l)),m={padding:0,marginLeft:150,height:300,color:d,marks:[gi({fontSize:10,label:null}),So({fontSize:10,label:null}),jx(f,{x:"x",y:"y",fill:g=>+g.value,stroke:"white"}),Ds(f,{x:"x",y:"y",text:g=>g.value,fill:p,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Os(m,s)}function u(d){or[d?"unshift":"push"](()=>{s=d,n(1,s)})}return e.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,c,l,u]}class VS extends ct{constructor(t){super(),lt(this,t,HS,US,ut,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ne()}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ne()}get interactions(){return this.$$.ctx[3]}set interactions(t){this.$$set({interactions:t}),ne()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const WS=rt({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:kS}),c0=rt([]),l0=rt({});function u0(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function YS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=vt(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=wt(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value},m(i,a){ve(i,t,a),Y(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&Xt(r,n)},d(i){i&&q(t)}}}function XS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=vt(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=wt(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value,t.selected=!0},m(i,a){ve(i,t,a),Y(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&Xt(r,n)},d(i){i&&q(t)}}}function d0(e){let t;function n(a,s){return a[17]===a[1]?XS:YS}let r=n(e),i=r(e);return{c(){i.c(),t=He()},l(a){i.l(a),t=He()},m(a,s){i.m(a,s),ve(a,t,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t.parentNode,t)))},d(a){i.d(a),a&&q(t)}}}function GS(e){let t,n,r,i,a=e[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=d0(u0(e,a,f));return{c(){t=Q("div"),n=Q("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=ee(f,"DIV",{class:!0,id:!0});var c=te(t);n=ee(c,"SELECT",{class:!0});var l=te(n);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(q),c.forEach(q),this.h()},h(){$(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[4]===void 0&&by(()=>e[10].call(n)),$(t,"class","px-[1%] py-[1%]"),$(t,"id",e[0])},m(f,c){ve(f,t,c),Y(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);ru(n,e[4],!0),r||(i=[Le(n,"change",e[10]),Le(n,"change",e[6])],r=!0)},p(f,[c]){if(c&38){a=f[5];let l;for(l=0;l<a.length;l+=1){const u=u0(f,a,l);s[l]?s[l].p(u,c):(s[l]=d0(u),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}c&16&&ru(n,f[4]),c&1&&$(t,"id",f[0])},i:Ee,o:Ee,d(f){f&&q(t),Oc(s,f),r=!1,ar(i)}}}function KS(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(u,y=>n(11,r=y)),u),s;na(e,WS,y=>n(12,s=y)),e.$$.on_destroy.push(()=>i());let{id:f,index:c,dropdown_key:l}=t,{change:u=rt({})}=t;a();let{interactions:d={change:u}}=t,h=null,p=[];s.margin;function m(y,x){n(5,p=y??p),n(4,h=h??c),console.log("Dropdown.render",p,h,x),b()}function g(y){console.log("Dropdown.load",y),n(4,h=y.idx),m()}function b(){u.isActive&&ze(u,r={...p[h],idx:h},r)}function v(){h=yy(this),n(4,h)}return e.$$set=y=>{"id"in y&&n(0,f=y.id),"index"in y&&n(1,c=y.index),"dropdown_key"in y&&n(2,l=y.dropdown_key),"change"in y&&a(n(3,u=y.change)),"interactions"in y&&n(7,d=y.interactions)},[f,c,l,u,h,p,b,d,m,g,v]}class ZS extends ct{constructor(t){super(),lt(this,t,KS,GS,ut,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(t){this.$$set({id:t}),ne()}get index(){return this.$$.ctx[1]}set index(t){this.$$set({index:t}),ne()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(t){this.$$set({dropdown_key:t}),ne()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ne()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ne()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function JS(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m;return{c(){t=Q("form"),n=Q("div"),r=Q("input"),i=Se(),a=Q("button"),s=vt("Login"),f=Se(),c=Q("button"),l=vt("Save"),u=Se(),d=Q("button"),h=vt("Logout"),this.h()},l(g){t=ee(g,"FORM",{class:!0});var b=te(t);n=ee(b,"DIV",{class:!0});var v=te(n);r=ee(v,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=ke(v),a=ee(v,"BUTTON",{class:!0,type:!0});var y=te(a);s=wt(y,"Login"),y.forEach(q),f=ke(v),c=ee(v,"BUTTON",{class:!0,type:!0});var x=te(c);l=wt(x,"Save"),x.forEach(q),u=ke(v),d=ee(v,"BUTTON",{class:!0,type:!0});var _=te(d);h=wt(_,"Logout"),_.forEach(q),v.forEach(q),b.forEach(q),this.h()},h(){$(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),$(r,"type","text"),$(r,"placeholder","Login..."),$(r,"aria-label","username"),$(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),$(a,"type","button"),$(c,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(c,"type","button"),$(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(d,"type","button"),$(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),$(t,"class","w-full max-w-sm mx-auto")},m(g,b){ve(g,t,b),Y(t,n),Y(n,r),ra(r,e[1]),Y(n,i),Y(n,a),Y(a,s),Y(n,f),Y(n,c),Y(c,l),Y(n,u),Y(n,d),Y(d,h),p||(m=[Le(r,"input",e[14]),Le(a,"click",e[2]),Le(c,"click",e[3]),Le(d,"click",e[4])],p=!0)},p(g,[b]){b&2&&r.value!==g[1]&&ra(r,g[1])},i:Ee,o:Ee,d(g){g&&q(t),p=!1,ar(m)}}}function Kb(e,t){console.debug("login invoked",e,t)}function QS(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(s,w=>n(16,r=w)),s);e.$$.on_destroy.push(()=>i());let{status:s=rt({}),interactions:f={status:s}}=t;a();let{id:c,magic:l,client:u,exportFunc:d,importFunc:h,dataTable:p,stateTable:m}=t,g,b;const v=async()=>{console.debug("login user: ",g),b=l.exportState();const w=await u.query(h,{table:m,user:g});if(!w){alert("there is no data for this user"),ze(s,r={user:g,loggedin:!0},r);return}ze(s,r={user:g,loggedin:!0},r),l.importState(w.data)},y=async()=>{let w=l.exportData();await u.mutation(d,{data:w,table:p,user:g}),w=l.exportState(),await u.mutation(d,{data:w,table:m,user:g}),alert("save function executed")},x=async()=>{l.importState(b),n(1,g=null)};function _(){g=this.value,n(1,g)}return e.$$set=w=>{"status"in w&&a(n(0,s=w.status)),"interactions"in w&&n(5,f=w.interactions),"id"in w&&n(6,c=w.id),"magic"in w&&n(7,l=w.magic),"client"in w&&n(8,u=w.client),"exportFunc"in w&&n(9,d=w.exportFunc),"importFunc"in w&&n(10,h=w.importFunc),"dataTable"in w&&n(11,p=w.dataTable),"stateTable"in w&&n(12,m=w.stateTable)},[s,g,v,y,x,f,c,l,u,d,h,p,m,Kb,_]}class ek extends ct{constructor(t){super(),lt(this,t,QS,JS,ut,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(t){this.$$set({status:t}),ne()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ne()}get id(){return this.$$.ctx[6]}set id(t){this.$$set({id:t}),ne()}get magic(){return this.$$.ctx[7]}set magic(t){this.$$set({magic:t}),ne()}get client(){return this.$$.ctx[8]}set client(t){this.$$set({client:t}),ne()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(t){this.$$set({exportFunc:t}),ne()}get importFunc(){return this.$$.ctx[10]}set importFunc(t){this.$$set({importFunc:t}),ne()}get dataTable(){return this.$$.ctx[11]}set dataTable(t){this.$$set({dataTable:t}),ne()}get stateTable(){return this.$$.ctx[12]}set stateTable(t){this.$$set({stateTable:t}),ne()}get render(){return Kb}}function tk(e){let t,n,r,i;return{c(){t=Q("form"),n=Q("input"),this.h()},l(a){t=ee(a,"FORM",{class:!0});var s=te(t);n=ee(s,"INPUT",{type:!0,class:!0,placeholder:!0}),s.forEach(q),this.h()},h(){$(n,"type","text"),$(n,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),$(n,"placeholder",e[0]),$(t,"class","px-[1%] py-[1%] ml-[5.9%]")},m(a,s){ve(a,t,s),Y(t,n),ra(n,e[2]),r||(i=[Le(n,"input",e[8]),Le(n,"change",e[3])],r=!0)},p(a,[s]){s&1&&$(n,"placeholder",a[0]),s&4&&n.value!==a[2]&&ra(n,a[2])},i:Ee,o:Ee,d(a){a&&q(t),r=!1,ar(i)}}}function nk(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(c,g=>n(9,r=g)),c);e.$$.on_destroy.push(()=>i());let s=null,{placeholder:f="textbox"}=t,{change:c=rt({})}=t;a();let{id:l}=t,{interactions:u={change:c}}=t;function d(){c.isActive&&ze(c,r={text:s},r)}function h(g){g&&R.is(Array,g)&&g.length&&n(0,f=String(g[0]))}function p(g,b){n(2,s=g),d()}function m(){s=this.value,n(2,s)}return e.$$set=g=>{"placeholder"in g&&n(0,f=g.placeholder),"change"in g&&a(n(1,c=g.change)),"id"in g&&n(4,l=g.id),"interactions"in g&&n(5,u=g.interactions)},[f,c,s,d,l,u,h,p,m]}class rk extends ct{constructor(t){super(),lt(this,t,nk,tk,ut,{placeholder:0,change:1,id:4,interactions:5,render:6,load:7})}get placeholder(){return this.$$.ctx[0]}set placeholder(t){this.$$set({placeholder:t}),ne()}get change(){return this.$$.ctx[1]}set change(t){this.$$set({change:t}),ne()}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ne()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ne()}get render(){return this.$$.ctx[6]}get load(){return this.$$.ctx[7]}}function ik(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(f,g=>n(8,r=g)),f);e.$$.on_destroy.push(()=>i());let{id:s,valid:f=rt({}),interactions:c={valid:f},key:l,threshold_string:u}=t;a();let d=[],h=Number(u);function p(g,b){if(console.debug("trigger alert render"),d=g??d,bt(d)||!$e(Array,d))return;const y=Uc(l)(d);if(bt(y)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}O2(y)<h?(ze(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):ze(f,r={valid:!0},r)}function m(g,b){bt(g)||ze(f,r=g,r)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"valid"in g&&a(n(0,f=g.valid)),"interactions"in g&&n(2,c=g.interactions),"key"in g&&n(3,l=g.key),"threshold_string"in g&&n(4,u=g.threshold_string)},[f,s,c,l,u,p,m]}class ok extends ct{constructor(t){super(),lt(this,t,ik,null,ut,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),ne()}get valid(){return this.$$.ctx[0]}set valid(t){this.$$set({valid:t}),ne()}get interactions(){return this.$$.ctx[2]}set interactions(t){this.$$set({interactions:t}),ne()}get key(){return this.$$.ctx[3]}set key(t){this.$$set({key:t}),ne()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(t){this.$$set({threshold_string:t}),ne()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}var Zb={exports:{}},ak=Zb.exports={};ak.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Jb=Zb.exports,sk=function(e){var t=e.stateHandler.getState;function n(s){var f=t(s);return f&&!!f.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,f){t(s).busy=!!f}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},fk=function(e){var t={};function n(s){var f=e.get(s);return f===void 0?[]:t[f]||[]}function r(s,f){var c=e.get(s);t[c]||(t[c]=[]),t[c].push(f)}function i(s,f){for(var c=n(s),l=0,u=c.length;l<u;++l)if(c[l]===f){c.splice(l,1);break}}function a(s){var f=n(s);f&&(f.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},ck=function(){var e=1;function t(){return e++}return{generate:t}},lk=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var f=t.generate();return s.id=f,f}return{get:r,set:i}},uk=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var f=console[a];if(f.apply)f.apply(console,arguments);else for(var c=0;c<arguments.length;c++)f(arguments[c])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Qb={exports:{}},ey=Qb.exports={};ey.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};ey.isLegacyOpera=function(){return!!window.opera};var ty=Qb.exports,ny={exports:{}},dk=ny.exports={};dk.getOption=hk;function hk(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var pk=ny.exports,h0=pk,gk=function(t){t=t||{};var n=t.reporter,r=h0.getOption(t,"async",!0),i=h0.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=p0(),s,f=!1;function c(m,g){!f&&i&&r&&a.size()===0&&d(),a.add(m,g)}function l(){for(f=!0;a.size();){var m=a;a=p0(),m.process()}f=!1}function u(m){f||(m===void 0&&(m=r),s&&(h(s),s=null),m?d():l())}function d(){s=p(l)}function h(m){var g=clearTimeout;return g(m)}function p(m){var g=function(b){return setTimeout(b,0)};return g(m)}return{add:c,force:u}};function p0(){var e={},t=0,n=0,r=0;function i(f,c){c||(c=f,f=0),f>n?n=f:f<r&&(r=f),e[f]||(e[f]=[]),e[f].push(c),t++}function a(){for(var f=r;f<=n;f++)for(var c=e[f],l=0;l<c.length;l++){var u=c[l];u()}}function s(){return t}return{add:i,process:a,size:s}}var Jl="_erd";function mk(e){return e[Jl]={},ry(e)}function ry(e){return e[Jl]}function bk(e){delete e[Jl]}var yk={initState:mk,getState:ry,cleanState:bk},Mi=ty,_k=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,u){function d(){u(l)}if(Mi.isIE(8))r(l).object={proxy:d},l.attachEvent("onresize",d);else{var h=f(l);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function a(l){var u=e.important?" !important; ":"; ";return(l.join(u)+u).trim()}function s(l,u,d){d||(d=u,u=l,l=null),l=l||{},l.debug;function h(p,m){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,v=window.getComputedStyle(p),y=p.offsetWidth,x=p.offsetHeight;r(p).startSize={width:y,height:x};function _(){function w(){if(v.position==="static"){p.style.setProperty("position","relative",l.important?"important":"");var C=function(I,T,M,E){function D(A){return A.replace(/[^-\d\.]/g,"")}var B=M[E];B!=="auto"&&D(B)!=="0"&&(I.warn("An element that is positioned static has style."+E+"="+B+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+E+" will be set to 0. Element: ",T),T.style.setProperty(E,"0",l.important?"important":""))};C(t,p,v,"top"),C(t,p,v,"right"),C(t,p,v,"bottom"),C(t,p,v,"left")}}function k(){b||w();function C(T,M){if(!T.contentDocument){var E=r(T);E.checkForObjectDocumentTimeoutId&&window.clearTimeout(E.checkForObjectDocumentTimeoutId),E.checkForObjectDocumentTimeoutId=setTimeout(function(){E.checkForObjectDocumentTimeoutId=0,C(T,M)},100);return}M(T.contentDocument)}var I=this;C(I,function(M){m(p)})}v.position!==""&&(w(),b=!0);var S=document.createElement("object");S.style.cssText=g,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=k,Mi.isIE()||(S.data="about:blank"),r(p)&&(p.appendChild(S),r(p).object=S,Mi.isIE()&&(S.data="about:blank"))}n?n.add(_):_()}Mi.isIE(8)?d(u):h(u,d)}function f(l){return r(l).object}function c(l){if(r(l)){var u=f(l);u&&(Mi.isIE(8)?l.detachEvent("onresize",u.proxy):l.removeChild(u),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:c}},vk=Jb.forEach,wk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=u(),s="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function c(_){d(_,s,f)}c(window.document);function l(_){var w=e.important?" !important; ":"; ";return(_.join(w)+w).trim()}function u(){var _=500,w=500,k=document.createElement("div");k.style.cssText=l(["position: absolute","width: "+_*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+_+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-_*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(k),document.body.insertBefore(S,document.body.firstChild);var C=_-S.clientWidth,I=w-S.clientHeight;return document.body.removeChild(S),{width:C,height:I}}function d(_,w,k){function S(M,E){E=E||function(B){_.head.appendChild(B)};var D=_.createElement("style");return D.innerHTML=M,D.id=w,E(D),D}if(!_.getElementById(w)){var C=k+"_animation",I=k+"_animation_active",T=`/* Created by the element-resize-detector library. */
`;T+="."+k+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,T+="."+I+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+C,"animation-name: "+C])+` }
`,T+="@-webkit-keyframes "+C+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,T+="@keyframes "+C+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(T)}}function h(_){_.className+=" "+f+"_animation_active"}function p(_,w,k){if(_.addEventListener)_.addEventListener(w,k);else if(_.attachEvent)_.attachEvent("on"+w,k);else return t.error("[scroll] Don't know how to add event listeners.")}function m(_,w,k){if(_.removeEventListener)_.removeEventListener(w,k);else if(_.detachEvent)_.detachEvent("on"+w,k);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(_){return r(_).container.childNodes[0].childNodes[0].childNodes[0]}function b(_){return r(_).container.childNodes[0].childNodes[0].childNodes[1]}function v(_,w){var k=r(_).listeners;if(!k.push)throw new Error("Cannot add listener to an element that is not detectable.");r(_).listeners.push(w)}function y(_,w,k){k||(k=w,w=_,_=null),_=_||{};function S(){if(_.debug){var N=Array.prototype.slice.call(arguments);if(N.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,N);else for(var z=0;z<N.length;z++)t.log(N[z])}}function C(N){function z(W){var F=W.getRootNode&&W.getRootNode().contains(W);return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)||F}return!z(N)||window.getComputedStyle(N)===null}function I(N){var z=r(N).container.childNodes[0],W=window.getComputedStyle(z);return!W.width||W.width.indexOf("px")===-1}function T(){var N=window.getComputedStyle(w),z={};return z.position=N.position,z.width=w.offsetWidth,z.height=w.offsetHeight,z.top=N.top,z.right=N.right,z.bottom=N.bottom,z.left=N.left,z.widthCSS=N.width,z.heightCSS=N.height,z}function M(){var N=T();r(w).startSize={width:N.width,height:N.height},S("Element start size",r(w).startSize)}function E(){r(w).listeners=[]}function D(){if(S("storeStyle invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var N=T();r(w).style=N}function B(N,z,W){r(N).lastWidth=z,r(N).lastHeight=W}function A(N){return g(N).childNodes[0]}function P(){return 2*a.width+1}function Z(){return 2*a.height+1}function ie(N){return N+10+P()}function J(N){return N+10+Z()}function X(N){return N*2+P()}function H(N){return N*2+Z()}function G(N,z,W){var F=g(N),ce=b(N),fe=ie(z),de=J(W),pe=X(z),U=H(W);F.scrollLeft=fe,F.scrollTop=de,ce.scrollLeft=pe,ce.scrollTop=U}function K(){var N=r(w).container;if(!N){N=document.createElement("div"),N.className=f,N.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=N,h(N),w.appendChild(N);var z=function(){r(w).onRendered&&r(w).onRendered()};p(N,"animationstart",z),r(w).onAnimationStart=z}return N}function O(){function N(){var Re=r(w).style;if(Re.position==="static"){w.style.setProperty("position","relative",_.important?"important":"");var St=function(Jt,Nt,Or,kn){function L(Te){return Te.replace(/[^-\d\.]/g,"")}var ae=Or[kn];ae!=="auto"&&L(ae)!=="0"&&(Jt.warn("An element that is positioned static has style."+kn+"="+ae+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+kn+" will be set to 0. Element: ",Nt),Nt.style[kn]=0)};St(t,w,Re,"top"),St(t,w,Re,"right"),St(t,w,Re,"bottom"),St(t,w,Re,"left")}}function z(Re,St,Jt,Nt){return Re=Re?Re+"px":"0",St=St?St+"px":"0",Jt=Jt?Jt+"px":"0",Nt=Nt?Nt+"px":"0",["left: "+Re,"top: "+St,"right: "+Nt,"bottom: "+Jt]}if(S("Injecting elements"),!r(w)){S("Aborting because element has been uninstalled");return}N();var W=r(w).container;W||(W=K());var F=a.width,ce=a.height,fe=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(z(-(1+F),-(1+ce),-ce,-F))),pe=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),U=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ge=l(["position: absolute","left: 0","top: 0"]),Me=l(["position: absolute","width: 200%","height: 200%"]),Be=document.createElement("div"),Pe=document.createElement("div"),Pt=document.createElement("div"),Je=document.createElement("div"),fn=document.createElement("div"),Qe=document.createElement("div");Be.dir="ltr",Be.style.cssText=fe,Be.className=f,Pe.className=f,Pe.style.cssText=de,Pt.style.cssText=pe,Je.style.cssText=ge,fn.style.cssText=U,Qe.style.cssText=Me,Pt.appendChild(Je),fn.appendChild(Qe),Pe.appendChild(Pt),Pe.appendChild(fn),Be.appendChild(Pe),W.appendChild(Be);function j(){var Re=r(w);Re&&Re.onExpand?Re.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function oe(){var Re=r(w);Re&&Re.onShrink?Re.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}p(Pt,"scroll",j),p(fn,"scroll",oe),r(w).onExpandScroll=j,r(w).onShrinkScroll=oe}function re(){function N(pe,U,ge){var Me=A(pe),Be=ie(U),Pe=J(ge);Me.style.setProperty("width",Be+"px",_.important?"important":""),Me.style.setProperty("height",Pe+"px",_.important?"important":"")}function z(pe){var U=w.offsetWidth,ge=w.offsetHeight,Me=U!==r(w).lastWidth||ge!==r(w).lastHeight;S("Storing current size",U,ge),B(w,U,ge),n.add(0,function(){if(Me){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}if(_.debug){var Pe=w.offsetWidth,Pt=w.offsetHeight;(Pe!==U||Pt!==ge)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}N(w,U,ge)}}),n.add(1,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}G(w,U,ge)}),Me&&pe&&n.add(2,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}pe()})}function W(){return!!r(w).container}function F(){function pe(){return r(w).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var U=r(w);if(pe()&&U.lastWidth===U.startSize.width&&U.lastHeight===U.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(U.lastWidth===U.lastNotifiedWidth&&U.lastHeight===U.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),U.lastNotifiedWidth=U.lastWidth,U.lastNotifiedHeight=U.lastHeight,vk(r(w).listeners,function(ge){ge(w)})}function ce(){if(S("startanimation triggered."),I(w)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var pe=g(w),U=b(w);(pe.scrollLeft===0||pe.scrollTop===0||U.scrollLeft===0||U.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),z(F))}function fe(){if(S("Scroll detected."),I(w)){S("Scroll event fired while unrendered. Ignoring...");return}z(F)}if(S("registerListenersAndPositionElements invoked."),!r(w)){S("Aborting because element has been uninstalled");return}r(w).onRendered=ce,r(w).onExpand=fe,r(w).onShrink=fe;var de=r(w).style;N(w,de.width,de.height)}function le(){if(S("finalizeDomMutation invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var N=r(w).style;B(w,N.width,N.height),G(w,N.width,N.height)}function V(){k(w)}function se(){S("Installing..."),E(),M(),n.add(0,D),n.add(1,O),n.add(2,re),n.add(3,le),n.add(4,V)}S("Making detectable..."),C(w)?(S("Element is detached"),K(),S("Waiting until element is attached..."),r(w).onRendered=function(){S("Element is now attached"),se()}):se()}function x(_){var w=r(_);w&&(w.onExpandScroll&&m(g(_),"scroll",w.onExpandScroll),w.onShrinkScroll&&m(b(_),"scroll",w.onShrinkScroll),w.onAnimationStart&&m(w.container,"animationstart",w.onAnimationStart),w.container&&_.removeChild(w.container))}return{makeDetectable:y,addListener:v,uninstall:x,initDocument:c}},Ii=Jb.forEach,xk=sk,Sk=fk,kk=ck,Mk=lk,Ak=uk,g0=ty,Ek=gk,Rn=yk,Tk=_k,Ck=wk;function m0(e){return Array.isArray(e)||e.length!==void 0}function b0(e){if(Array.isArray(e))return e;var t=[];return Ii(e,function(n){t.push(n)}),t}function y0(e){return e&&e.nodeType===1}var Nk=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=kk(),r=Mk({idGenerator:n,stateHandler:Rn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=Ak(a)}var s=jn(e,"batchProcessor",Ek({reporter:i})),f={};f.callOnAdd=!!jn(e,"callOnAdd",!0),f.debug=!!jn(e,"debug",!1);var c=Sk(t),l=xk({stateHandler:Rn}),u,d=jn(e,"strategy","object"),h=jn(e,"important",!1),p={reporter:i,batchProcessor:s,stateHandler:Rn,idHandler:t,important:h};if(d==="scroll"&&(g0.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):g0.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=Ck(p);else if(d==="object")u=Tk(p);else throw new Error("Invalid strategy name: "+d);var m={};function g(y,x,_){function w(M){var E=c.get(M);Ii(E,function(B){B(M)})}function k(M,E,D){c.add(E,D),M&&D(E)}if(_||(_=x,x=y,y={}),!x)throw new Error("At least one element required.");if(!_)throw new Error("Listener required.");if(y0(x))x=[x];else if(m0(x))x=b0(x);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,C=jn(y,"callOnAdd",f.callOnAdd),I=jn(y,"onReady",function(){}),T=jn(y,"debug",f.debug);Ii(x,function(E){Rn.getState(E)||(Rn.initState(E),t.set(E));var D=t.get(E);if(T&&i.log("Attaching listener to element",D,E),!l.isDetectable(E)){if(T&&i.log(D,"Not detectable."),l.isBusy(E)){T&&i.log(D,"System busy making it detectable"),k(C,E,_),m[D]=m[D]||[],m[D].push(function(){S++,S===x.length&&I()});return}return T&&i.log(D,"Making detectable..."),l.markBusy(E,!0),u.makeDetectable({debug:T,important:h},E,function(A){if(T&&i.log(D,"onElementDetectable"),Rn.getState(A)){l.markAsDetectable(A),l.markBusy(A,!1),u.addListener(A,w),k(C,A,_);var P=Rn.getState(A);if(P&&P.startSize){var Z=A.offsetWidth,ie=A.offsetHeight;(P.startSize.width!==Z||P.startSize.height!==ie)&&w(A)}m[D]&&Ii(m[D],function(J){J()})}else T&&i.log(D,"Element uninstalled before being detectable.");delete m[D],S++,S===x.length&&I()})}T&&i.log(D,"Already detecable, adding listener."),k(C,E,_),S++}),S===x.length&&I()}function b(y){if(!y)return i.error("At least one element is required.");if(y0(y))y=[y];else if(m0(y))y=b0(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Ii(y,function(x){c.removeAllListeners(x),u.uninstall(x),Rn.cleanState(x)})}function v(y){u.initDocument&&u.initDocument(y)}return{listenTo:g,removeListener:c.removeListener,removeAllListeners:c.removeAllListeners,uninstall:b,initDocument:v}};function jn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const Dk=tS(Nk);Dk({strategy:"scroll"});function Ik(e,t,n){let r,i;na(e,c0,f=>n(2,r=f)),na(e,l0,f=>n(3,i=f));let a=[];function s(f,c){a=f??a,console.log("in query update.... ",f,c),ze(l0,i[c]=a,i),c=="defaults_q"&&ze(c0,r=a.map(l=>({chirps_early:{start:l.chirps_early_first,end:l.chirps_early_last},chirps_late:{start:l.chirps_late_first,end:l.chirps_late_last}})),r)}return[s]}class Lk extends ct{constructor(t){super(),lt(this,t,Ik,null,ut,{render:0})}get render(){return this.$$.ctx[0]}}function Ok(e){let t,n;return{c(){t=Q("div"),n=_y("svg"),this.h()},l(r){t=ee(r,"DIV",{class:!0});var i=te(t);n=vy(i,"svg",{id:!0,viewBox:!0,width:!0,height:!0});var a=te(n);a.forEach(q),i.forEach(q),this.h()},h(){$(n,"id","svgcontainer"),$(n,"viewBox","372 130 30 30"),$(n,"width","100%"),$(n,"height","100%"),$(t,"class","w-5/5 h-5/5")},m(r,i){ve(r,t,i),Y(t,n),e[4](t)},p:Ee,i:Ee,o:Ee,d(r){r&&q(t),e[4](null)}}}function Fk(e,t,n){let{spec:r}=t,{theplot:i=null}=t,a,s=[],f;function c(u,d){if(!u||u.length==0)return;d=="overlay"||(s=u??s),console.log("map data to plot: ",s);let h={projection:"equirectangular",color:{type:"quantile",n:9,scheme:"blues"},marks:[eS(s,{strokeOpacity:.5,strokeWidth:.01,precision:.01,fill:m=>m.properties.OBJECTID})]};n(1,i=Xl(h)),f=i.children[1];let p=document.getElementById("svgcontainer");p.innerHTML="",p.append(f)}function l(u){or[u?"unshift":"push"](()=>{a=u,n(0,a)})}return e.$$set=u=>{"spec"in u&&n(2,r=u.spec),"theplot"in u&&n(1,i=u.theplot)},[a,i,r,c,l]}let Pk=class extends ct{constructor(t){super(),lt(this,t,Fk,Ok,ut,{spec:2,theplot:1,render:3})}get spec(){return this.$$.ctx[2]}set spec(t){this.$$set({spec:t}),ne()}get theplot(){return this.$$.ctx[1]}set theplot(t){this.$$set({theplot:t}),ne()}get render(){return this.$$.ctx[3]}};function _0(e){let t,n;return{c(){t=Q("p"),n=vt(e[3])},l(r){t=ee(r,"P",{});var i=te(t);n=wt(i,e[3]),i.forEach(q)},m(r,i){ve(r,t,i),Y(t,n)},p(r,i){i&8&&Xt(n,r[3])},d(r){r&&q(t)}}}function Bk(e){let t,n,r,i,a,s=e[3]&&_0(e);function f(l){e[15](l)}let c={min:+e[0],max:+e[1],step:+e[2],float:!0,first:"label",last:"label",springValues:!0,id:"SingleSlider"};return e[7]!==void 0&&(c.value=e[7]),r=new Gb({props:c}),or.push(()=>w0(r,"value",f)),r.$on("start",e[9]),r.$on("change",e[8]),r.$on("stop",e[10]),{c(){t=Q("div"),s&&s.c(),n=Se(),Fc(r.$$.fragment),this.h()},l(l){t=ee(l,"DIV",{class:!0,id:!0});var u=te(t);s&&s.l(u),n=ke(u),Pc(r.$$.fragment,u),u.forEach(q),this.h()},h(){$(t,"class","px-[1%] py-[1%] ml-[2.1%]"),$(t,"id","SingleSlider")},m(l,u){ve(l,t,u),s&&s.m(t,null),Y(t,n),Bc(r,t,null),a=!0},p(l,[u]){l[3]?s?s.p(l,u):(s=_0(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),u&4&&(d.step=+l[2]),!i&&u&128&&(i=!0,d.value=l[7],x0(()=>i=!1)),r.$set(d)},i(l){a||(Ve(r.$$.fragment,l),a=!0)},o(l){We(r.$$.fragment,l),a=!1},d(l){l&&q(t),s&&s.d(),$c(r)}}}function $k(e,t,n){let r,i=Ee,a=()=>(i(),i=nn(x,E=>n(16,r=E)),x),s,f=Ee,c=()=>(f(),f=nn(v,E=>n(17,s=E)),v),l,u=Ee,d=()=>(u(),u=nn(y,E=>n(18,l=E)),y);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=1,step:m=.01,id:g,description:b}=t,{change:v=rt({})}=t;c();let{stop:y=rt({})}=t;d();let{drag:x=rt({})}=t;a();let{interactions:_={change:v,stop:y,drag:x}}=t;S0("dims");let w=h;function k(E){console.log("Slider.render",E),E&&!isNaN(E)&&(n(7,w=+E),console.log("Slider.render.to",w)),w!==void 0&&C()}function S(E,D){console.log("Slider.load",E,D),tr("value")(E)&&(E=E??{value:h},n(7,w=E.value??h),C())}function C(){v.isActive&&ze(v,s={value:w},s),x.isActive&&ze(x,r={value:w},r)}function I(){x.isActive&&ze(x,r={value:w},r)}function T(){y.isActive&&ze(y,l={value:w},l),v.isActive&&ze(v,s={value:w},s),x.isActive&&ze(x,r={value:w},r)}function M(E){w=E,n(7,w)}return e.$$set=E=>{"min"in E&&n(0,h=E.min),"max"in E&&n(1,p=E.max),"step"in E&&n(2,m=E.step),"id"in E&&n(11,g=E.id),"description"in E&&n(3,b=E.description),"change"in E&&c(n(4,v=E.change)),"stop"in E&&d(n(5,y=E.stop)),"drag"in E&&a(n(6,x=E.drag)),"interactions"in E&&n(12,_=E.interactions)},[h,p,m,b,v,y,x,w,C,I,T,g,_,k,S,M]}class Rk extends ct{constructor(t){super(),lt(this,t,$k,Bk,ut,{min:0,max:1,step:2,id:11,description:3,change:4,stop:5,drag:6,interactions:12,render:13,load:14})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ne()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ne()}get step(){return this.$$.ctx[2]}set step(t){this.$$set({step:t}),ne()}get id(){return this.$$.ctx[11]}set id(t){this.$$set({id:t}),ne()}get description(){return this.$$.ctx[3]}set description(t){this.$$set({description:t}),ne()}get change(){return this.$$.ctx[4]}set change(t){this.$$set({change:t}),ne()}get stop(){return this.$$.ctx[5]}set stop(t){this.$$set({stop:t}),ne()}get drag(){return this.$$.ctx[6]}set drag(t){this.$$set({drag:t}),ne()}get interactions(){return this.$$.ctx[12]}set interactions(t){this.$$set({interactions:t}),ne()}get render(){return this.$$.ctx[13]}get load(){return this.$$.ctx[14]}}const jk=Object.freeze(Object.defineProperty({__proto__:null,Alert:ok,BarGrouped:RS,Container:SS,CropCal:zS,DropDown:ZS,Header:qy,Line:ES,Login:ek,Map:Pk,MatchingTable:VS,MatchingTableBackend:By,OverlayBackend:$y,QueryBackend:Ry,QueryUpdate:Lk,SingleSlider:Rk,Slider:PS,Spinner:zy,Textbox:rk},Symbol.toStringTag,{value:"Module"}));let qk=Of(jk,d6);function qo(e,t){if(!e)throw new Error(t)}function zk(e){let t=e.replaceAll(/\$\w+/g,n=>`o['${n.substring(1)}']`);return new Function("o",`return ${t}`)}const iy=Bf(P0($e(Array),$e(Object)),Fn(e=>iy(e)),zk);let Tf={};class Uk{constructor(t,n){this.magic=t,this.config=n,this.backends={},this.interactions={},this.views={},this.viewIdToViews,this.deferred=[],this._deferredMode=!1;const r=a=>s=>{let f=this.magic.backend[a](s);return f.type=a,f};["overlay","duckdb","array","identity"].forEach(a=>this[a]=r(a)),this.root=document.createElement("div"),document.body.appendChild(this.root),this.loadBackends(n.backends??[]),this.loadViews(n.views??[]),this._deferredMode=!0,this.deferred.forEach(a=>a())}defer(t,n){if(this._deferredMode)throw new Error(n);this.deferred.push(t.bind(this))}async init(){for(let t of un(this.backends))t.type=="duckdb"&&await t.init();await this.loadDependencies(this.config.dependencies??[]);for(let t of un(this.backends))switch(t.type){case"array":t.execute();break;case"query":await t.execute();break;case"matching":await t.execute();break}ln((t,n)=>{var r;(r=this.views[n])==null||r.load(t())},this.magic.dependencies.defaults);for(let t of un(this.backends))t.save&&this.magic.saveBackends(t)}newName(t="name"){return Tf[t]=Tf[t]??0,`${t}${Tf[t]++}`}loadBackends(t){let n=gu(this.createBackend.bind(this));return A0(r=>r.type=="duckdb",t).forEach(n),O0(r=>r.type=="duckdb",t).forEach(n),this}createBackend(t){let n=t.name??(t.type?this.newName(t.type):this.newName("backend"));if(this.backends[n])throw new Error(`Backend ${n} already exists`);let r=null;if(t.type)r=this[t.type](t);else if(t.query)r=this.query(t);else if(t.matching)r=this.matching(t);else{if(t.backend)return this.backends[t.backend];if(t.interaction){r=this.identity();let i=this.interactions[t.interaction];Ae(i)&&this.defer(()=>this.createBackend(t),`Interaction ${t.interaction} not found`),r&&i&&this.magic.connect(r,i)}else if(t.array)r=this.array({...t,data:t.array});else throw new Error("Can't initialize backend config:",t)}return qo(!Ae(r),`Backend is null ${r.type}`),qo(!Ae(r.type),`New Backend must have type attr ${JSON.stringify(t)}`),r.save=t.save,this.backends[n]=r,r}matching({name:t,ignore_cols:n,default_func:r,backend:i,matching:a,defaults:s={}}){i=$e(String,i)?this.backends[i]:i,t=t??this.newName("matching");let f=this.magic.backend.matching({id:t,backend:i,default_func:r,matching:a,ignore_cols:n,defaults:s});return f.type="matching",f}query({name:t,query:n,defaults:r={},db:i="duckdb"}){i=$e(String,i)?this.backends[i]:i,t=t??this.newName("query");let a=this.magic.backend.query({id:t,backend:i,query:n,name:t,defaults:r});return a.type="query",a}loadViews(t){t=t??[];let n=t.map(r=>{let i=this.canonicalizeData(r.data),a=this.makeView(r);return this.views[r.name]=a,this.magic.view(a),a.backends=Ri(a.backends??[],i??[]),a.backends.forEach(s=>{this.magic.render(s,a)}),a});U2(t,n).forEach(([r,i])=>{(r.interactions??[]).forEach(s=>{this.connectInteractions(i,s)})})}connectInteractions(t,{to:n,name:r,type:i,defaults:a}){let s=t.interactions[i];if(Ae(s))throw new Error(`Interaction ${i} not found in View ${t.id}`);if(this.interactions[r]=s,Ae(a)||this.magic.dependencies.setDefault(t,()=>a),Ae(n)||bt(n)){this.magic.connect(null,s,null);return}($e(Array,n)?n:[n]).forEach(c=>{c=$e(String,c)?{backend:c}:c;let l=this.backends[c.backend],u=iy(mu(["opts","backend","view"],c));if(Ae(l)){let d=c.view;if(/\w+\.\d+/.test(d)){let[h,p]=d.split(".");l=this.views[h].backends[parseInt(p)],qo(!Ae(l),`Backend not found ${d}`)}else{let h=this.views[d];Ae(h)&&this.defer(()=>this.connectInteractions(t,{to:c,name:r,type:i,defaults:a}),`Interaction references nonexistent backend ${c.backend} and view ${d}`),l=this.identity(),this.magic.render(l,h)}}this.magic.connect(l,s,u)})}makeView(t){let n=t.type,r=mu(["data","interactions"],t);r.id=r.id??r.name??this.newName(n);let i=null;t.selector?i=document.querySelector(t.selector):(i=document.createElement("div"),this.root.appendChild(i)),console.log("new View",n,r);let a=new qk[n]({target:i,props:r});return a.el=i,a}canonicalizeData(t){if($e(String,t)){let n=this.backends[t];return qo(!Ae(n),`Backend named ${t} not found`),[n]}return t=$e(Array,t)?t:[t],Hc(tr(Uy,t[0]),["query","matching","backend","interaction"])||(t=[{array:t}]),t.map(gu(this.createBackend.bind(this)))}async loadDependencies(t){(t??[]).forEach(({source:n,attr:r,target:i})=>{let a=null;if(a=this.interactions[n],Ae(a)&&/\w+\.\w+/.test(n)){let[f,c]=n.split(".");a=this.views[f].interactions[c]}if(Ae(a))throw new Error(`Interaction not found ${n}`);($e(Array,i)?i:[i]).forEach(async f=>{f=$e(String,f)?{view:f}:f;let c=f.view,l=this.views[c];if(Ae(l))throw new Error("View not found: ",c);let u;if(tr("function")(f.defaults)){let d=await this.backends[f.defaults.backend].execute();u=new Function("e","a",f.defaults.function).bind(d)}else u=f.defaults?()=>f.defaults:null;this.magic.dependencies.add(a.get(r),l,null,u)})})}}class Wa{constructor(t){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=t}get array(){return this._array}}const oy=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Wa(i),f=new Wa(a),c=s.compPos(f.array),l=f.getPos(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},ay=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Wa(i),f=new Wa(a),c=s.compZero(f.array),l=f.getZero(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},Hk=function(e,t,n,r){return oy(e,t,n,r)},Vk=function(e,t,n,r){return ay(e,t,n,r)},Wk=function(e,t,n,r){let i=Number(oy(e,t,n,r)),a=Number(ay(e,t,n,r));return((i+a)/2).toFixed(2)};let Yk=[{"true positive":Hk,"true negative":Vk,"average matching":Wk}];const Xk=`backends:
- type: duckdb
  name: duckdb
  sources:
  - parquet: "admin_raw.parquet"
    name: "admin_raw"
  - parquet: "chirps_raw.parquet"
    name: "chirps_raw"
  - parquet: "crop_cal_raw.parquet"
    name: crop_cal_raw
  - parquet: "badyear_raw.parquet"
    name: badyear_raw
- type: query
  name: climatology
  # query doesn't have source/sources -- assumes all data is loaded already
  db: duckdb
  query: "" # if query name is in model out, will pull query from there, replacing this text 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 50
    crop: "Groundnuts"
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: severity_combined 
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: badyear 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: matching 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal_dropdown_query
  db: duckdb
  query: ""
  defaults:
    region: 1128
- type: matching
  name: mtb 
  ignore_cols:
    - year
    - gid
    - value
  default_func: "true positive" 
  backend: matching
  #TODO: how to integrate functions into yaml 
  matching: ""
  defaults:
    region: 1128
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: default_q 
  db: duckdb
  query: "SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last FROM admin_raw ORDER BY gid"
- type: overlay
  name: overlay
views:
- type: Login
  name: Login
  selector: "#login"
  dataTable: Nigeria_Data
  stateTable: Nigeria_State
- type: Line
  name: climatology_chart
  selector: "#chart-1"
  xAttr: dekad 
  yAttr: average_value
  data:
  - backend: climatology
  - backend: overlay
    target: overlay
- type: CropCal 
  name: crop_calendar 
  selector: "#chart-2"
  xDomainMin: 1
  xDomainMax: 36
  data:
  - backend: crop_cal
  - backend: overlay
    target: overlay
- type: BarGrouped
  name: severity_combined
  selector: "#chart-3"
  xAttr: year
  yAttr: value
  yMax: 1
  xDomainMin: 1990
  xDomainMax: 2024
  groupNames:
    - sum_early
    - sum_late
    - combined_severity
  data:
  - backend: severity_combined
  - backend: badyear
  - backend: overlay
    target: overlay
- type: MatchingTable
  name: matching_table
  selector: "#chart-4"
  data:
  - backend: mtb
- type: DropDown
  name: Region_Dropdown
  selector: "#dropdown-1"
  interactions:
    - type: change
      name: ddc
      defaults:
        region: 1128
      to:
        - backend: climatology
          region: $gid
        - backend: mtb
          region: $gid
        - backend: crop_cal
          region: $gid
        - backend: severity_combined 
          region: $gid
        - backend: badyear
          region: $gid
        - backend: crop_cal_dropdown_query
          region: $gid
  index: 0
  dropdown_key: district
  data: 
  - query: "SELECT gid, district FROM admin_raw ORDER BY gid"
- type: DropDown
  name: Crop_Calendar_Dropdown
  selector: "#dropdown-3"
  interactions:
    - type: change
      name: ddc-crop-cal
      to:
        - backend: crop_cal
          crop: $crop
  index: 0
  dropdown_key: crop
  data:
  - backend: crop_cal_dropdown_query
- type: DropDown
  name: Matching_Dropdown
  selector: "#dropdown-2"
  interactions:
    - type: change
      name: ddc-matching
      to:
        - backend: mtb
          func_elected: $value
  index: 0
  dropdown_key: value
  data:
  - query: "SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);"
- type: Slider
  name: PlantEarly
  selector: "#slider-1"
  min: 1
  max: 36
  description: "CHIRPS sum early"
  interactions:
  - type: change
    to: 
    - backend: severity_combined 
      sum_early_first: $left
      sum_early_last: $right
    - backend: mtb 
      sum_early_first: $left
      sum_early_last: $right
    - backend: overlay
      sum_early:
        left: $left
        right: $right
- type: Slider
  name: PlantLate
  selector: "#slider-2"
  min: 1
  max: 36
  description: "CHIRPS sum late"
  interactions:
  - type: change
    to: 
    - backend: severity_combined
      sum_late_first: $left
      sum_late_last: $right
    - backend: mtb 
      sum_late_first: $left
      sum_late_last: $right
    - backend: overlay
      sum_late:
        left: $left
        right: $right
#- type: SingleSlider
#name: frequency
#selector: "#SingleSlider"
#min: 0
#max: 1
#description: "Frequency"

#- type: Alert
#  name: Alert
#  selector: "#alert"
#  threshold_string: "1.0"
#  key: "combined_severity"
#  data:
#    - backend: severity_combined
#  interactions:
#  - type: valid
dependencies:
- source: ddc
  attr: "gid"
  target:
    - view: PlantEarly
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_early_first,  right: row.chirps_early_last}
        ;"
    - view: PlantLate
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_late_first,  right: row.chirps_late_last}
        ;"
`,zo="1.11.2";var pn=[],jt=[],Gk=Uint8Array,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zr=0,Kk=Cf.length;zr<Kk;++zr)pn[zr]=Cf[zr],jt[Cf.charCodeAt(zr)]=zr;jt["-".charCodeAt(0)]=62;jt["_".charCodeAt(0)]=63;function Zk(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Jk(e,t,n){return(t+n)*3/4-n}function Ya(e){var t,n=Zk(e),r=n[0],i=n[1],a=new Gk(Jk(e,r,i)),s=0,f=i>0?r-4:r,c;for(c=0;c<f;c+=4)t=jt[e.charCodeAt(c)]<<18|jt[e.charCodeAt(c+1)]<<12|jt[e.charCodeAt(c+2)]<<6|jt[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=jt[e.charCodeAt(c)]<<2|jt[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=jt[e.charCodeAt(c)]<<10|jt[e.charCodeAt(c+1)]<<4|jt[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function Qk(e){return pn[e>>18&63]+pn[e>>12&63]+pn[e>>6&63]+pn[e&63]}function eM(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Qk(r));return i.join("")}function Xa(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(eM(e,s,s+a>f?f:s+a));return r===1?(t=e[n-1],i.push(pn[t>>2]+pn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(pn[t>>10]+pn[t>>4&63]+pn[t<<2&63]+"=")),i.join("")}function Uo(e){if(e===void 0)return{};if(!sy(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function tM(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);if(!(e.indexOf("127.0.0.1")!==-1||e.indexOf("localhost")!==-1)&&!e.endsWith(".convex.cloud")&&!e.includes("0.0.0.0"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${e}".`)}function sy(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const fy=!0,ci=BigInt("-9223372036854775808"),Ql=BigInt("9223372036854775807"),Ic=BigInt("0"),nM=BigInt("8"),rM=BigInt("256");function cy(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function iM(e){e<Ic&&(e-=ci+ci);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=nM;return Xa(n)}function oM(e){const t=Ya(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Ic,r=Ic;for(const i of t)n+=BigInt(i)*rM**r,r++;return n>Ql&&(n+=ci+ci),n}function aM(e){if(e<ci||Ql<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Xa(new Uint8Array(t))}function sM(e){const t=Ya(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const fM=DataView.prototype.setBigInt64?aM:iM,cM=DataView.prototype.getBigInt64?sM:oM,v0=1024;function Lc(e){if(e.length>v0)throw new Error(`Field name ${e} exceeds maximum field name length ${v0}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function pr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>pr(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Ya(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return cM(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Ya(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,fy);if(!cy(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))Lc(r),n[r]=pr(i);return n}function Kr(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function Ga(e,t,n,r){var s;if(e===void 0){const f=n&&` (present at path ${n} in original object ${Kr(t)})`;throw new Error(`undefined is not a valid Convex value${f}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ci||Ql<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:fM(e)}}if(typeof e=="number")if(cy(e)){const f=new ArrayBuffer(8);return new DataView(f).setFloat64(0,e,fy),{$float:Xa(new Uint8Array(f))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Xa(new Uint8Array(e))};if(Array.isArray(e))return e.map((f,c)=>Ga(f,t,n+`[${c}]`,!1));if(e instanceof Set)throw new Error(Nf(n,"Set",[...e],t));if(e instanceof Map)throw new Error(Nf(n,"Map",[...e],t));if(!sy(e)){const f=(s=e==null?void 0:e.constructor)==null?void 0:s.name,c=f?`${f} `:"";throw new Error(Nf(n,c,e,t))}const i={},a=Object.entries(e);a.sort(([f,c],[l,u])=>f===l?0:f<l?-1:1);for(const[f,c]of a)c!==void 0?(Lc(f),i[f]=Ga(c,t,n+`.${f}`,!1)):r&&(Lc(f),i[f]=lM(c,t,n+`.${f}`));return i}function Nf(e,t,n,r){return e?`${t}${Kr(n)} is not a supported Convex type (present at path ${e} in original object ${Kr(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Kr(n)} is not a supported Convex type.`}function lM(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${Kr(e)} but original value is undefined`);return Ga(e,t,n,!1)}function Ho(e){return Ga(e,e,"",!1)}var ly;const uM=Symbol.for("ConvexError");class Vo extends Error{constructor(t){super(typeof t=="string"?t:Kr(t)),this.name="ConvexError",this[ly]=!0,this.data=t}}ly=uM;const dM="color:rgb(0, 145, 255)";function hM(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function Wo(e,t,n,r){const i=hM(t);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),e==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,dM,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const uy=Symbol.for("functionName");function Yo(e){if(typeof e=="string")return e;const t=e[uy];if(!t)throw new Error(`${e} is not a functionReference`);return t}function dy(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return dy(i)}else if(r===uy){if(e.length<2){const s=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}dy();const Xo=560;class pM{constructor(t){tM(t),this.address=`${t}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${t}:${i}`}else this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}setFetchOptions(t){this.fetchOptions=t}async query(t,...n){const r=Uo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ho(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${zo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/query`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Xo)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Wo("info","query",i,u);switch(l.status){case"success":return pr(l.value);case"error":throw l.errorData!==void 0?Go(l.errorData,new Vo(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async mutation(t,...n){const r=Uo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ho(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${zo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Xo)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Wo("info","mutation",i,u);switch(l.status){case"success":return pr(l.value);case"error":throw l.errorData!==void 0?Go(l.errorData,new Vo(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async action(t,...n){const r=Uo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ho(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${zo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/action`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Xo)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Wo("info","action",i,u);switch(l.status){case"success":return pr(l.value);case"error":throw l.errorData!==void 0?Go(l.errorData,new Vo(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async function(t,...n){const r=Uo(n[0]),i=typeof t=="string"?t:Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:Ho(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${zo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/function`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Xo)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Wo("info","any",i,u);switch(l.status){case"success":return pr(l.value);case"error":throw l.errorData!==void 0?Go(l.errorData,new Vo(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}}function Go(e,t){return t.data=pr(e),t}function gM(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,y,x,_,w,k,S,C,I,T,M;return{c(){t=Q("div"),n=Se(),r=Q("div"),i=Q("div"),a=Q("div"),s=Se(),f=Q("div"),c=Se(),l=Q("div"),u=Q("div"),d=Se(),h=Q("div"),p=Se(),m=Q("div"),g=Se(),b=Q("div"),v=Se(),y=Q("div"),x=Se(),_=Q("div"),w=Q("div"),k=Se(),S=Q("div"),C=Se(),I=Q("div"),T=Se(),M=Q("div"),this.h()},l(E){t=ee(E,"DIV",{id:!0}),te(t).forEach(q),n=ke(E),r=ee(E,"DIV",{class:!0});var D=te(r);i=ee(D,"DIV",{class:!0});var B=te(i);a=ee(B,"DIV",{id:!0}),te(a).forEach(q),s=ke(B),f=ee(B,"DIV",{id:!0}),te(f).forEach(q),B.forEach(q),c=ke(D),l=ee(D,"DIV",{});var A=te(l);u=ee(A,"DIV",{id:!0}),te(u).forEach(q),d=ke(A),h=ee(A,"DIV",{id:!0}),te(h).forEach(q),p=ke(A),m=ee(A,"DIV",{id:!0}),te(m).forEach(q),g=ke(A),b=ee(A,"DIV",{id:!0}),te(b).forEach(q),v=ke(A),y=ee(A,"DIV",{id:!0}),te(y).forEach(q),A.forEach(q),x=ke(D),_=ee(D,"DIV",{});var P=te(_);w=ee(P,"DIV",{id:!0}),te(w).forEach(q),k=ke(P),S=ee(P,"DIV",{id:!0}),te(S).forEach(q),C=ke(P),I=ee(P,"DIV",{id:!0}),te(I).forEach(q),T=ke(P),M=ee(P,"DIV",{id:!0}),te(M).forEach(q),P.forEach(q),D.forEach(q),this.h()},h(){$(t,"id","alert"),$(a,"id","login"),$(f,"id","dropdown-1"),$(i,"class","col-span-2"),$(u,"id","chart-1"),$(h,"id","dropdown-3"),$(m,"id","chart-2"),$(b,"id","slider-1"),$(y,"id","slider-2"),$(w,"id","chart-3"),$(S,"id","dropdown-2"),$(I,"id","chart-4"),$(M,"id","SingleSlider"),$(r,"class","grid grid-cols-2")},m(E,D){ve(E,t,D),ve(E,n,D),ve(E,r,D),Y(r,i),Y(i,a),Y(i,s),Y(i,f),Y(r,c),Y(r,l),Y(l,u),Y(l,d),Y(l,h),Y(l,p),Y(l,m),Y(l,g),Y(l,b),Y(l,v),Y(l,y),Y(r,x),Y(r,_),Y(_,w),Y(_,k),Y(_,S),Y(_,C),Y(_,I),Y(_,T),Y(_,M)},p:Ee,i:Ee,o:Ee,d(E){E&&q(t),E&&q(n),E&&q(r)}}}function mM(e,t,n){let r;na(e,uu,l=>n(1,r=l));let i=pM;const a=new i("https://rightful-anteater-150.convex.cloud");a.mutation("saveParams"),a.query("getParams");let s=t4(Xk,"utf8");console.log(s),ze(uu,r=new jy,r);let f=new oS(r),c;return wy(async()=>{(s.backends??[]).forEach(l=>{l.type==="matching"?l.matching=Yk:tr(l.name)(du)&&(l.query=du[l.name].query)}),(s.views??[]).forEach(l=>{l.type==="Login"&&(l.magic=f,l.exportFunc="saveToConvex",l.importFunc="getFromConvex",l.client=a)}),c=new Uk(f,s),await c.init()}),[]}class MM extends ct{constructor(t){super(),lt(this,t,mM,gM,ut,{})}}export{MM as default};

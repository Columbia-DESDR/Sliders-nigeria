import{o as Fs,S as mt,i as bt,s as yt,K as ft,e as Q,a as ke,c as ee,b as te,f as q,g as Me,m as $,h as xe,j as G,L as ct,M as lt,N as ut,u as He,q as Ye,U as ae,n as Ne,A as Er,V as Zl,W as fy,X as he,Q as Le,R as ir,p as Ue,Y as Ko,Z as Zo,t as Mt,d as At,k as an,G as Oc,_ as Jl,y as cy,r as ly,$ as uy,C as m0,D as b0,E as y0,F as _0,a0 as Gn,a1 as dy,a2 as hy,a3 as py,T as at,O as gy,a4 as Ql,l as to,a5 as my,P as no,a6 as by,a7 as yy,w as _y}from"./index.93104ad7.js";import{_ as De,c as eu,d as v0,e as li,g as mr,h as Jo,j as Zr,k as Qn,l as Df,n as vy,r as w0,o as ln,p as If,q as wy,s as xy,t as x0,u as S0,w as Ae,x as Sy,y as ky,z as k0,i as Lf,A as My,C as ro,S as tu,D as Ay,E as Fc,F as Pc,R as Qo,G as Bc,H as M0,I as nu,J as ru,K as Ey,L as er,M as iu,N as Ri,O as Ty,P as au,Q as St,T as Rc,U as Cy,V as ou,W as Ny,X as io,Y as A0,Z as ao,$ as Re,f as cn,a0 as ht,a1 as Dy,m as Iy,a2 as Of,a3 as Ly,a4 as Oy,a5 as Fy,a6 as Py,a7 as By,B as Ry,b as su}from"./index.31bca6e7.js";import{w as Et}from"./paths.8cce3053.js";import{H as $y,S as jy}from"./Header.806dd032.js";import{m as fu}from"./model_out.3fff412c.js";const qy={"@@functional/placeholder":!0};var zy=De(function(t,n){return Number(t)+Number(n)});function E0(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var f;s<t.length&&(!eu(t[s])||i>=arguments.length)?f=t[s]:(f=arguments[i],i+=1),r[s]=f,eu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):v0(a,E0(e,r,n))}}var br=De(function(t,n){return t===1?li(n):v0(t,E0(t,[],n))});function Uy(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var Hy=De(function(t,n){return n>t?n:t});function Ga(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var Vy=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=mr.init,e.prototype["@@transducer/result"]=mr.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),Wy=De(function(t,n){return new Vy(t,n)}),Yy=De(Jo(["fantasy-land/map","map"],Wy,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return br(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Zr(function(r,i){return r[i]=t(n[i]),r},{},Qn(n));default:return Ga(t,n)}}));const On=Yy,Xy=Number.isInteger||function(t){return t<<0===t};var Gy=De(function(t,n){var r=t<0?n.length+t:t;return Df(n)?n.charAt(r):n[r]});const T0=Gy;var Ky=De(function(t,n){if(n!=null)return Xy(t)?T0(t,n):n[t]});const Ff=Ky;var Zy=De(function(t,n){return On(Ff(t),n)});const $c=Zy;var Jy=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=mr.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=Uy(this.xf["@@transducer/step"](t,!0))),t},e}(),Qy=De(function(t,n){return new Jy(t,n)}),e2=De(Jo(["any"],Qy,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1}));const jc=e2;var t2=De(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:Zr(function(r,i){return vy(r,On(i,n))},[],t)}),n2=De(function(t,n){return t.apply(this,n)});function cu(e,t){return If(t)?t.map(e):Qn(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var r2=li(function e(t){return t=cu(function(n){return typeof n=="function"?n:e(n)},t),br(w0(Hy,0,$c("length",ln(t))),function(){var n=arguments;return cu(function(r){return n2(r,n)},t)})});const lu=r2;function Pf(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var i2=De(function(t,n){var r=br(t,n);return br(t,function(){return Zr(t2,On(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),a2=li(function(t){return i2(t.length,t)});function o2(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var s2=function(e){return{"@@transducer/init":mr.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?o2(r):r}}},f2=function(t){var n=s2(t);return{"@@transducer/init":mr.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return wy(i)?Zr(n,r,i):Zr(n,r,[i])}}},c2=De(function(t,n){return On(t,f2(n))}),l2=De(Jo(["fantasy-land/chain","chain"],c2,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:xy(!1)(On(t,n))}));const C0=l2;function Ps(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var yi=function(t){return(t<10?"0":"")+t},u2=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+yi(t.getUTCMonth()+1)+"-"+yi(t.getUTCDate())+"T"+yi(t.getUTCHours())+":"+yi(t.getUTCMinutes())+":"+yi(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function d2(e){return function(){return!e.apply(this,arguments)}}var h2=De(function(t,n){return x0(d2(t),n)});const N0=h2;function D0(e,t){var n=function(s){var f=t.concat([e]);return S0(s,f)?"<Circular>":D0(s,f)},r=function(a,s){return Ga(function(f){return Ps(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Ga(n,e).join(", ")+"))";case"[object Array]":return"["+Ga(n,e).concat(r(e,N0(function(a){return/^\d+$/.test(a)},Qn(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):Ps(u2(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":Ps(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,Qn(e)).join(", ")+"}"}}var Bs=li(function(t){return D0(t,[])}),p2=De(function(t,n){if(If(t)){if(If(n))return t.concat(n);throw new TypeError(Bs(n)+" is not an array")}if(Df(t)){if(Df(n))return t+n;throw new TypeError(Bs(n)+" is not a string")}if(t!=null&&Pf(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&Pf(t.concat))return t.concat(n);throw new TypeError(Bs(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const $i=p2;var g2=li(function(t){return br(t.length,t)});const uu=g2;var m2=T0(-1);const Rs=m2;var b2=De(function(t,n){return t||n}),y2=De(function(t,n){return Pf(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:a2(b2)(t,n)});const I0=y2;var _2=li(function(t){return br(t.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,t.apply(this,i)})}),v2=De(function(t,n){if(t.length===0||Ae(n))return!1;for(var r=n,i=0;i<t.length;)if(!Ae(r)&&Sy(t[i],r))r=r[t[i]],i+=1;else return!1;return!0}),w2=De(function(t,n){return v2([t],n)});const yr=w2;var x2=ky(function(t,n,r){return br(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const Bf=x2;var S2=function(){function e(t,n){this.xf=n,this.f=t,this.set=new k0}return e.prototype["@@transducer/init"]=mr.init,e.prototype["@@transducer/result"]=mr.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),k2=De(function(t,n){return new S2(t,n)}),M2=De(Jo([],k2,function(e,t){for(var n=new k0,r=[],i=0,a,s;i<t.length;)s=t[i],a=e(s),n.add(a)&&r.push(s),i+=1;return r})),A2=M2(Lf),E2=De(function(t,n){var r,i;return t.length>n.length?(r=t,i=n):(r=n,i=t),A2(My(_2(S0)(r),i))});const T2=E2;var C2=De(function(t,n){return Zr(function(r,i){return r[i]=t(n[i],i,n),r},{},Qn(n))});const N2=C2;var D2=w0(zy,0);const I2=D2;var L2=De(function(t,n){for(var r={},i={},a=0,s=t.length;a<s;)i[t[a]]=1,a+=1;for(var f in n)i.hasOwnProperty(f)||(r[f]=n[f]);return r});const du=L2;var O2=De(function(t,n){for(var r={},i=0;i<t.length;)t[i]in n&&(r[t[i]]=n[t[i]]),i+=1;return r});const F2=O2;var P2=De(function(t,n){return Array.prototype.slice.call(n,0).sort(t)});const B2=P2;var R2=De(function(t,n){return $i(ro(t,n),ro(n,t))});const $2=R2;var j2=De(function(t,n){for(var r=[],i=0,a=Math.min(t.length,n.length);i<a;)r[i]=[t[i],n[i]],i+=1;return r});const q2=j2;function Tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ji(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function es(e){let t,n,r;e.length!==2?(t=Tt,n=(f,c)=>Tt(e(f),c),r=(f,c)=>e(f)-c):(t=e===Tt||e===Ji?e:z2,n=e,r=e);function i(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<0?l=d+1:u=d}while(l<u)}return l}function a(f,c,l=0,u=f.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;n(f[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function s(f,c,l=0,u=f.length){const d=i(f,c,l,u-1);return d>l&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:s,right:a}}function z2(){return 0}function L0(e){return e===null?NaN:+e}function*U2(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const H2=es(Tt),V2=H2.right;es(L0).center;const qc=V2;function W2(e){return e.length|0}function Y2(e){return!(e>0)}function X2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function G2(e){return t=>e(...t)}function K2(...e){const t=typeof e[e.length-1]=="function"&&G2(e.pop());e=e.map(X2);const n=e.map(W2),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Y2))return a;for(;;){a.push(i.map((f,c)=>e[c][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function Z2(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function O0(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of e)(f=t(f,++s,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function J2(e,t){const n=O0(e,t);return n&&Math.sqrt(n)}function Kn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class _r{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,f=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);f&&(n[r++]=f),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class vr extends Map{constructor(t,n=B0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Rf(this,t))}has(t){return super.has(Rf(this,t))}set(t,n){return super.set(F0(this,t),n)}delete(t){return super.delete(P0(this,t))}}class ts extends Set{constructor(t,n=B0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Rf(this,t))}add(t){return super.add(F0(this,t))}delete(t){return super.delete(P0(this,t))}}function Rf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function P0({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function B0(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $f(e){return e}function zc(e,...t){return Uc(e,$f,$f,t)}function Li(e,t,...n){return Uc(e,$f,t,n)}function Q2(e,t,...n){return Uc(e,Array.from,t,n)}function Uc(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new vr,c=r[s++];let l=-1;for(const u of a){const d=c(u,++l,a),h=f.get(d);h?h.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,s));return t(f)}(e,0)}function e_(e,t){return Array.from(t,n=>e[n])}function jf(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const f=oo(s[i],s[a]);if(f)return f}})):(n=e.map(n),r.sort((i,a)=>oo(n[i],n[a]))),e_(e,r)}return e.sort(R0(n))}function R0(e=Tt){if(e===Tt)return oo;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function oo(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Hc(e,t,n){return(t.length!==2?jf(Li(e,t,n),([r,i],[a,s])=>Tt(i,s)||Tt(r,a)):jf(zc(e,n),([r,i],[a,s])=>t(i,s)||Tt(r,a))).map(([r])=>r)}const t_=Math.sqrt(50),n_=Math.sqrt(10),r_=Math.sqrt(2);function so(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=t_?10:a>=n_?5:a>=r_?2:1;let f,c,l;return i<0?(l=Math.pow(10,-i)/s,f=Math.round(e*l),c=Math.round(t*l),f/l<e&&++f,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*s,f=Math.round(e/l),c=Math.round(t/l),f*l<e&&++f,c*l>t&&--c),c<f&&.5<=n&&n<2?so(e,t,n*2):[f,c,l]}function fo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?so(t,e,n):so(e,t,n);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(s<0)for(let l=0;l<f;++l)c[l]=(a-l)/-s;else for(let l=0;l<f;++l)c[l]=(a-l)*s;else if(s<0)for(let l=0;l<f;++l)c[l]=(i+l)/-s;else for(let l=0;l<f;++l)c[l]=(i+l)*s;return c}function qf(e,t,n){return t=+t,e=+e,n=+n,so(e,t,n)[2]}function zf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?qf(t,e,n):qf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function It(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function i_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function bn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function a_(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function $0(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?oo:R0(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),p=Math.max(n,Math.floor(t-l*d/c+h)),m=Math.min(r,Math.floor(t+(c-l)*d/c+h));$0(e,t,p,m,i)}const a=e[t];let s=n,f=r;for(_i(e,n,t),i(e[r],a)>0&&_i(e,n,r);s<f;){for(_i(e,s,f),++s,--f;i(e[s],a)<0;)++s;for(;i(e[f],a)>0;)--f}i(e[n],a)===0?_i(e,n,f):(++f,_i(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function _i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function j0(e,t=Tt){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Tt(s,i)>0:Tt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function co(e,t,n){if(e=Float64Array.from(U2(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bn(e);if(t>=1)return It(e);var r,i=(r-1)*t,a=Math.floor(i),s=It($0(e,a).subarray(0,a+1)),f=bn(e.subarray(a+1));return s+(f-s)*(i-a)}}function o_(e,t,n=L0){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),f=+n(e[a+1],a+1,e);return s+(f-s)*(i-a)}}function s_(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Uf(e,t){return co(e,.5,t)}function*f_(e){for(const t of e)yield*t}function q0(e){return Array.from(f_(e))}function c_(e,t){const n=new vr;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function l_(e,t=u_){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function u_(e,t){return[e,t]}function Hf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function wr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function lo(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function d_(e){return e}var $s=1,js=2,Vf=3,Ma=4,hu=1e-6;function h_(e){return"translate("+e+",0)"}function p_(e){return"translate(0,"+e+")"}function g_(e){return t=>+e(t)}function m_(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function b_(){return!this.__axis}function y_(e,t){var n=[],r=null,i=null,a=6,s=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===$s||e===Ma?-1:1,u=e===Ma||e===js?"x":"y",d=e===$s||e===Vf?h_:p_;function h(p){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):d_),b=Math.max(a,0)+f,v=t.range(),_=+v[0]+c,x=+v[v.length-1]+c,y=(t.bandwidth?m_:g_)(t.copy(),c),w=p.selection?p.selection():p,k=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(m,t).order(),T=S.exit(),I=S.enter().append("g").attr("class","tick"),A=S.select("line"),M=S.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(I),A=A.merge(I.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),M=M.merge(I.append("text").attr("fill","currentColor").attr(u,l*b).attr("dy",e===$s?"0em":e===Vf?"0.71em":"0.32em")),p!==w&&(k=k.transition(p),S=S.transition(p),A=A.transition(p),M=M.transition(p),T=T.transition(p).attr("opacity",hu).attr("transform",function(N){return isFinite(N=y(N))?d(N+c):this.getAttribute("transform")}),I.attr("opacity",hu).attr("transform",function(N){var D=this.parentNode.__axis;return d((D&&isFinite(D=D(N))?D:y(N))+c)})),T.remove(),k.attr("d",e===Ma||e===js?s?"M"+l*s+","+_+"H"+c+"V"+x+"H"+l*s:"M"+c+","+_+"V"+x:s?"M"+_+","+l*s+"V"+c+"H"+x+"V"+l*s:"M"+_+","+c+"H"+x),S.attr("opacity",1).attr("transform",function(N){return d(y(N)+c)}),A.attr(u+"2",l*a),M.attr(u,l*b).text(g),w.filter(b_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===js?"start":e===Ma?"end":"middle"),w.each(function(){this.__axis=y})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(a=s=+p,h):a},h.tickSizeInner=function(p){return arguments.length?(a=+p,h):a},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(f=+p,h):f},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function __(e){return y_(Vf,e)}function wt(e){return typeof e=="string"?new tu([[document.querySelector(e)]],[document.documentElement]):new tu([[e]],Ay)}function v_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wf(e,t){if(e=v_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Yf={capture:!0,passive:!1};function Xf(e){e.preventDefault(),e.stopImmediatePropagation()}function w_(e){var t=e.document.documentElement,n=wt(e).on("dragstart.drag",Xf,Yf);"onselectstart"in t?n.on("selectstart.drag",Xf,Yf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function x_(e,t){var n=e.document.documentElement,r=wt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Xf,Yf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const z0=Math.PI/180,U0=180/Math.PI,uo=18,H0=.96422,V0=1,W0=.82521,Y0=4/29,Yr=6/29,X0=3*Yr*Yr,S_=Yr*Yr*Yr;function G0(e){if(e instanceof gn)return new gn(e.l,e.a,e.b,e.opacity);if(e instanceof Dn)return K0(e);e instanceof Qo||(e=M0(e));var t=Hs(e.r),n=Hs(e.g),r=Hs(e.b),i=qs((.2225045*t+.7168786*n+.0606169*r)/V0),a,s;return t===n&&n===r?a=s=i:(a=qs((.4360747*t+.3850649*n+.1430804*r)/H0),s=qs((.0139322*t+.0971045*n+.7141733*r)/W0)),new gn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function Gf(e,t,n,r){return arguments.length===1?G0(e):new gn(e,t,n,r??1)}function gn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Fc(gn,Gf,Pc(Bc,{brighter(e){return new gn(this.l+uo*(e??1),this.a,this.b,this.opacity)},darker(e){return new gn(this.l-uo*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=H0*zs(t),e=V0*zs(e),n=W0*zs(n),new Qo(Us(3.1338561*t-1.6168667*e-.4906146*n),Us(-.9787684*t+1.9161415*e+.033454*n),Us(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qs(e){return e>S_?Math.pow(e,1/3):e/X0+Y0}function zs(e){return e>Yr?e*e*e:X0*(e-Y0)}function Us(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Hs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function k_(e){if(e instanceof Dn)return new Dn(e.h,e.c,e.l,e.opacity);if(e instanceof gn||(e=G0(e)),e.a===0&&e.b===0)return new Dn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*U0;return new Dn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ho(e,t,n,r){return arguments.length===1?k_(e):new Dn(e,t,n,r??1)}function Dn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function K0(e){if(isNaN(e.h))return new gn(e.l,0,0,e.opacity);var t=e.h*z0;return new gn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Fc(Dn,ho,Pc(Bc,{brighter(e){return new Dn(this.h,this.c,this.l+uo*(e??1),this.opacity)},darker(e){return new Dn(this.h,this.c,this.l-uo*(e??1),this.opacity)},rgb(){return K0(this).rgb()}}));var Z0=-.14861,Vc=1.78277,Wc=-.29227,ns=-.90649,ji=1.97294,pu=ji*ns,gu=ji*Vc,mu=Vc*Wc-ns*Z0;function M_(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);e instanceof Qo||(e=M0(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(mu*r+pu*t-gu*n)/(mu+pu-gu),a=r-i,s=(ji*(n-i)-Wc*a)/ns,f=Math.sqrt(s*s+a*a)/(ji*i*(1-i)),c=f?Math.atan2(s,a)*U0-120:NaN;return new hr(c<0?c+360:c,f,i,e.opacity)}function yn(e,t,n,r){return arguments.length===1?M_(e):new hr(e,t,n,r??1)}function hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fc(hr,yn,Pc(Bc,{brighter(e){return e=e==null?nu:Math.pow(nu,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ru:Math.pow(ru,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*z0,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Qo(255*(t+n*(Z0*r+Vc*i)),255*(t+n*(Wc*r+ns*i)),255*(t+n*(ji*r)),this.opacity)}}));function A_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function E_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function T_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ui(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function C_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function N_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ui(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function ui(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ey(t):(n==="number"?er:n==="string"?(r=iu(t))?(t=r,Ri):Ty:t instanceof iu?Ri:t instanceof Date?C_:E_(t)?A_:Array.isArray(t)?T_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N_:er)(e,t)}function Yc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function D_(e){return function(t,n){var r=e((t=au(t)).h,(n=au(n)).h),i=St(t.s,n.s),a=St(t.l,n.l),s=St(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const I_=D_(Rc);function L_(e,t){var n=St((e=Gf(e)).l,(t=Gf(t)).l),r=St(e.a,t.a),i=St(e.b,t.b),a=St(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function O_(e){return function(t,n){var r=e((t=ho(t)).h,(n=ho(n)).h),i=St(t.c,n.c),a=St(t.l,n.l),s=St(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const F_=O_(Rc);function J0(e){return function t(n){n=+n;function r(i,a){var s=e((i=yn(i)).h,(a=yn(a)).h),f=St(i.s,a.s),c=St(i.l,a.l),l=St(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}J0(Rc);var Xc=J0(St);function rs(e,t){t===void 0&&(t=e,e=ui);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function tn(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Vs=e=>()=>e;function P_(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function B_(e){e.stopImmediatePropagation()}function Ws(e){e.preventDefault(),e.stopImmediatePropagation()}var bu={name:"drag"},Ys={name:"space"},Fr={name:"handle"},Pr={name:"center"};const{abs:yu,max:nt,min:rt}=Math;function _u(e){return[+e[0],+e[1]]}function vu(e){return[_u(e[0]),_u(e[1])]}var Ka={name:"x",handles:["w","e"].map(po),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Xs={name:"y",handles:["n","s"].map(po),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},kn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},xu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},R_={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$_={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function po(e){return{type:e}}function j_(e){return!e.ctrlKey&&!e.button}function q_(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function z_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gs(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function U_(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function H_(){return V_(Ka)}function V_(e){var t=q_,n=j_,r=z_,i=!0,a=Cy("start","brush","end"),s=6,f;function c(b){var v=b.property("__brush",g).selectAll(".overlay").data([po("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",kn.overlay).merge(v).each(function(){var x=Gs(this).extent;wt(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),b.selectAll(".selection").data([po("selection")]).enter().append("rect").attr("class","selection").attr("cursor",kn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(e.handles,function(x){return x.type});_.exit().remove(),_.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return kn[x.type]}),b.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,v,_){b.tween?b.on("start.brush",function(x){u(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){u(this,arguments).end(x)}).tween("brush",function(){var x=this,y=x.__brush,w=u(x,arguments),k=y.selection,S=e.input(typeof v=="function"?v.apply(this,arguments):v,y.extent),T=ui(k,S);function I(A){y.selection=A===1&&S===null?null:T(A),l.call(x),w.brush()}return k!==null&&S!==null?I:I(1)}):b.each(function(){var x=this,y=arguments,w=x.__brush,k=e.input(typeof v=="function"?v.apply(x,y):v,w.extent),S=u(x,y).beforestart();ou(x),w.selection=k===null?null:k,l.call(x),S.start(_).brush(_).end(_)})},c.clear=function(b,v){c.move(b,null,v)};function l(){var b=wt(this),v=Gs(this).selection;v?(b.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?v[1][1]-v[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(b,v,_){var x=b.__brush.emitter;return x&&(!_||!x.clean)?x:new d(b,v,_)}function d(b,v,_){this.that=b,this.args=v,this.state=b.__brush,this.active=0,this.clean=_}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,v){return this.starting?(this.starting=!1,this.emit("start",b,v)):this.emit("brush",b),this},brush:function(b,v){return this.emit("brush",b,v),this},end:function(b,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,v)),this},emit:function(b,v,_){var x=wt(this.that).datum();a.call(b,this.that,new P_(b,{sourceEvent:v,target:c,selection:e.output(this.state.selection),mode:_,dispatch:a}),x)}};function h(b){if(f&&!b.touches||!n.apply(this,arguments))return;var v=this,_=b.target.__data__.type,x=(i&&b.metaKey?_="overlay":_)==="selection"?bu:i&&b.altKey?Pr:Fr,y=e===Xs?null:R_[_],w=e===Ka?null:$_[_],k=Gs(v),S=k.extent,T=k.selection,I=S[0][0],A,M,N=S[0][1],D,P,E=S[1][0],j,Z,re=S[1][1],J,Y,H=0,X=0,K,O=y&&w&&i&&b.shiftKey,ne,le,V=Array.from(b.touches||[b],U=>{const ge=U.identifier;return U=Wf(U,v),U.point0=U.slice(),U.identifier=ge,U});ou(v);var se=u(v,arguments,!0).beforestart();if(_==="overlay"){T&&(K=!0);const U=[V[0],V[1]||V[0]];k.selection=T=[[A=e===Xs?I:rt(U[0][0],U[1][0]),D=e===Ka?N:rt(U[0][1],U[1][1])],[j=e===Xs?E:nt(U[0][0],U[1][0]),J=e===Ka?re:nt(U[0][1],U[1][1])]],V.length>1&&ce(b)}else A=T[0][0],D=T[0][1],j=T[1][0],J=T[1][1];M=A,P=D,Z=j,Y=J;var C=wt(v).attr("pointer-events","none"),z=C.selectAll(".overlay").attr("cursor",kn[_]);if(b.touches)se.moved=F,se.ended=fe;else{var W=wt(b.view).on("mousemove.brush",F,!0).on("mouseup.brush",fe,!0);i&&W.on("keydown.brush",de,!0).on("keyup.brush",pe,!0),w_(b.view)}l.call(v),se.start(b,x.name);function F(U){for(const ge of U.changedTouches||[U])for(const Se of V)Se.identifier===ge.identifier&&(Se.cur=Wf(ge,v));if(O&&!ne&&!le&&V.length===1){const ge=V[0];yu(ge.cur[0]-ge[0])>yu(ge.cur[1]-ge[1])?le=!0:ne=!0}for(const ge of V)ge.cur&&(ge[0]=ge.cur[0],ge[1]=ge.cur[1]);K=!0,Ws(U),ce(U)}function ce(U){const ge=V[0],Se=ge.point0;var Be;switch(H=ge[0]-Se[0],X=ge[1]-Se[1],x){case Ys:case bu:{y&&(H=nt(I-A,rt(E-j,H)),M=A+H,Z=j+H),w&&(X=nt(N-D,rt(re-J,X)),P=D+X,Y=J+X);break}case Fr:{V[1]?(y&&(M=nt(I,rt(E,V[0][0])),Z=nt(I,rt(E,V[1][0])),y=1),w&&(P=nt(N,rt(re,V[0][1])),Y=nt(N,rt(re,V[1][1])),w=1)):(y<0?(H=nt(I-A,rt(E-A,H)),M=A+H,Z=j):y>0&&(H=nt(I-j,rt(E-j,H)),M=A,Z=j+H),w<0?(X=nt(N-D,rt(re-D,X)),P=D+X,Y=J):w>0&&(X=nt(N-J,rt(re-J,X)),P=D,Y=J+X));break}case Pr:{y&&(M=nt(I,rt(E,A-H*y)),Z=nt(I,rt(E,j+H*y))),w&&(P=nt(N,rt(re,D-X*w)),Y=nt(N,rt(re,J+X*w)));break}}Z<M&&(y*=-1,Be=A,A=j,j=Be,Be=M,M=Z,Z=Be,_ in wu&&z.attr("cursor",kn[_=wu[_]])),Y<P&&(w*=-1,Be=D,D=J,J=Be,Be=P,P=Y,Y=Be,_ in xu&&z.attr("cursor",kn[_=xu[_]])),k.selection&&(T=k.selection),ne&&(M=T[0][0],Z=T[1][0]),le&&(P=T[0][1],Y=T[1][1]),(T[0][0]!==M||T[0][1]!==P||T[1][0]!==Z||T[1][1]!==Y)&&(k.selection=[[M,P],[Z,Y]],l.call(v),se.brush(U,x.name))}function fe(U){if(B_(U),U.touches){if(U.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else x_(U.view,K),W.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),z.attr("cursor",kn.overlay),k.selection&&(T=k.selection),U_(T)&&(k.selection=null,l.call(v)),se.end(U,x.name)}function de(U){switch(U.keyCode){case 16:{O=y&&w;break}case 18:{x===Fr&&(y&&(j=Z-H*y,A=M+H*y),w&&(J=Y-X*w,D=P+X*w),x=Pr,ce(U));break}case 32:{(x===Fr||x===Pr)&&(y<0?j=Z-H:y>0&&(A=M-H),w<0?J=Y-X:w>0&&(D=P-X),x=Ys,z.attr("cursor",kn.selection),ce(U));break}default:return}Ws(U)}function pe(U){switch(U.keyCode){case 16:{O&&(ne=le=O=!1,ce(U));break}case 18:{x===Pr&&(y<0?j=Z:y>0&&(A=M),w<0?J=Y:w>0&&(D=P),x=Fr,ce(U));break}case 32:{x===Ys&&(U.altKey?(y&&(j=Z-H*y,A=M+H*y),w&&(J=Y-X*w,D=P+X*w),x=Pr):(y<0?j=Z:y>0&&(A=M),w<0?J=Y:w>0&&(D=P),x=Fr),z.attr("cursor",kn[_]),ce(U));break}default:return}Ws(U)}}function p(b){u(this,arguments).moved(b)}function m(b){u(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=vu(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Vs(vu(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Vs(!!b),c):n},c.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Vs(!!b),c):r},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(i=!!b,c):i},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}const Kf=Math.PI,Zf=2*Kf,cr=1e-6,W_=Zf-cr;function Q0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Y_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Q0;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ep{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Q0:Y_(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,c=r-t,l=i-n,u=s-t,d=f-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>cr)if(!(Math.abs(d*c-l*u)>cr)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-f,g=c*c+l*l,b=p*p+m*m,v=Math.sqrt(g),_=Math.sqrt(h),x=a*Math.tan((Kf-Math.acos((g+h-b)/(2*v*_)))/2),y=x/_,w=x/v;Math.abs(y-1)>cr&&this._append`L${t+y*u},${n+y*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+w*c},${this._y1=n+w*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),l=t+f,u=n+c,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>cr||Math.abs(this._y1-u)>cr)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%Zf+Zf),h>W_?this._append`A${r},${r},0,1,${d},${t-f},${n-c}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>cr&&this._append`A${r},${r},0,${+(h>=Kf)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hn(e=3){return new ep(+e)}function X_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function go(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Jr(e){return e=go(Math.abs(e)),e?e[1]:NaN}function G_(e,t){return function(n,r){for(var i=n.length,a=[],s=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[s=(s+1)%e.length];return a.reverse().join(t)}}function K_(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Z_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(e){if(!(t=Z_.exec(e)))throw new Error("invalid format: "+e);var t;return new Gc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qi.prototype=Gc.prototype;function Gc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J_(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tp;function Q_(e,t){var n=go(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(tp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+go(e,Math.max(0,t+a-1))[0]}function Su(e,t){var n=go(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ku={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Su(e*100,t),r:Su,s:Q_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mu(e){return e}var Au=Array.prototype.map,Eu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ev(e){var t=e.grouping===void 0||e.thousands===void 0?Mu:G_(Au.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Mu:K_(Au.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=qi(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,v=d.width,_=d.comma,x=d.precision,y=d.trim,w=d.type;w==="n"?(_=!0,w="g"):ku[w]||(x===void 0&&(x=12),y=!0,w="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?s:"",T=ku[w],I=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function A(M){var N=k,D=S,P,E,j;if(w==="c")D=T(M)+D,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?c:T(Math.abs(M),x),y&&(M=J_(M)),Z&&+M==0&&m!=="+"&&(Z=!1),N=(Z?m==="("?m:f:m==="-"||m==="("?"":m)+N,D=(w==="s"?Eu[8+tp/3]:"")+D+(Z&&m==="("?")":""),I){for(P=-1,E=M.length;++P<E;)if(j=M.charCodeAt(P),48>j||j>57){D=(j===46?i+M.slice(P+1):M.slice(P))+D,M=M.slice(0,P);break}}}_&&!b&&(M=t(M,1/0));var re=N.length+M.length+D.length,J=re<v?new Array(v-re+1).join(h):"";switch(_&&b&&(M=t(J+M,J.length?v-D.length:1/0),J=""),p){case"<":M=N+M+D+J;break;case"=":M=N+J+M+D;break;case"^":M=J.slice(0,re=J.length>>1)+N+M+D+J.slice(re);break;default:M=J+N+M+D;break}return a(M)}return A.toString=function(){return d+""},A}function u(d,h){var p=l((d=qi(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Jr(h)/3)))*3,g=Math.pow(10,-m),b=Eu[8+m/3];return function(v){return p(g*v)+b}}return{format:l,formatPrefix:u}}var Aa,di,np;tv({thousands:",",grouping:[3],currency:["$",""]});function tv(e){return Aa=ev(e),di=Aa.format,np=Aa.formatPrefix,Aa}function nv(e){return Math.max(0,-Jr(Math.abs(e)))}function rv(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jr(t)/3)))*3-Jr(Math.abs(e)))}function iv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jr(t)-Jr(e))+1}var _e=1e-6,rp=1e-12,we=Math.PI,ze=we/2,Tu=we/4,Lt=we*2,dt=180/we,qe=we/180,Ie=Math.abs,hi=Math.atan,Fn=Math.atan2,ve=Math.cos,ip=Math.exp,mo=Math.log,Ks=Math.pow,be=Math.sin,qt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ct=Math.sqrt,Kc=Math.tan;function ap(e){return e>1?0:e<-1?we:Math.acos(e)}function Wt(e){return e>1?ze:e<-1?-ze:Math.asin(e)}function zt(){}function bo(e,t){e&&Nu.hasOwnProperty(e.type)&&Nu[e.type](e,t)}var Cu={Feature:function(e,t){bo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)bo(n[r].geometry,t)}},Nu={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Jf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Jf(n[r],t,0)},Polygon:function(e,t){Du(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Du(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)bo(n[r],t)}};function Jf(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Du(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Jf(e[n],t,1);t.polygonEnd()}function lr(e,t){e&&Cu.hasOwnProperty(e.type)?Cu[e.type](e,t):bo(e,t)}function Qf(e){return[Fn(e[1],e[0]),Wt(e[2])]}function Qr(e){var t=e[0],n=e[1],r=ve(n);return[r*ve(t),r*be(t),be(n)]}function Ea(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Zs(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ta(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ec(e){var t=Ct(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function tc(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function nc(e,t){return Ie(e)>we&&(e-=Math.round(e/Lt)*Lt),[e,t]}nc.invert=nc;function op(e,t,n){return(e%=Lt)?t||n?tc(Lu(e),Ou(t,n)):Lu(e):t||n?Ou(t,n):nc}function Iu(e){return function(t,n){return t+=e,Ie(t)>we&&(t-=Math.round(t/Lt)*Lt),[t,n]}}function Lu(e){var t=Iu(e);return t.invert=Iu(-e),t}function Ou(e,t){var n=ve(e),r=be(e),i=ve(t),a=be(t);function s(f,c){var l=ve(c),u=ve(f)*l,d=be(f)*l,h=be(c),p=h*n+u*r;return[Fn(d*i-p*a,u*n-h*r),Wt(p*i+d*a)]}return s.invert=function(f,c){var l=ve(c),u=ve(f)*l,d=be(f)*l,h=be(c),p=h*i-d*a;return[Fn(d*i+h*a,u*n+p*r),Wt(p*n-u*r)]},s}function av(e){e=op(e[0]*qe,e[1]*qe,e.length>2?e[2]*qe:0);function t(n){return n=e(n[0]*qe,n[1]*qe),n[0]*=dt,n[1]*=dt,n}return t.invert=function(n){return n=e.invert(n[0]*qe,n[1]*qe),n[0]*=dt,n[1]*=dt,n},t}function ov(e,t,n,r,i,a){if(n){var s=ve(t),f=be(t),c=r*n;i==null?(i=t+r*Lt,a=t-c/2):(i=Fu(s,i),a=Fu(s,a),(r>0?i<a:i>a)&&(i+=r*Lt));for(var l,u=i;r>0?u>a:u<a;u-=c)l=Qf([s,-f*ve(u),-f*be(u)]),e.point(l[0],l[1])}}function Fu(e,t){t=Qr(t),t[0]-=e,ec(t);var n=ap(-t[1]);return((-t[2]<0?-n:n)+Lt-_e)%Lt}function sp(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Za(e,t){return Ie(e[0]-t[0])<_e&&Ie(e[1]-t[1])<_e}function Ca(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fp(e,t,n,r,i){var a=[],s=[],f,c;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,b=m[0],v=m[g],_;if(Za(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}v[0]+=2*_e}a.push(_=new Ca(b,m,null,!0)),s.push(_.o=new Ca(b,null,_,!1)),a.push(_=new Ca(v,m,null,!1)),s.push(_.o=new Ca(v,null,_,!0))}}),!!a.length){for(s.sort(t),Pu(a),Pu(s),f=0,c=s.length;f<c;++f)s[f].e=n=!n;for(var l=a[0],u,d;;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Pu(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Js(e){return Ie(e[0])<=we?e[0]:qt(e[0])*((Ie(e[0])+we)%Lt-we)}function sv(e,t){var n=Js(t),r=t[1],i=be(r),a=[be(n),-ve(n),0],s=0,f=0,c=new _r;i===1?r=ze+_e:i===-1&&(r=-ze-_e);for(var l=0,u=e.length;l<u;++l)if(h=(d=e[l]).length)for(var d,h,p=d[h-1],m=Js(p),g=p[1]/2+Tu,b=be(g),v=ve(g),_=0;_<h;++_,m=y,b=k,v=S,p=x){var x=d[_],y=Js(x),w=x[1]/2+Tu,k=be(w),S=ve(w),T=y-m,I=T>=0?1:-1,A=I*T,M=A>we,N=b*k;if(c.add(Fn(N*I*be(A),v*S+N*ve(A))),s+=M?T+I*Lt:T,M^m>=n^y>=n){var D=yo(Qr(p),Qr(x));ec(D);var P=yo(a,D);ec(P);var E=(M^T>=0?-1:1)*Wt(P[2]);(r>E||r===E&&(D[0]||D[1]))&&(f+=M^T>=0?1:-1)}}return(s<-_e||s<_e&&c<-rp)^f&1}function cp(e,t,n,r){return function(i){var a=t(i),s=sp(),f=t(s),c=!1,l,u,d,h={point:p,lineStart:g,lineEnd:b,polygonStart:function(){h.point=v,h.lineStart=_,h.lineEnd=x,u=[],l=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=b,u=q0(u);var y=sv(l,r);u.length?(c||(i.polygonStart(),c=!0),fp(u,cv,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,w){e(y,w)&&i.point(y,w)}function m(y,w){a.point(y,w)}function g(){h.point=m,a.lineStart()}function b(){h.point=p,a.lineEnd()}function v(y,w){d.push([y,w]),f.point(y,w)}function _(){f.lineStart(),d=[]}function x(){v(d[0][0],d[0][1]),f.lineEnd();var y=f.clean(),w=s.result(),k,S=w.length,T,I,A;if(d.pop(),l.push(d),d=null,!!S){if(y&1){if(I=w[0],(T=I.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),k=0;k<T;++k)i.point((A=I[k])[0],A[1]);i.lineEnd()}return}S>1&&y&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(fv))}}return h}}function fv(e){return e.length>1}function cv(e,t){return((e=e.x)[0]<0?e[1]-ze-_e:ze-e[1])-((t=t.x)[0]<0?t[1]-ze-_e:ze-t[1])}const Bu=cp(function(){return!0},lv,dv,[-we,-ze]);function lv(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var f=a>0?we:-we,c=Ie(a-t);Ie(c-we)<_e?(e.point(t,n=(n+s)/2>0?ze:-ze),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(a,n),i=0):r!==f&&c>=we&&(Ie(t-r)<_e&&(t-=r*_e),Ie(a-f)<_e&&(a-=f*_e),n=uv(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=a,n=s),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function uv(e,t,n,r){var i,a,s=be(e-n);return Ie(s)>_e?hi((be(t)*(a=ve(r))*be(n)-be(r)*(i=ve(t))*be(e))/(i*a*s)):(t+r)/2}function dv(e,t,n,r){var i;if(e==null)i=n*ze,r.point(-we,i),r.point(0,i),r.point(we,i),r.point(we,0),r.point(we,-i),r.point(0,-i),r.point(-we,-i),r.point(-we,0),r.point(-we,i);else if(Ie(e[0]-t[0])>_e){var a=e[0]<t[0]?we:-we;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function hv(e){var t=ve(e),n=2*qe,r=t>0,i=Ie(t)>_e;function a(u,d,h,p){ov(p,e,n,h,u,d)}function s(u,d){return ve(u)*ve(d)>t}function f(u){var d,h,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(b,v){var _=[b,v],x,y=s(b,v),w=r?y?0:l(b,v):y?l(b+(b<0?we:-we),v):0;if(!d&&(m=p=y)&&u.lineStart(),y!==p&&(x=c(d,_),(!x||Za(d,x)||Za(_,x))&&(_[2]=1)),y!==p)g=0,y?(u.lineStart(),x=c(_,d),u.point(x[0],x[1])):(x=c(d,_),u.point(x[0],x[1],2),u.lineEnd()),d=x;else if(i&&d&&r^y){var k;!(w&h)&&(k=c(_,d,!0))&&(g=0,r?(u.lineStart(),u.point(k[0][0],k[0][1]),u.point(k[1][0],k[1][1]),u.lineEnd()):(u.point(k[1][0],k[1][1]),u.lineEnd(),u.lineStart(),u.point(k[0][0],k[0][1],3)))}y&&(!d||!Za(d,_))&&u.point(_[0],_[1]),d=_,p=y,h=w},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function c(u,d,h){var p=Qr(u),m=Qr(d),g=[1,0,0],b=yo(p,m),v=Ea(b,b),_=b[0],x=v-_*_;if(!x)return!h&&u;var y=t*v/x,w=-t*_/x,k=yo(g,b),S=Ta(g,y),T=Ta(b,w);Zs(S,T);var I=k,A=Ea(S,I),M=Ea(I,I),N=A*A-M*(Ea(S,S)-1);if(!(N<0)){var D=Ct(N),P=Ta(I,(-A-D)/M);if(Zs(P,S),P=Qf(P),!h)return P;var E=u[0],j=d[0],Z=u[1],re=d[1],J;j<E&&(J=E,E=j,j=J);var Y=j-E,H=Ie(Y-we)<_e,X=H||Y<_e;if(!H&&re<Z&&(J=Z,Z=re,re=J),X?H?Z+re>0^P[1]<(Ie(P[0]-E)<_e?Z:re):Z<=P[1]&&P[1]<=re:Y>we^(E<=P[0]&&P[0]<=j)){var K=Ta(I,(-A+D)/M);return Zs(K,S),[P,Qf(K)]}}}function l(u,d){var h=r?e:we-e,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return cp(s,f,a,r?[0,-e]:[-we,e-we])}function pv(e,t,n,r,i,a){var s=e[0],f=e[1],c=t[0],l=t[1],u=0,d=1,h=c-s,p=l-f,m;if(m=n-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=a-f,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*h,e[1]=f+u*p),d<1&&(t[0]=s+d*h,t[1]=f+d*p),!0}}}}}var Ai=1e9,Na=-Ai;function lp(e,t,n,r){function i(l,u){return e<=l&&l<=n&&t<=u&&u<=r}function a(l,u,d,h){var p=0,m=0;if(l==null||(p=s(l,d))!==(m=s(u,d))||c(l,u)<0^d>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==m);else h.point(u[0],u[1])}function s(l,u){return Ie(l[0]-e)<_e?u>0?0:3:Ie(l[0]-n)<_e?u>0?2:1:Ie(l[1]-t)<_e?u>0?1:0:u>0?3:2}function f(l,u){return c(l.x,u.x)}function c(l,u){var d=s(l,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-l[1]:d===1?l[0]-u[0]:d===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,d=sp(),h,p,m,g,b,v,_,x,y,w,k,S={point:T,lineStart:N,lineEnd:D,polygonStart:A,polygonEnd:M};function T(E,j){i(E,j)&&u.point(E,j)}function I(){for(var E=0,j=0,Z=p.length;j<Z;++j)for(var re=p[j],J=1,Y=re.length,H=re[0],X,K,O=H[0],ne=H[1];J<Y;++J)X=O,K=ne,H=re[J],O=H[0],ne=H[1],K<=r?ne>r&&(O-X)*(r-K)>(ne-K)*(e-X)&&++E:ne<=r&&(O-X)*(r-K)<(ne-K)*(e-X)&&--E;return E}function A(){u=d,h=[],p=[],k=!0}function M(){var E=I(),j=k&&E,Z=(h=q0(h)).length;(j||Z)&&(l.polygonStart(),j&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),Z&&fp(h,f,E,a,l),l.polygonEnd()),u=l,h=p=m=null}function N(){S.point=P,p&&p.push(m=[]),w=!0,y=!1,_=x=NaN}function D(){h&&(P(g,b),v&&y&&d.rejoin(),h.push(d.result())),S.point=T,y&&u.lineEnd()}function P(E,j){var Z=i(E,j);if(p&&m.push([E,j]),w)g=E,b=j,v=Z,w=!1,Z&&(u.lineStart(),u.point(E,j));else if(Z&&y)u.point(E,j);else{var re=[_=Math.max(Na,Math.min(Ai,_)),x=Math.max(Na,Math.min(Ai,x))],J=[E=Math.max(Na,Math.min(Ai,E)),j=Math.max(Na,Math.min(Ai,j))];pv(re,J,e,t,n,r)?(y||(u.lineStart(),u.point(re[0],re[1])),u.point(J[0],J[1]),Z||u.lineEnd(),k=!1):Z&&(u.lineStart(),u.point(E,j),k=!1)}_=E,x=j,y=Z}return S}}const rc=e=>e;var Qs=new _r,ic=new _r,up,dp,ac,oc,zn={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){zn.lineStart=gv,zn.lineEnd=bv},polygonEnd:function(){zn.lineStart=zn.lineEnd=zn.point=zt,Qs.add(Ie(ic)),ic=new _r},result:function(){var e=Qs/2;return Qs=new _r,e}};function gv(){zn.point=mv}function mv(e,t){zn.point=hp,up=ac=e,dp=oc=t}function hp(e,t){ic.add(oc*e-ac*t),ac=e,oc=t}function bv(){hp(up,dp)}const Ru=zn;var ei=1/0,_o=ei,zi=-ei,vo=zi,yv={point:_v,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var e=[[ei,_o],[zi,vo]];return zi=vo=-(_o=ei=1/0),e}};function _v(e,t){e<ei&&(ei=e),e>zi&&(zi=e),t<_o&&(_o=t),t>vo&&(vo=t)}const wo=yv;var sc=0,fc=0,Ei=0,xo=0,So=0,Ur=0,cc=0,lc=0,Ti=0,pp,gp,un,dn,Qt={point:xr,lineStart:$u,lineEnd:ju,polygonStart:function(){Qt.lineStart=xv,Qt.lineEnd=Sv},polygonEnd:function(){Qt.point=xr,Qt.lineStart=$u,Qt.lineEnd=ju},result:function(){var e=Ti?[cc/Ti,lc/Ti]:Ur?[xo/Ur,So/Ur]:Ei?[sc/Ei,fc/Ei]:[NaN,NaN];return sc=fc=Ei=xo=So=Ur=cc=lc=Ti=0,e}};function xr(e,t){sc+=e,fc+=t,++Ei}function $u(){Qt.point=vv}function vv(e,t){Qt.point=wv,xr(un=e,dn=t)}function wv(e,t){var n=e-un,r=t-dn,i=Ct(n*n+r*r);xo+=i*(un+e)/2,So+=i*(dn+t)/2,Ur+=i,xr(un=e,dn=t)}function ju(){Qt.point=xr}function xv(){Qt.point=kv}function Sv(){mp(pp,gp)}function kv(e,t){Qt.point=mp,xr(pp=un=e,gp=dn=t)}function mp(e,t){var n=e-un,r=t-dn,i=Ct(n*n+r*r);xo+=i*(un+e)/2,So+=i*(dn+t)/2,Ur+=i,i=dn*e-un*t,cc+=i*(un+e),lc+=i*(dn+t),Ti+=i*3,xr(un=e,dn=t)}const qu=Qt;function bp(e){this._context=e}bp.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Lt);break}}},result:zt};var uc=new _r,ef,yp,_p,Ci,Ni,ko={point:zt,lineStart:function(){ko.point=Mv},lineEnd:function(){ef&&vp(yp,_p),ko.point=zt},polygonStart:function(){ef=!0},polygonEnd:function(){ef=null},result:function(){var e=+uc;return uc=new _r,e}};function Mv(e,t){ko.point=vp,yp=Ci=e,_p=Ni=t}function vp(e,t){Ci-=e,Ni-=t,uc.add(Ct(Ci*Ci+Ni*Ni)),Ci=e,Ni=t}const zu=ko;let Uu,Mo,Hu,Vu;class Wu{constructor(t){this._append=t==null?wp:Av(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Hu||this._append!==Mo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Hu=r,Mo=this._append,Vu=this._,this._=i}this._+=Vu;break}}}result(){const t=this._;return this._="",t.length?t:null}}function wp(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Av(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return wp;if(t!==Uu){const n=10**t;Uu=t,Mo=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Mo}function Qi(e,t){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),lr(f,i(a))),a.result()}return s.area=function(f){return lr(f,i(Ru)),Ru.result()},s.measure=function(f){return lr(f,i(zu)),zu.result()},s.bounds=function(f){return lr(f,i(wo)),wo.result()},s.centroid=function(f){return lr(f,i(qu)),qu.result()},s.projection=function(f){return arguments.length?(i=f==null?(e=null,rc):(e=f).stream,s):e},s.context=function(f){return arguments.length?(a=f==null?(t=null,new Wu(n)):new bp(t=f),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return t===null&&(a=new Wu(n)),s},s.projection(e).digits(n).context(t)}function Ao(e){return{stream:is(e)}}function is(e){return function(t){var n=new dc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function dc(){}dc.prototype={constructor:dc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),lr(n,e.stream(wo)),t(wo.result()),r!=null&&e.clipExtent(r),e}function Jc(e,t,n){return Zc(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([f,c])},n)}function xp(e,t,n){return Jc(e,[[0,0],t],n)}function Sp(e,t,n){return Zc(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];e.scale(150*a).translate([s,f])},n)}function kp(e,t,n){return Zc(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}var Yu=16,Ev=ve(30*qe);function Xu(e,t){return+t?Cv(e,t):Tv(e)}function Tv(e){return is({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Cv(e,t){function n(r,i,a,s,f,c,l,u,d,h,p,m,g,b){var v=l-r,_=u-i,x=v*v+_*_;if(x>4*t&&g--){var y=s+h,w=f+p,k=c+m,S=Ct(y*y+w*w+k*k),T=Wt(k/=S),I=Ie(Ie(k)-1)<_e||Ie(a-d)<_e?(a+d)/2:Fn(w,y),A=e(I,T),M=A[0],N=A[1],D=M-r,P=N-i,E=_*D-v*P;(E*E/x>t||Ie((v*D+_*P)/x-.5)>.3||s*h+f*p+c*m<Ev)&&(n(r,i,a,s,f,c,M,N,I,y/=S,w/=S,k,g,b),b.point(M,N),n(M,N,I,y,w,k,l,u,d,h,p,m,g,b))}}return function(r){var i,a,s,f,c,l,u,d,h,p,m,g,b={point:v,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),b.lineStart=w},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function v(T,I){T=e(T,I),r.point(T[0],T[1])}function _(){d=NaN,b.point=x,r.lineStart()}function x(T,I){var A=Qr([T,I]),M=e(T,I);n(d,h,u,p,m,g,d=M[0],h=M[1],u=T,p=A[0],m=A[1],g=A[2],Yu,r),r.point(d,h)}function y(){b.point=v,r.lineEnd()}function w(){_(),b.point=k,b.lineEnd=S}function k(T,I){x(i=T,I),a=d,s=h,f=p,c=m,l=g,b.point=x}function S(){n(d,h,u,p,m,g,a,s,i,f,c,l,Yu,r),b.lineEnd=y,y()}return b}}var Nv=is({point:function(e,t){this.stream.point(e*qe,t*qe)}});function Dv(e){return is({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Iv(e,t,n,r,i){function a(s,f){return s*=r,f*=i,[t+e*s,n-e*f]}return a.invert=function(s,f){return[(s-t)/e*r,(n-f)/e*i]},a}function Gu(e,t,n,r,i,a){if(!a)return Iv(e,t,n,r,i);var s=ve(a),f=be(a),c=s*e,l=f*e,u=s/e,d=f/e,h=(f*n-s*t)/e,p=(f*t+s*n)/e;function m(g,b){return g*=r,b*=i,[c*g-l*b+t,n-l*g-c*b]}return m.invert=function(g,b){return[r*(u*g-d*b+h),i*(p-d*g-u*b)]},m}function ar(e){return Mp(function(){return e})()}function Mp(e){var t,n=150,r=480,i=250,a=0,s=0,f=0,c=0,l=0,u,d=0,h=1,p=1,m=null,g=Bu,b=null,v,_,x,y=rc,w=.5,k,S,T,I,A;function M(E){return T(E[0]*qe,E[1]*qe)}function N(E){return E=T.invert(E[0],E[1]),E&&[E[0]*dt,E[1]*dt]}M.stream=function(E){return I&&A===E?I:I=Nv(Dv(u)(g(k(y(A=E)))))},M.preclip=function(E){return arguments.length?(g=E,m=void 0,P()):g},M.postclip=function(E){return arguments.length?(y=E,b=v=_=x=null,P()):y},M.clipAngle=function(E){return arguments.length?(g=+E?hv(m=E*qe):(m=null,Bu),P()):m*dt},M.clipExtent=function(E){return arguments.length?(y=E==null?(b=v=_=x=null,rc):lp(b=+E[0][0],v=+E[0][1],_=+E[1][0],x=+E[1][1]),P()):b==null?null:[[b,v],[_,x]]},M.scale=function(E){return arguments.length?(n=+E,D()):n},M.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],D()):[r,i]},M.center=function(E){return arguments.length?(a=E[0]%360*qe,s=E[1]%360*qe,D()):[a*dt,s*dt]},M.rotate=function(E){return arguments.length?(f=E[0]%360*qe,c=E[1]%360*qe,l=E.length>2?E[2]%360*qe:0,D()):[f*dt,c*dt,l*dt]},M.angle=function(E){return arguments.length?(d=E%360*qe,D()):d*dt},M.reflectX=function(E){return arguments.length?(h=E?-1:1,D()):h<0},M.reflectY=function(E){return arguments.length?(p=E?-1:1,D()):p<0},M.precision=function(E){return arguments.length?(k=Xu(S,w=E*E),P()):Ct(w)},M.fitExtent=function(E,j){return Jc(M,E,j)},M.fitSize=function(E,j){return xp(M,E,j)},M.fitWidth=function(E,j){return Sp(M,E,j)},M.fitHeight=function(E,j){return kp(M,E,j)};function D(){var E=Gu(n,0,0,h,p,d).apply(null,t(a,s)),j=Gu(n,r-E[0],i-E[1],h,p,d);return u=op(f,c,l),S=tc(t,j),T=tc(u,S),k=Xu(S,w),P()}function P(){return I=A=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&N,D()}}function Qc(e){var t=0,n=we/3,r=Mp(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*qe,n=a[1]*qe):[t*dt,n*dt]},i}function Lv(e){var t=ve(e);function n(r,i){return[r*t,be(i)/t]}return n.invert=function(r,i){return[r/t,Wt(i*t)]},n}function Ov(e,t){var n=be(e),r=(n+be(t))/2;if(Ie(r)<_e)return Lv(e);var i=1+n*(2*r-n),a=Ct(i)/r;function s(f,c){var l=Ct(i-2*r*be(c))/r;return[l*be(f*=r),a-l*ve(f)]}return s.invert=function(f,c){var l=a-c,u=Fn(f,Ie(l))*qt(l);return l*r<0&&(u-=we*qt(f)*qt(l)),[u/r,Wt((i-(f*f+l*l)*r*r)/(2*r))]},s}function Eo(){return Qc(Ov).scale(155.424).center([0,33.6442])}function Ap(){return Eo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Fv(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Pv(){var e,t,n=Ap(),r,i=Eo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Eo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,l={point:function(h,p){c=[h,p]}};function u(h){var p=h[0],m=h[1];return c=null,r.point(p,m),c||(a.point(p,m),c)||(f.point(p,m),c)}u.invert=function(h){var p=n.scale(),m=n.translate(),g=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=Fv([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(l),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+_e,g+.12*p+_e],[m-.214*p-_e,g+.234*p-_e]]).stream(l),f=s.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+_e,g+.166*p+_e],[m-.115*p-_e,g+.234*p-_e]]).stream(l),d()},u.fitExtent=function(h,p){return Jc(u,h,p)},u.fitSize=function(h,p){return xp(u,h,p)},u.fitWidth=function(h,p){return Sp(u,h,p)},u.fitHeight=function(h,p){return kp(u,h,p)};function d(){return e=t=null,u}return u.scale(1070)}function Ep(e){return function(t,n){var r=ve(t),i=ve(n),a=e(r*i);return a===1/0?[2,0]:[a*i*be(t),a*be(n)]}}function ea(e){return function(t,n){var r=Ct(t*t+n*n),i=e(r),a=be(i),s=ve(i);return[Fn(t*a,r*s),Wt(r&&n*a/r)]}}var Tp=Ep(function(e){return Ct(2/(1+e))});Tp.invert=ea(function(e){return 2*Wt(e/2)});function Bv(){return ar(Tp).scale(124.75).clipAngle(180-.001)}var Cp=Ep(function(e){return(e=ap(e))&&e/be(e)});Cp.invert=ea(function(e){return e});function Rv(){return ar(Cp).scale(79.4188).clipAngle(180-.001)}function as(e,t){return[e,mo(Kc((ze+t)/2))]}as.invert=function(e,t){return[e,2*hi(ip(t))-ze]};function $v(){return Np(as).scale(961/Lt)}function Np(e){var t=ar(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,f,c,l;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=f=c=l=null:(s=+d[0][0],f=+d[0][1],c=+d[1][0],l=+d[1][1]),u()):s==null?null:[[s,f],[c,l]]};function u(){var d=we*r(),h=t(av(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===as?[[Math.max(h[0]-d,s),f],[Math.min(h[0]+d,c),l]]:[[s,Math.max(h[1]-d,f)],[c,Math.min(h[1]+d,l)]])}return u()}function Da(e){return Kc((ze+e)/2)}function jv(e,t){var n=ve(e),r=e===t?be(e):mo(n/ve(t))/mo(Da(t)/Da(e)),i=n*Ks(Da(e),r)/r;if(!r)return as;function a(s,f){i>0?f<-ze+_e&&(f=-ze+_e):f>ze-_e&&(f=ze-_e);var c=i/Ks(Da(f),r);return[c*be(r*s),i-c*ve(r*s)]}return a.invert=function(s,f){var c=i-f,l=qt(r)*Ct(s*s+c*c),u=Fn(s,Ie(c))*qt(c);return c*r<0&&(u-=we*qt(s)*qt(c)),[u/r,2*hi(Ks(i/l,1/r))-ze]},a}function qv(){return Qc(jv).scale(109.5).parallels([30,30])}function To(e,t){return[e,t]}To.invert=To;function zv(){return ar(To).scale(152.63)}function Uv(e,t){var n=ve(e),r=e===t?be(e):(n-ve(t))/(t-e),i=n/r+e;if(Ie(r)<_e)return To;function a(s,f){var c=i-f,l=r*s;return[c*be(l),i-c*ve(l)]}return a.invert=function(s,f){var c=i-f,l=Fn(s,Ie(c))*qt(c);return c*r<0&&(l-=we*qt(s)*qt(c)),[l/r,i-qt(r)*Ct(s*s+c*c)]},a}function Hv(){return Qc(Uv).scale(131.154).center([0,13.9389])}var Oi=1.340264,Fi=-.081106,Pi=893e-6,Bi=.003796,Co=Ct(3)/2,Vv=12;function Dp(e,t){var n=Wt(Co*be(t)),r=n*n,i=r*r*r;return[e*ve(n)/(Co*(Oi+3*Fi*r+i*(7*Pi+9*Bi*r))),n*(Oi+Fi*r+i*(Pi+Bi*r))]}Dp.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,f,c;a<Vv&&(f=n*(Oi+Fi*r+i*(Pi+Bi*r))-t,c=Oi+3*Fi*r+i*(7*Pi+9*Bi*r),n-=s=f/c,r=n*n,i=r*r*r,!(Ie(s)<rp));++a);return[Co*e*(Oi+3*Fi*r+i*(7*Pi+9*Bi*r))/ve(n),Wt(be(n)/Co)]};function Wv(){return ar(Dp).scale(177.158)}function Ip(e,t){var n=ve(t),r=ve(e)*n;return[n*be(e)/r,be(t)/r]}Ip.invert=ea(hi);function Yv(){return ar(Ip).scale(144.049).clipAngle(60)}function Lp(e,t){return[ve(t)*be(e),be(t)]}Lp.invert=ea(Wt);function Xv(){return ar(Lp).scale(249.5).clipAngle(90+_e)}function Op(e,t){var n=ve(t),r=1+ve(e)*n;return[n*be(e)/r,be(t)/r]}Op.invert=ea(function(e){return 2*hi(e)});function Gv(){return ar(Op).scale(250).clipAngle(142)}function Fp(e,t){return[mo(Kc((ze+t)/2)),-e]}Fp.invert=function(e,t){return[-t,2*hi(ip(e))-ze]};function Kv(){var e=Np(Fp),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hc=Symbol("implicit");function el(){var e=new vr,t=[],n=[],r=hc;function i(a){let s=e.get(a);if(s===void 0){if(r!==hc)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new vr;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return el(t,n).unknown(r)},wn.apply(i,arguments),i}function ss(){var e=el().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,f=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-c+l*2),f&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*u,s=a*(1-c),f&&(m=Math.round(m),s=Math.round(s));var b=Hf(h).map(function(v){return m+a*v});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(f=!!h,d()):f},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return ss(t(),[r,i]).round(f).paddingInner(c).paddingOuter(l).align(u)},wn.apply(d(),arguments)}function Pp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Pp(t())},e}function Zv(){return Pp(ss.apply(null,arguments).paddingInner(1))}function Jv(e){return function(){return e}}function pc(e){return+e}var Ku=[0,1];function Ut(e){return e}function gc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jv(isNaN(t)?NaN:.5)}function Qv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ew(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=gc(i,r),a=n(s,a)):(r=gc(r,i),a=n(a,s)),function(f){return a(r(f))}}function tw(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=gc(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(f){var c=qc(e,f,1,r)-1;return a[c](i[c](f))}}function ta(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fs(){var e=Ku,t=Ku,n=ui,r,i,a,s=Ut,f,c,l;function u(){var h=Math.min(e.length,t.length);return s!==Ut&&(s=Qv(e[0],e[h-1])),f=h>2?tw:ew,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=f(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((l||(l=f(t,e.map(r),er)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,pc),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Yc,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Ut,u()):s!==Ut},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function Bp(){return fs()(Ut,Ut)}function nw(e,t,n,r){var i=zf(e,t,n),a;switch(r=qi(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=rv(i,s))&&(r.precision=a),np(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=iv(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nv(i))&&(r.precision=a-(r.type==="%")*2);break}}return di(r)}function na(e){var t=e.domain;return e.ticks=function(n){var r=t();return fo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return nw(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],f=r[a],c,l,u=10;for(f<s&&(l=s,s=f,f=l,l=i,i=a,a=l);u-- >0;){if(l=qf(s,f,n),l===c)return r[i]=s,r[a]=f,t(r);if(l>0)s=Math.floor(s/l)*l,f=Math.ceil(f/l)*l;else if(l<0)s=Math.ceil(s*l)/l,f=Math.floor(f*l)/l;else break;c=l}return e},e}function tl(){var e=Bp();return e.copy=function(){return ta(e,tl())},wn.apply(e,arguments),na(e)}function Rp(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Rp(e).unknown(t)},e=arguments.length?Array.from(e,pc):[0,1],na(n)}function $p(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Zu(e){return Math.log(e)}function Ju(e){return Math.exp(e)}function rw(e){return-Math.log(-e)}function iw(e){return-Math.exp(-e)}function aw(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ow(e){return e===10?aw:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sw(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Qu(e){return(t,n)=>-e(-t,n)}function jp(e){const t=e(Zu,Ju),n=t.domain;let r=10,i,a;function s(){return i=sw(r),a=ow(r),n()[0]<0?(i=Qu(i),a=Qu(a),e(rw,iw)):e(Zu,Ju),t}return t.base=function(f){return arguments.length?(r=+f,s()):r},t.domain=function(f){return arguments.length?(n(f),s()):n()},t.ticks=f=>{const c=n();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=i(l),p=i(u),m,g;const b=f==null?10:+f;let v=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}v.length*2<b&&(v=fo(l,u,b))}else v=fo(h,p,Math.min(p-h,b)).map(a);return d?v.reverse():v},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=qi(c)).precision==null&&(c.trim=!0),c=di(c)),f===1/0)return c;const l=Math.max(1,r*f/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=l?c(u):""}},t.nice=()=>n($p(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function qp(){const e=jp(fs()).domain([1,10]);return e.copy=()=>ta(e,qp()).base(e.base()),wn.apply(e,arguments),e}function ed(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function td(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zp(e){var t=1,n=e(ed(t),td(t));return n.constant=function(r){return arguments.length?e(ed(t=+r),td(t)):t},na(n)}function Up(){var e=zp(fs());return e.copy=function(){return ta(e,Up()).constant(e.constant())},wn.apply(e,arguments)}function nd(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cw(e){return e<0?-e*e:e*e}function Hp(e){var t=e(Ut,Ut),n=1;function r(){return n===1?e(Ut,Ut):n===.5?e(fw,cw):e(nd(n),nd(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},na(t)}function Vp(){var e=Hp(fs());return e.copy=function(){return ta(e,Vp()).exponent(e.exponent())},wn.apply(e,arguments),e}function Wp(){var e=[],t=[],n=[],r;function i(){var s=0,f=Math.max(1,t.length);for(n=new Array(f-1);++s<f;)n[s-1]=o_(e,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:t[qc(n,s)]}return a.invertExtent=function(s){var f=t.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let f of s)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Tt),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Wp().domain(e).range(t).unknown(r)},wn.apply(a,arguments)}function Yp(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[qc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Yp().domain(e).range(t).unknown(n)},wn.apply(i,arguments)}const tf=new Date,nf=new Date;function Ge(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return c;let l;do c.push(l=new Date(+a)),t(a,f),e(a);while(l<a&&a<s);return c},i.filter=a=>Ge(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;t(s,-1),!a(s););else for(;--f>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(tf.setTime(+a),nf.setTime(+s),e(tf),e(nf),Math.floor(n(tf,nf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const No=Ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);No.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):No);No.range;const In=1e3,Ht=In*60,Ln=Ht*60,Pn=Ln*24,nl=Pn*7,rd=Pn*30,rf=Pn*365,en=Ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCSeconds());en.range;const ra=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*In)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getMinutes());ra.range;const ia=Ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getUTCMinutes());ia.range;const aa=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*In-e.getMinutes()*Ht)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getHours());aa.range;const oa=Ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCHours());oa.range;const Tr=Ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/Pn,e=>e.getDate()-1);Tr.range;const cs=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pn,e=>e.getUTCDate()-1);cs.range;const ls=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pn,e=>Math.floor(e/Pn));ls.range;function Cr(e){return Ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/nl)}const ti=Cr(0),Ui=Cr(1),Xp=Cr(2),Gp=Cr(3),Sr=Cr(4),Kp=Cr(5),Zp=Cr(6);ti.range;Ui.range;Xp.range;Gp.range;Sr.range;Kp.range;Zp.range;function Nr(e){return Ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/nl)}const ni=Nr(0),Hi=Nr(1),Jp=Nr(2),Qp=Nr(3),kr=Nr(4),e1=Nr(5),t1=Nr(6);ni.range;Hi.range;Jp.range;Qp.range;kr.range;e1.range;t1.range;const sa=Ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sa.range;const fa=Ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fa.range;const nn=Ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});nn.range;const rn=Ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});rn.range;function n1(e,t,n,r,i,a){const s=[[en,1,In],[en,5,5*In],[en,15,15*In],[en,30,30*In],[a,1,Ht],[a,5,5*Ht],[a,15,15*Ht],[a,30,30*Ht],[i,1,Ln],[i,3,3*Ln],[i,6,6*Ln],[i,12,12*Ln],[r,1,Pn],[r,2,2*Pn],[n,1,nl],[t,1,rd],[t,3,3*rd],[e,1,rf]];function f(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:c(l,u,d),m=p?p.range(l,+u+1):[];return h?m.reverse():m}function c(l,u,d){const h=Math.abs(u-l)/d,p=es(([,,b])=>b).right(s,h);if(p===s.length)return e.every(zf(l/rf,u/rf,d));if(p===0)return No.every(Math.max(zf(l,u,d),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[f,c]}const[lw,uw]=n1(rn,fa,ni,ls,oa,ia),[dw,hw]=n1(nn,sa,ti,Tr,aa,ra);function af(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function of(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pw(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,f=e.months,c=e.shortMonths,l=wi(i),u=xi(i),d=wi(a),h=xi(a),p=wi(s),m=xi(s),g=wi(f),b=xi(f),v=wi(c),_=xi(c),x={a:Z,A:re,b:J,B:Y,c:null,d:cd,e:cd,f:Bw,g:Yw,G:Gw,H:Ow,I:Fw,j:Pw,L:r1,m:Rw,M:$w,p:H,q:X,Q:dd,s:hd,S:jw,u:qw,U:zw,V:Uw,w:Hw,W:Vw,x:null,X:null,y:Ww,Y:Xw,Z:Kw,"%":ud},y={a:K,A:O,b:ne,B:le,c:null,d:ld,e:ld,f:e3,g:l3,G:d3,H:Zw,I:Jw,j:Qw,L:a1,m:t3,M:n3,p:V,q:se,Q:dd,s:hd,S:r3,u:i3,U:a3,V:o3,w:s3,W:f3,x:null,X:null,y:c3,Y:u3,Z:h3,"%":ud},w={a:A,A:M,b:N,B:D,c:P,d:sd,e:sd,f:Nw,g:od,G:ad,H:fd,I:fd,j:Aw,L:Cw,m:Mw,M:Ew,p:I,q:kw,Q:Iw,s:Lw,S:Tw,u:_w,U:vw,V:ww,w:yw,W:xw,x:E,X:j,y:od,Y:ad,Z:Sw,"%":Dw};x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),y.x=k(n,y),y.X=k(r,y),y.c=k(t,y);function k(C,z){return function(W){var F=[],ce=-1,fe=0,de=C.length,pe,U,ge;for(W instanceof Date||(W=new Date(+W));++ce<de;)C.charCodeAt(ce)===37&&(F.push(C.slice(fe,ce)),(U=id[pe=C.charAt(++ce)])!=null?pe=C.charAt(++ce):U=pe==="e"?" ":"0",(ge=z[pe])&&(pe=ge(W,U)),F.push(pe),fe=ce+1);return F.push(C.slice(fe,ce)),F.join("")}}function S(C,z){return function(W){var F=vi(1900,void 0,1),ce=T(F,C,W+="",0),fe,de;if(ce!=W.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(fe=of(vi(F.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?Hi.ceil(fe):Hi(fe),fe=cs.offset(fe,(F.V-1)*7),F.y=fe.getUTCFullYear(),F.m=fe.getUTCMonth(),F.d=fe.getUTCDate()+(F.w+6)%7):(fe=af(vi(F.y,0,1)),de=fe.getDay(),fe=de>4||de===0?Ui.ceil(fe):Ui(fe),fe=Tr.offset(fe,(F.V-1)*7),F.y=fe.getFullYear(),F.m=fe.getMonth(),F.d=fe.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),de="Z"in F?of(vi(F.y,0,1)).getUTCDay():af(vi(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(de+5)%7:F.w+F.U*7-(de+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,of(F)):af(F)}}function T(C,z,W,F){for(var ce=0,fe=z.length,de=W.length,pe,U;ce<fe;){if(F>=de)return-1;if(pe=z.charCodeAt(ce++),pe===37){if(pe=z.charAt(ce++),U=w[pe in id?z.charAt(ce++):pe],!U||(F=U(C,W,F))<0)return-1}else if(pe!=W.charCodeAt(F++))return-1}return F}function I(C,z,W){var F=l.exec(z.slice(W));return F?(C.p=u.get(F[0].toLowerCase()),W+F[0].length):-1}function A(C,z,W){var F=p.exec(z.slice(W));return F?(C.w=m.get(F[0].toLowerCase()),W+F[0].length):-1}function M(C,z,W){var F=d.exec(z.slice(W));return F?(C.w=h.get(F[0].toLowerCase()),W+F[0].length):-1}function N(C,z,W){var F=v.exec(z.slice(W));return F?(C.m=_.get(F[0].toLowerCase()),W+F[0].length):-1}function D(C,z,W){var F=g.exec(z.slice(W));return F?(C.m=b.get(F[0].toLowerCase()),W+F[0].length):-1}function P(C,z,W){return T(C,t,z,W)}function E(C,z,W){return T(C,n,z,W)}function j(C,z,W){return T(C,r,z,W)}function Z(C){return s[C.getDay()]}function re(C){return a[C.getDay()]}function J(C){return c[C.getMonth()]}function Y(C){return f[C.getMonth()]}function H(C){return i[+(C.getHours()>=12)]}function X(C){return 1+~~(C.getMonth()/3)}function K(C){return s[C.getUTCDay()]}function O(C){return a[C.getUTCDay()]}function ne(C){return c[C.getUTCMonth()]}function le(C){return f[C.getUTCMonth()]}function V(C){return i[+(C.getUTCHours()>=12)]}function se(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var z=k(C+="",x);return z.toString=function(){return C},z},parse:function(C){var z=S(C+="",!1);return z.toString=function(){return C},z},utcFormat:function(C){var z=k(C+="",y);return z.toString=function(){return C},z},utcParse:function(C){var z=S(C+="",!0);return z.toString=function(){return C},z}}}var id={"-":"",_:" ",0:"0"},tt=/^\s*\d+/,gw=/^%/,mw=/[\\^$*+?|[\]().{}]/g;function Te(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function bw(e){return e.replace(mw,"\\$&")}function wi(e){return new RegExp("^(?:"+e.map(bw).join("|")+")","i")}function xi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yw(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _w(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ww(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ad(e,t,n){var r=tt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function od(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Sw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kw(e,t,n){var r=tt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Mw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sd(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Aw(e,t,n){var r=tt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fd(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ew(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Tw(e,t,n){var r=tt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Cw(e,t,n){var r=tt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Nw(e,t,n){var r=tt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dw(e,t,n){var r=gw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Iw(e,t,n){var r=tt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Lw(e,t,n){var r=tt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function cd(e,t){return Te(e.getDate(),t,2)}function Ow(e,t){return Te(e.getHours(),t,2)}function Fw(e,t){return Te(e.getHours()%12||12,t,2)}function Pw(e,t){return Te(1+Tr.count(nn(e),e),t,3)}function r1(e,t){return Te(e.getMilliseconds(),t,3)}function Bw(e,t){return r1(e,t)+"000"}function Rw(e,t){return Te(e.getMonth()+1,t,2)}function $w(e,t){return Te(e.getMinutes(),t,2)}function jw(e,t){return Te(e.getSeconds(),t,2)}function qw(e){var t=e.getDay();return t===0?7:t}function zw(e,t){return Te(ti.count(nn(e)-1,e),t,2)}function i1(e){var t=e.getDay();return t>=4||t===0?Sr(e):Sr.ceil(e)}function Uw(e,t){return e=i1(e),Te(Sr.count(nn(e),e)+(nn(e).getDay()===4),t,2)}function Hw(e){return e.getDay()}function Vw(e,t){return Te(Ui.count(nn(e)-1,e),t,2)}function Ww(e,t){return Te(e.getFullYear()%100,t,2)}function Yw(e,t){return e=i1(e),Te(e.getFullYear()%100,t,2)}function Xw(e,t){return Te(e.getFullYear()%1e4,t,4)}function Gw(e,t){var n=e.getDay();return e=n>=4||n===0?Sr(e):Sr.ceil(e),Te(e.getFullYear()%1e4,t,4)}function Kw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function ld(e,t){return Te(e.getUTCDate(),t,2)}function Zw(e,t){return Te(e.getUTCHours(),t,2)}function Jw(e,t){return Te(e.getUTCHours()%12||12,t,2)}function Qw(e,t){return Te(1+cs.count(rn(e),e),t,3)}function a1(e,t){return Te(e.getUTCMilliseconds(),t,3)}function e3(e,t){return a1(e,t)+"000"}function t3(e,t){return Te(e.getUTCMonth()+1,t,2)}function n3(e,t){return Te(e.getUTCMinutes(),t,2)}function r3(e,t){return Te(e.getUTCSeconds(),t,2)}function i3(e){var t=e.getUTCDay();return t===0?7:t}function a3(e,t){return Te(ni.count(rn(e)-1,e),t,2)}function o1(e){var t=e.getUTCDay();return t>=4||t===0?kr(e):kr.ceil(e)}function o3(e,t){return e=o1(e),Te(kr.count(rn(e),e)+(rn(e).getUTCDay()===4),t,2)}function s3(e){return e.getUTCDay()}function f3(e,t){return Te(Hi.count(rn(e)-1,e),t,2)}function c3(e,t){return Te(e.getUTCFullYear()%100,t,2)}function l3(e,t){return e=o1(e),Te(e.getUTCFullYear()%100,t,2)}function u3(e,t){return Te(e.getUTCFullYear()%1e4,t,4)}function d3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?kr(e):kr.ceil(e),Te(e.getUTCFullYear()%1e4,t,4)}function h3(){return"+0000"}function ud(){return"%"}function dd(e){return+e}function hd(e){return Math.floor(+e/1e3)}var Br,rl,ca;p3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p3(e){return Br=pw(e),rl=Br.format,Br.parse,ca=Br.utcFormat,Br.utcParse,Br}function g3(e){return new Date(e)}function m3(e){return e instanceof Date?+e:+new Date(+e)}function il(e,t,n,r,i,a,s,f,c,l){var u=Bp(),d=u.invert,h=u.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),b=l("%I %p"),v=l("%a %d"),_=l("%b %d"),x=l("%B"),y=l("%Y");function w(k){return(c(k)<k?p:f(k)<k?m:s(k)<k?g:a(k)<k?b:r(k)<k?i(k)<k?v:_:n(k)<k?x:y)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,m3)):h().map(g3)},u.ticks=function(k){var S=h();return e(S[0],S[S.length-1],k??10)},u.tickFormat=function(k,S){return S==null?w:l(S)},u.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?h($p(S,k)):u},u.copy=function(){return ta(u,il(e,t,n,r,i,a,s,f,c,l))},u}function b3(){return wn.apply(il(dw,hw,nn,sa,ti,Tr,aa,ra,en,rl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y3(){return wn.apply(il(lw,uw,rn,fa,ni,cs,oa,ia,en,ca).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function us(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ds(){var e=0,t=.5,n=1,r=1,i,a,s,f,c,l=Ut,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?f:c),l(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),s=u(n=+n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(b){var v,_,x;return arguments.length?([v,_,x]=b,l=rs(g,[v,_,x]),p):[l(0),l(.5),l(1)]}}return p.range=m(ui),p.rangeRound=m(Yc),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),s=g(n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function s1(){var e=na(ds()(Ut));return e.copy=function(){return us(e,s1())},os.apply(e,arguments)}function f1(){var e=jp(ds()).domain([.1,1,10]);return e.copy=function(){return us(e,f1()).base(e.base())},os.apply(e,arguments)}function c1(){var e=zp(ds());return e.copy=function(){return us(e,c1()).constant(e.constant())},os.apply(e,arguments)}function l1(){var e=Hp(ds());return e.copy=function(){return us(e,l1()).exponent(e.exponent())},os.apply(e,arguments)}function ye(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const u1=ye("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_3=ye("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),v3=ye("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),w3=ye("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),x3=ye("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),S3=ye("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),k3=ye("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),M3=ye("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),A3=ye("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),E3=ye("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),T3=ye("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Oe=e=>Ny(e[e.length-1]);var d1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ye);const h1=Oe(d1);var p1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ye);const g1=Oe(p1);var m1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ye);const b1=Oe(m1);var y1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ye);const _1=Oe(y1);var mc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ye);const Do=Oe(mc);var v1=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ye);const w1=Oe(v1);var bc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ye);const Io=Oe(bc);var x1=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ye);const S1=Oe(x1);var k1=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ye);const M1=Oe(k1);var A1=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ye);const E1=Oe(A1);var T1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ye);const C1=Oe(T1);var N1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ye);const D1=Oe(N1);var I1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ye);const L1=Oe(I1);var O1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ye);const F1=Oe(O1);var P1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ye);const B1=Oe(P1);var R1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ye);const $1=Oe(R1);var j1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ye);const q1=Oe(j1);var z1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ye);const U1=Oe(z1);var H1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ye);const V1=Oe(H1);var W1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ye);const Y1=Oe(W1);var X1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ye);const G1=Oe(X1);var K1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ye);const Z1=Oe(K1);var J1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ye);const Q1=Oe(J1);var eg=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ye);const tg=Oe(eg);var ng=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ye);const rg=Oe(ng);var ig=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ye);const ag=Oe(ig);var og=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ye);const sg=Oe(og);function fg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const cg=Xc(yn(300,.5,0),yn(-240,.5,1));var lg=Xc(yn(-100,.75,.35),yn(80,1.5,.8)),ug=Xc(yn(260,.75,.35),yn(80,1.5,.8)),Ia=yn();function dg(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ia.h=360*e-100,Ia.s=1.5-1.5*t,Ia.l=.8-.9*t,Ia+""}var La=io(),C3=Math.PI/3,N3=Math.PI*2/3;function hg(e){var t;return e=(.5-e)*Math.PI,La.r=255*(t=Math.sin(e))*t,La.g=255*(t=Math.sin(e+C3))*t,La.b=255*(t=Math.sin(e+N3))*t,La+""}function pg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function hs(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const gg=hs(ye("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var mg=hs(ye("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bg=hs(ye("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yg=hs(ye("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Rr(e){return function(){return e}}const _g=Math.cos,al=Math.min,Lo=Math.sin,Ke=Math.sqrt,pd=1e-12,Oo=Math.PI,ps=2*Oo;function D3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ep(t)}function I3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vg(e){this._context=e}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gs(e){return new vg(e)}function L3(e){return e[0]}function O3(e){return e[1]}function F3(e,t){var n=Rr(!0),r=null,i=gs,a=null,s=D3(f);e=typeof e=="function"?e:e===void 0?L3:Rr(e),t=typeof t=="function"?t:t===void 0?O3:Rr(t);function f(c){var l,u=(c=I3(c)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),l=0;l<=u;++l)!(l<u&&n(d=c[l],l,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,l,c),+t(d,l,c));if(p)return a=null,p+""||null}return f.x=function(c){return arguments.length?(e=typeof c=="function"?c:Rr(+c),f):e},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:Rr(+c),f):t},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Rr(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),f):r},f}class wg{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function P3(e){return new wg(e,!0)}function B3(e){return new wg(e,!1)}const R3=Ke(3),xg={draw(e,t){const n=Ke(t+al(t/28,.75))*.59436,r=n/2,i=r*R3;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Vi={draw(e,t){const n=Ke(t/Oo);e.moveTo(n,0),e.arc(0,0,n,0,ps)}},Sg={draw(e,t){const n=Ke(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},kg=Ke(1/3),$3=kg*2,Mg={draw(e,t){const n=Ke(t/$3),r=n*kg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ag={draw(e,t){const n=Ke(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Eg={draw(e,t){const n=Ke(t-al(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Tg={draw(e,t){const n=Ke(t),r=-n/2;e.rect(r,r,n,n)}},Cg={draw(e,t){const n=Ke(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},j3=.8908130915292852,Ng=Lo(Oo/10)/Lo(7*Oo/10),q3=Lo(ps/10)*Ng,z3=-_g(ps/10)*Ng,Dg={draw(e,t){const n=Ke(t*j3),r=q3*n,i=z3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=ps*a/5,f=_g(s),c=Lo(s);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*i,c*r+f*i)}e.closePath()}},sf=Ke(3),Ig={draw(e,t){const n=-Ke(t/(sf*3));e.moveTo(0,n*2),e.lineTo(-sf*n,-n),e.lineTo(sf*n,-n),e.closePath()}},U3=Ke(3),Lg={draw(e,t){const n=Ke(t)*.6824,r=n/2,i=n*U3/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Rt=-.5,$t=Ke(3)/2,yc=1/Ke(12),H3=(yc/2+1)*3,Og={draw(e,t){const n=Ke(t/H3),r=n/2,i=n*yc,a=r,s=n*yc+n,f=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(f,c),e.lineTo(Rt*r-$t*i,$t*r+Rt*i),e.lineTo(Rt*a-$t*s,$t*a+Rt*s),e.lineTo(Rt*f-$t*c,$t*f+Rt*c),e.lineTo(Rt*r+$t*i,Rt*i-$t*r),e.lineTo(Rt*a+$t*s,Rt*s-$t*a),e.lineTo(Rt*f+$t*c,Rt*c-$t*f),e.closePath()}},Fg={draw(e,t){const n=Ke(t-al(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},V3=[Vi,Sg,Mg,Tg,Dg,Ig,Og],W3=[Vi,Eg,Fg,Lg,xg,Cg,Ag];function tr(){}function Fo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ms(e){this._context=e}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y3(e){return new ms(e)}function Pg(e){this._context=e}Pg.prototype={areaStart:tr,areaEnd:tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X3(e){return new Pg(e)}function Bg(e){this._context=e}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Fo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G3(e){return new Bg(e)}function Rg(e,t){this._basis=new ms(e),this._beta=t}Rg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+c*a),this._beta*t[f]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const K3=function e(t){function n(r){return t===1?new ms(r):new Rg(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Po(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ol(e,t){this._context=e,this._k=(1-t)/6}ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Po(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Po(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Z3=function e(t){function n(r){return new ol(r,t)}return n.tension=function(r){return e(+r)},n}(0);function sl(e,t){this._context=e,this._k=(1-t)/6}sl.prototype={areaStart:tr,areaEnd:tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Po(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const J3=function e(t){function n(r){return new sl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function fl(e,t){this._context=e,this._k=(1-t)/6}fl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Po(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Q3=function e(t){function n(r){return new fl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function cl(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>pd){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>pd){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function $g(e,t){this._context=e,this._alpha=t}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:cl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const e6=function e(t){function n(r){return t?new $g(r,t):new ol(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function jg(e,t){this._context=e,this._alpha=t}jg.prototype={areaStart:tr,areaEnd:tr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const t6=function e(t){function n(r){return t?new jg(r,t):new sl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function qg(e,t){this._context=e,this._alpha=t}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const n6=function e(t){function n(r){return t?new qg(r,t):new fl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function zg(e){this._context=e}zg.prototype={areaStart:tr,areaEnd:tr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r6(e){return new zg(e)}function gd(e){return e<0?-1:1}function md(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(gd(a)+gd(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function bd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ff(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,f=(a-r)/3;e._context.bezierCurveTo(r+f,i+f*t,a-f,s-f*n,a,s)}function Bo(e){this._context=e}Bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ff(this,this._t0,bd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ff(this,bd(this,n=md(this,e,t)),n);break;default:ff(this,this._t0,n=md(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Ug(e){this._context=new Hg(e)}(Ug.prototype=Object.create(Bo.prototype)).point=function(e,t){Bo.prototype.point.call(this,t,e)};function Hg(e){this._context=e}Hg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function i6(e){return new Bo(e)}function a6(e){return new Ug(e)}function Vg(e){this._context=e}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=yd(e),i=yd(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function o6(e){return new Vg(e)}function bs(e,t){this._context=e,this._t=t}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function s6(e){return new bs(e,.5)}function f6(e){return new bs(e,0)}function c6(e){return new bs(e,1)}const l6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Wg(e){return typeof e>"u"||e===null}function u6(e){return typeof e=="object"&&e!==null}function d6(e){return Array.isArray(e)?e:Wg(e)?[]:[e]}function h6(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function p6(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function g6(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var m6=Wg,b6=u6,y6=d6,_6=p6,v6=g6,w6=h6,pt={isNothing:m6,isObject:b6,toArray:y6,repeat:_6,isNegativeZero:v6,extend:w6};function Yg(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Wi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Yg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Wi.prototype=Object.create(Error.prototype);Wi.prototype.constructor=Wi;Wi.prototype.toString=function(t){return this.name+": "+Yg(this,t)};var Nn=Wi;function cf(e,t,n,r,i){var a="",s="",f=Math.floor(i/2)-1;return r-t>f&&(a=" ... ",t=r-f+a.length),n-r>f&&(s=" ...",n=r+f-s.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+a.length}}function lf(e,t){return pt.repeat(" ",t-e.length)+e}function x6(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var f="",c,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)l=cf(e.buffer,r[s-c],i[s-c],e.position-(r[s]-r[s-c]),d),f=pt.repeat(" ",t.indent)+lf((e.line-c+1).toString(),u)+" | "+l.str+`
`+f;for(l=cf(e.buffer,r[s],i[s],e.position,d),f+=pt.repeat(" ",t.indent)+lf((e.line+1).toString(),u)+" | "+l.str+`
`,f+=pt.repeat("-",t.indent+u+3+l.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)l=cf(e.buffer,r[s+c],i[s+c],e.position-(r[s]-r[s+c]),d),f+=pt.repeat(" ",t.indent)+lf((e.line+c+1).toString(),u)+" | "+l.str+`
`;return f.replace(/\n$/,"")}var S6=x6,k6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],M6=["scalar","sequence","mapping"];function A6(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function E6(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(k6.indexOf(n)===-1)throw new Nn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=A6(t.styleAliases||null),M6.indexOf(this.kind)===-1)throw new Nn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var st=E6;function _d(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}function T6(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function _c(e){return this.extend(e)}_c.prototype.extend=function(t){var n=[],r=[];if(t instanceof st)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Nn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof st))throw new Nn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Nn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Nn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof st))throw new Nn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(_c.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=_d(i,"implicit"),i.compiledExplicit=_d(i,"explicit"),i.compiledTypeMap=T6(i.compiledImplicit,i.compiledExplicit),i};var C6=_c,N6=new st("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),D6=new st("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),I6=new st("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),L6=new C6({explicit:[N6,D6,I6]});function O6(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function F6(){return null}function P6(e){return e===null}var B6=new st("tag:yaml.org,2002:null",{kind:"scalar",resolve:O6,construct:F6,predicate:P6,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function R6(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function $6(e){return e==="true"||e==="True"||e==="TRUE"}function j6(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var q6=new st("tag:yaml.org,2002:bool",{kind:"scalar",resolve:R6,construct:$6,predicate:j6,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function z6(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function U6(e){return 48<=e&&e<=55}function H6(e){return 48<=e&&e<=57}function V6(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!z6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!U6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!H6(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function W6(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Y6(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!pt.isNegativeZero(e)}var X6=new st("tag:yaml.org,2002:int",{kind:"scalar",resolve:V6,construct:W6,predicate:Y6,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),G6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function K6(e){return!(e===null||!G6.test(e)||e[e.length-1]==="_")}function Z6(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var J6=/^[-+]?[0-9]+e/;function Q6(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(pt.isNegativeZero(e))return"-0.0";return n=e.toString(10),J6.test(n)?n.replace("e",".e"):n}function e5(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||pt.isNegativeZero(e))}var t5=new st("tag:yaml.org,2002:float",{kind:"scalar",resolve:K6,construct:Z6,predicate:e5,represent:Q6,defaultStyle:"lowercase"}),n5=L6.extend({implicit:[B6,q6,X6,t5]}),r5=n5,Xg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Gg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function i5(e){return e===null?!1:Xg.exec(e)!==null||Gg.exec(e)!==null}function a5(e){var t,n,r,i,a,s,f,c=0,l=null,u,d,h;if(t=Xg.exec(e),t===null&&(t=Gg.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],f=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(n,r,i,a,s,f,c)),l&&h.setTime(h.getTime()-l),h}function o5(e){return e.toISOString()}var s5=new st("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i5,construct:a5,instanceOf:Date,represent:o5});function f5(e){return e==="<<"||e===null}var c5=new st("tag:yaml.org,2002:merge",{kind:"scalar",resolve:f5}),ll=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function l5(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=ll;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function u5(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=ll,s=0,f=[];for(t=0;t<i;t++)t%4===0&&t&&(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)):n===18?(f.push(s>>10&255),f.push(s>>2&255)):n===12&&f.push(s>>4&255),new Uint8Array(f)}function d5(e){var t="",n=0,r,i,a=e.length,s=ll;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function h5(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var p5=new st("tag:yaml.org,2002:binary",{kind:"scalar",resolve:l5,construct:u5,predicate:h5,represent:d5}),g5=Object.prototype.hasOwnProperty,m5=Object.prototype.toString;function b5(e){if(e===null)return!0;var t=[],n,r,i,a,s,f=e;for(n=0,r=f.length;n<r;n+=1){if(i=f[n],s=!1,m5.call(i)!=="[object Object]")return!1;for(a in i)if(g5.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function y5(e){return e!==null?e:[]}var _5=new st("tag:yaml.org,2002:omap",{kind:"sequence",resolve:b5,construct:y5}),v5=Object.prototype.toString;function w5(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],v5.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function x5(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var S5=new st("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:w5,construct:x5}),k5=Object.prototype.hasOwnProperty;function M5(e){if(e===null)return!0;var t,n=e;for(t in n)if(k5.call(n,t)&&n[t]!==null)return!1;return!0}function A5(e){return e!==null?e:{}}var E5=new st("tag:yaml.org,2002:set",{kind:"mapping",resolve:M5,construct:A5}),T5=r5.extend({implicit:[s5,c5],explicit:[p5,_5,S5,E5]}),nr=Object.prototype.hasOwnProperty,Ro=1,Kg=2,Zg=3,$o=4,uf=1,C5=2,vd=3,N5=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,D5=/[\x85\u2028\u2029]/,I5=/[,\[\]\{\}]/,Jg=/^(?:!|!!|![a-z\-]+!)$/i,Qg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function wd(e){return Object.prototype.toString.call(e)}function mn(e){return e===10||e===13}function pr(e){return e===9||e===32}function kt(e){return e===9||e===32||e===10||e===13}function Hr(e){return e===44||e===91||e===93||e===123||e===125}function L5(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function O5(e){return e===120?2:e===117?4:e===85?8:0}function F5(e){return 48<=e&&e<=57?e-48:-1}function xd(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function P5(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var em=new Array(256),tm=new Array(256);for(var $r=0;$r<256;$r++)em[$r]=xd($r)?1:0,tm[$r]=xd($r);function B5(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||T5,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function nm(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=S6(n),new Nn(t,n)}function ue(e,t){throw nm(e,t)}function jo(e,t){e.onWarning&&e.onWarning.call(null,nm(e,t))}var Sd={YAML:function(t,n,r){var i,a,s;t.version!==null&&ue(t,"duplication of %YAML directive"),r.length!==1&&ue(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&ue(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&ue(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&jo(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&ue(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],Jg.test(i)||ue(t,"ill-formed tag handle (first argument) of the TAG directive"),nr.call(t.tagMap,i)&&ue(t,'there is a previously declared suffix for "'+i+'" tag handle'),Qg.test(a)||ue(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{ue(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Zn(e,t,n,r){var i,a,s,f;if(t<n){if(f=e.input.slice(t,n),r)for(i=0,a=f.length;i<a;i+=1)s=f.charCodeAt(i),s===9||32<=s&&s<=1114111||ue(e,"expected valid JSON character");else N5.test(f)&&ue(e,"the stream contains non-printable characters");e.result+=f}}function kd(e,t,n,r){var i,a,s,f;for(pt.isObject(n)||ue(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,f=i.length;s<f;s+=1)a=i[s],nr.call(t,a)||(t[a]=n[a],r[a]=!0)}function Vr(e,t,n,r,i,a,s,f,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&ue(e,"nested arrays are not supported inside keys"),typeof i=="object"&&wd(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&wd(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(l=0,u=a.length;l<u;l+=1)kd(e,t,a[l],n);else kd(e,t,a,n);else!e.json&&!nr.call(n,i)&&nr.call(t,i)&&(e.line=s||e.line,e.lineStart=f||e.lineStart,e.position=c||e.position,ue(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function ul(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ue(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ve(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;pr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(mn(i))for(ul(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&jo(e,"deficient indentation"),r}function ys(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||kt(n)))}function dl(e,t){t===1?e.result+=" ":t>1&&(e.result+=pt.repeat(`
`,t-1))}function R5(e,t,n){var r,i,a,s,f,c,l,u,d=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),kt(p)||Hr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),kt(i)||n&&Hr(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,f=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),kt(i)||n&&Hr(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),kt(r))break}else{if(e.position===e.lineStart&&ys(e)||n&&Hr(p))break;if(mn(p))if(c=e.line,l=e.lineStart,u=e.lineIndent,Ve(e,!1,-1),e.lineIndent>=t){f=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=l,e.lineIndent=u;break}}f&&(Zn(e,a,s,!1),dl(e,e.line-c),a=s=e.position,f=!1),pr(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Zn(e,a,s,!1),e.result?!0:(e.kind=d,e.result=h,!1)}function $5(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Zn(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else mn(n)?(Zn(e,r,i,!0),dl(e,Ve(e,!1,t)),r=i=e.position):e.position===e.lineStart&&ys(e)?ue(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ue(e,"unexpected end of the stream within a single quoted scalar")}function j5(e,t){var n,r,i,a,s,f;if(f=e.input.charCodeAt(e.position),f!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(f=e.input.charCodeAt(e.position))!==0;){if(f===34)return Zn(e,n,e.position,!0),e.position++,!0;if(f===92){if(Zn(e,n,e.position,!0),f=e.input.charCodeAt(++e.position),mn(f))Ve(e,!1,t);else if(f<256&&em[f])e.result+=tm[f],e.position++;else if((s=O5(f))>0){for(i=s,a=0;i>0;i--)f=e.input.charCodeAt(++e.position),(s=L5(f))>=0?a=(a<<4)+s:ue(e,"expected hexadecimal character");e.result+=P5(a),e.position++}else ue(e,"unknown escape sequence");n=r=e.position}else mn(f)?(Zn(e,n,r,!0),dl(e,Ve(e,!1,t)),n=r=e.position):e.position===e.lineStart&&ys(e)?ue(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}ue(e,"unexpected end of the stream within a double quoted scalar")}function q5(e,t){var n=!0,r,i,a,s=e.tag,f,c=e.anchor,l,u,d,h,p,m=Object.create(null),g,b,v,_;if(_=e.input.charCodeAt(e.position),_===91)u=93,p=!1,f=[];else if(_===123)u=125,p=!0,f={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),_=e.input.charCodeAt(++e.position);_!==0;){if(Ve(e,!0,t),_=e.input.charCodeAt(e.position),_===u)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=f,!0;n?_===44&&ue(e,"expected the node content, but found ','"):ue(e,"missed comma between flow collection entries"),b=g=v=null,d=h=!1,_===63&&(l=e.input.charCodeAt(e.position+1),kt(l)&&(d=h=!0,e.position++,Ve(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,ri(e,t,Ro,!1,!0),b=e.tag,g=e.result,Ve(e,!0,t),_=e.input.charCodeAt(e.position),(h||e.line===r)&&_===58&&(d=!0,_=e.input.charCodeAt(++e.position),Ve(e,!0,t),ri(e,t,Ro,!1,!0),v=e.result),p?Vr(e,f,m,b,g,v,r,i,a):d?f.push(Vr(e,null,m,b,g,v,r,i,a)):f.push(g),Ve(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(n=!0,_=e.input.charCodeAt(++e.position)):n=!1}ue(e,"unexpected end of the stream within a flow collection")}function z5(e,t){var n,r,i=uf,a=!1,s=!1,f=t,c=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)uf===i?i=d===43?vd:C5:ue(e,"repeat of a chomping mode identifier");else if((u=F5(d))>=0)u===0?ue(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?ue(e,"repeat of an indentation width identifier"):(f=t+u-1,s=!0);else break;if(pr(d)){do d=e.input.charCodeAt(++e.position);while(pr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!mn(d)&&d!==0)}for(;d!==0;){for(ul(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<f)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>f&&(f=e.lineIndent),mn(d)){c++;continue}if(e.lineIndent<f){i===vd?e.result+=pt.repeat(`
`,a?1+c:c):i===uf&&a&&(e.result+=`
`);break}for(r?pr(d)?(l=!0,e.result+=pt.repeat(`
`,a?1+c:c)):l?(l=!1,e.result+=pt.repeat(`
`,c+1)):c===0?a&&(e.result+=" "):e.result+=pt.repeat(`
`,c):e.result+=pt.repeat(`
`,a?1+c:c),a=!0,s=!0,c=0,n=e.position;!mn(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Zn(e,n,e.position,!1)}return!0}function Md(e,t){var n,r=e.tag,i=e.anchor,a=[],s,f=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ue(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!kt(s))));){if(f=!0,e.position++,Ve(e,!0,-1)&&e.lineIndent<=t){a.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,ri(e,t,Zg,!1,!0),a.push(e.result),Ve(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)ue(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return f?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function U5(e,t,n){var r,i,a,s,f,c,l=e.tag,u=e.anchor,d={},h=Object.create(null),p=null,m=null,g=null,b=!1,v=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),_=e.input.charCodeAt(e.position);_!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ue(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(_===63||_===58)&&kt(r))_===63?(b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):ue(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=r;else{if(s=e.line,f=e.lineStart,c=e.position,!ri(e,n,Kg,!1,!0))break;if(e.line===a){for(_=e.input.charCodeAt(e.position);pr(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),kt(_)||ue(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),v=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(v)ue(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)ue(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,f=e.lineStart,c=e.position),ri(e,t,$o,!0,i)&&(b?m=e.result:g=e.result),b||(Vr(e,d,h,p,m,g,s,f,c),p=m=g=null),Ve(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&_!==0)ue(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Vr(e,d,h,p,m,null,s,f,c),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),v}function H5(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&ue(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):ue(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!kt(s);)s===33&&(r?ue(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Jg.test(i)||ue(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),I5.test(a)&&ue(e,"tag suffix cannot contain flow indicator characters")}a&&!Qg.test(a)&&ue(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{ue(e,"tag name is malformed: "+a)}return n?e.tag=a:nr.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:ue(e,'undeclared tag handle "'+i+'"'),!0}function V5(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&ue(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!kt(n)&&!Hr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ue(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function W5(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!kt(r)&&!Hr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ue(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),nr.call(e.anchorMap,n)||ue(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ve(e,!0,-1),!0}function ri(e,t,n,r,i){var a,s,f,c=1,l=!1,u=!1,d,h,p,m,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=f=$o===n||Zg===n,r&&Ve(e,!0,-1)&&(l=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;H5(e)||V5(e);)Ve(e,!0,-1)?(l=!0,f=a,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):f=!1;if(f&&(f=l||i),(c===1||$o===n)&&(Ro===n||Kg===n?g=t:g=t+1,b=e.position-e.lineStart,c===1?f&&(Md(e,b)||U5(e,b,g))||q5(e,g)?u=!0:(s&&z5(e,g)||$5(e,g)||j5(e,g)?u=!0:W5(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ue(e,"alias node should not have any properties")):R5(e,g,Ro===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(u=f&&Md(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ue(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(nr.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,h=p.length;d<h;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||ue(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&ue(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ue(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function Y5(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ve(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!kt(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&ue(e,"directive name must not be less than one character in length");s!==0;){for(;pr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!mn(s));break}if(mn(s))break;for(n=e.position;s!==0&&!kt(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&ul(e),nr.call(Sd,r)?Sd[r](e,r,i):jo(e,'unknown document directive "'+r+'"')}if(Ve(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ve(e,!0,-1)):a&&ue(e,"directives end mark is expected"),ri(e,e.lineIndent-1,$o,!1,!0),Ve(e,!0,-1),e.checkLineBreaks&&D5.test(e.input.slice(t,e.position))&&jo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ys(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ve(e,!0,-1));return}if(e.position<e.length-1)ue(e,"end of the stream or a document separator is expected");else return}function rm(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new B5(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,ue(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Y5(n);return n.documents}function X5(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=rm(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function G5(e,t){var n=rm(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Nn("expected a single document in the stream, but found more")}}var K5=X5,Z5=G5,J5={loadAll:K5,load:Z5},Q5=J5.load;function rr(e){return e!=null&&!Number.isNaN(e)}function _n(e,t){return+rr(t)-+rr(e)||Tt(e,t)}function qo(e,t){return+rr(t)-+rr(e)||Ji(e,t)}function hl(e){return e!=null&&`${e}`!=""}function im(e){return isFinite(e)?e:NaN}function la(e){return e>0&&isFinite(e)?e:NaN}function _s(e){return e<0&&isFinite(e)?e:NaN}function e4(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${t4(e.getUTCFullYear())}-${Cn(e.getUTCMonth()+1,2)}-${Cn(e.getUTCDate(),2)}${n||r||i||a?`T${Cn(n,2)}:${Cn(r,2)}${i||a?`:${Cn(i,2)}${a?`.${Cn(a,3)}`:""}`:""}Z`:""}`}function t4(e){return e<0?`-${Cn(-e,6)}`:e>9999?`+${Cn(e,6)}`:Cn(e,4)}function Cn(e,t){return`${e}`.padStart(t,"0")}const n4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function am(e,t){return n4.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function ii(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Ji(t,n)}const Wr=1e3,Vn=Wr*60,Wn=Vn*60,vn=Wn*24,fn=vn*7,gr=vn*30,jn=vn*365,df=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Wr],["5 seconds",5*Wr],["15 seconds",15*Wr],["30 seconds",30*Wr],["minute",Vn],["5 minutes",5*Vn],["15 minutes",15*Vn],["30 minutes",30*Vn],["hour",Wn],["3 hours",3*Wn],["6 hours",6*Wn],["12 hours",12*Wn],["day",vn],["2 days",2*vn],["week",fn],["2 weeks",2*fn],["month",gr],["3 months",3*gr],["6 months",6*gr],["year",jn],["2 years",2*jn],["5 years",5*jn],["10 years",10*jn],["20 years",20*jn],["50 years",50*jn],["100 years",100*jn]],pl=new Map([["second",Wr],["minute",Vn],["hour",Wn],["day",vn],["monday",fn],["tuesday",fn],["wednesday",fn],["thursday",fn],["friday",fn],["saturday",fn],["sunday",fn],["week",fn],["month",gr],["year",jn]]),om=new Map([["second",en],["minute",ra],["hour",aa],["day",Tr],["monday",Ui],["tuesday",Xp],["wednesday",Gp],["thursday",Sr],["friday",Kp],["saturday",Zp],["sunday",ti],["week",ti],["month",sa],["year",nn]]),gl=new Map([["second",en],["minute",ia],["hour",oa],["day",ls],["monday",Hi],["tuesday",Jp],["wednesday",Qp],["thursday",kr],["friday",e1],["saturday",t1],["sunday",ni],["week",ni],["month",fa],["year",rn]]),ua=Symbol("intervalDuration"),vs=Symbol("intervalType");for(const[e,t]of om)t[ua]=pl.get(e),t[vs]="time";for(const[e,t]of gl)t[ua]=pl.get(e),t[vs]="utc";const Di=[["year",rn,"utc"],["month",fa,"utc"],["day",ls,"utc",6*gr],["hour",oa,"utc",3*vn],["minute",ia,"utc",6*Wn],["second",en,"utc",30*Vn]],Ja=[["year",nn,"time"],["month",sa,"time"],["day",Tr,"time",6*gr],["hour",aa,"time",3*vn],["minute",ra,"time",6*Wn],["second",en,"time",30*Vn]],r4=[Di[0],Ja[0],Di[1],Ja[1],Di[2],Ja[2],...Di.slice(3)];function sm(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=gl.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function fm(e){return lm(sm(e),"time")}function cm(e){return lm(sm(e),"utc")}function lm([e,t],n){let r=(n==="time"?om:gl).get(e);return t>1&&(r=r.every(t),r[ua]=pl.get(e)*t,r[vs]=n),r}function Ad(e,t){if(!(t>1))return;const n=e[ua];if(!df.some(([,i])=>i===n)||n%vn===0&&vn<n&&n<gr)return;const[r]=df[es(([,i])=>Math.log(i)).center(df,Math.log(n*t))];return(e[vs]==="time"?fm:cm)(r)}function Ed(e,t,n){const r=t==="time"?rl:ca;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=i4(n);switch(e){case"millisecond":return jr(r(".%L"),r(":%M:%S"),i);case"second":return jr(r(":%S"),r("%-I:%M"),i);case"minute":return jr(r("%-I:%M"),r("%p"),i);case"hour":return jr(r("%-I %p"),r("%b %-d"),i);case"day":return jr(r("%-d"),r("%b"),i);case"month":return jr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function i4(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function a4(e){return e==="time"?Ja:e==="utc"?Di:r4}function o4(e,t,n){const r=It(l_(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return Ed("millisecond","utc",n);for(const[i,a,s,f]of a4(e)){if(r>f||i==="hour"&&!r)break;if(t.every(c=>a.floor(c)>=c))return Ed(i,s,n)}}function jr(e,t,n){return(r,i,a)=>{const s=e(r,i),f=t(r,i),c=i-ii(a);return i!==c&&a[c]!==void 0&&f===t(a[c],c)?s:n(s,f)}}const Yi=Object.getPrototypeOf(Uint8Array),s4=Object.prototype.toString,um=Symbol("reindex");function Vt(e,t,n){const r=typeof t;return r==="string"?Td(e,dm(t),n):r==="function"?Td(e,t,n):r==="number"||t instanceof Date||r==="boolean"?et(e,da(t),n):typeof(t==null?void 0:t.transform)=="function"?Cd(t.transform(e),n):f4(Cd(t,n),e==null?void 0:e[um])}function f4(e,t){return t?bl(e,t):e}function Td(e,t,n){return et(e,(n==null?void 0:n.prototype)instanceof Yi?c4(t):t,n)}function Cd(e,t){return t===void 0?Ot(e):e instanceof t?e:t.prototype instanceof Yi&&!(e instanceof Yi)?t.from(e,ml):t.from(e)}function c4(e){return(t,n)=>ml(e(t,n))}const Qa=[null],dm=e=>t=>t[e],hm={transform:or},Ft={transform:e=>e},l4=()=>1,u4=()=>!0,gt=e=>e==null?e:`${e}`,Fe=e=>e==null?e:+e,pm=e=>e?e[0]:void 0,d4=e=>e?e[1]:void 0,da=e=>()=>e;function h4(e){const t=+`${e}`.slice(1)/100;return(n,r)=>co(n,t,r)}function Yn(e){return e instanceof Yi?e:et(e,ml,Float64Array)}function ml(e){return e==null?NaN:Number(e)}function p4(e){return et(e,g4)}function g4(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?am(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Mr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Ss(e)?[void 0,e]:[e,void 0]}function ot(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function gm(e,t,n){if(e!=null)return on(e,t,n)}function on(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Ot(e){return e==null||e instanceof Array||e instanceof Yi?e:Array.from(e)}function et(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Xi(e,t=Array){return e instanceof t?e.slice():t.from(e)}function mm({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function m4({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function b4(e){return mm(e)||m4(e)||e.interval!==void 0}function Dr(e){return(e==null?void 0:e.toString)===s4}function zo(e){return Dr(e)&&(e.type!==void 0||e.domain!==void 0)}function ws(e){return Dr(e)&&typeof e.transform!="function"}function ai(e){return ws(e)&&e.value===void 0&&e.channel===void 0}function y4(e,t,n,r=Ft){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function ha(e,t){return e===void 0&&t===void 0?[pm,d4]:[e,t]}function bm({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Mr(t)),e===void 0&&([e]=Mr(n)),e}function or(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function bl(e,t){return et(t,n=>e[n],e.constructor)}function _4(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function ur(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vc(e){let t;return[{transform:()=>t,label:pa(e)},n=>t=n]}function v4(e){return e==null?[e]:vc(e)}function pa(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function w4(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Yt(r)||Yt(i)?et(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):et(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function x4(e,t){const n=ym(t==null?void 0:t.interval,t==null?void 0:t.type);return n?et(e,n):e}function ym(e,t){const n=yl(e,t);return n&&(r=>rr(r)?n.floor(r):r)}function yl(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Hf(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Hf(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?fm:cm)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function ga(e,t){if(e=yl(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function S4(e,t){if(e=ga(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function k4(e){return typeof(e==null?void 0:e.range)=="function"}function xs(e){return e===void 0||ws(e)?e:{value:e}}function M4(e){return e==null?null:{transform:t=>Vt(t,e,Float64Array),label:pa(e)}}function Ir(e){return e&&typeof e[Symbol.iterator]=="function"}function _m(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Nd(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Yt(e){for(const t of e)if(t!=null)return t instanceof Date}function A4(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&am(t)}function E4(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function T4(e){for(const t of e)if(t!=null)return typeof t=="number"}function hf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const C4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ss(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||C4.has(e))}function N4(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function xt(e){return e==null||Gi(e)}function Gi(e){return/^\s*none\s*$/i.test(e)}function D4(e){return/^\s*round\s*$/i.test(e)}function wc(e,t){return gm(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ks(e="middle"){return wc(e,"frameAnchor")}function I4(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function L4(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function vm(e){return Ir(e)?L4(e):e}function wm(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=on(e,"clip",["frame","sphere"])),e}const pn=Symbol("position"),Bn=Symbol("color"),ma=Symbol("radius"),ba=Symbol("length"),ya=Symbol("opacity"),Ms=Symbol("symbol"),xm=Symbol("projection"),je=new Map([["x",pn],["y",pn],["fx",pn],["fy",pn],["r",ma],["color",Bn],["opacity",ya],["symbol",Ms],["length",ba],["projection",xm]]);function O4(e){return e===pn||e===xm}function F4(e){return e===pn||e===ma||e===ba||e===ya}const P4=Math.sqrt(3),B4=2/P4,R4={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*B4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},_l=new Map([["asterisk",xg],["circle",Vi],["cross",Sg],["diamond",Mg],["diamond2",Ag],["hexagon",R4],["plus",Eg],["square",Tg],["square2",Cg],["star",Dg],["times",Fg],["triangle",Ig],["triangle2",Lg],["wye",Og]]);function vl(e){return e&&typeof e.draw=="function"}function $4(e){return vl(e)?!0:typeof e!="string"?!1:_l.has(e.toLowerCase())}function wl(e){if(e==null||vl(e))return e;const t=_l.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function j4(e){if(e==null||vl(e))return[void 0,e];if(typeof e=="string"){const t=_l.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function xl({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Sm(e)),t!=null&&!ai(t)&&(r=pf(r,Sl(t))),n&&(r=pf(r,km))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||ai(t))&&{sort:t},transform:pf(r,s)}}function oi({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Sm(e)),t!=null&&!ai(t)&&(r=gf(r,Sl(t))),n&&(r=gf(r,km))),{...i,...(t===null||ai(t))&&{sort:t},initializer:gf(r,a)}}function pf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Ot(n),r,i)}}function gf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,f,c,l,u,d;return{data:f=n,facets:c=r,channels:s}=e.call(this,n,r,i,...a),{data:u=f,facets:d=c,channels:l}=t.call(this,f,c,{...i,...s},...a),{data:u,facets:d,channels:{...s,...l}}}}function q4(e,t){return(e.initializer!=null?oi:xl)(e,t)}function Sm(e){return(t,n)=>{const r=Vt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function km(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function z4(e,{sort:t,...n}={}){return{...(ws(e)&&e.channel!==void 0?oi:q4)(n,Sl(e)),sort:ai(t)?t:null}}function Sl(e){return(typeof e=="function"&&e.length!==1?U4:H4)(e)}function U4(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function H4(e){let t,n;({channel:t,value:e,order:n}={...xs(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?qo:_n),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=_n;break;case"descending":n=qo;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(t===void 0)f=Vt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[t],!f)return{};f=f.value}const c=(l,u)=>n(f[l],f[u]);return{data:i,facets:a.map(l=>l.slice().sort(c))}}}function V4(e,t,n=W4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Dr(e))return Y4(e);if(typeof e=="function")return X4(e);if(/^p\d{2}$/i.test(e))return Tn(h4(e));switch(`${e}`.toLowerCase()){case"first":return K4;case"last":return Z4;case"identity":return G4;case"count":return Id;case"distinct":return J4;case"sum":return t==null?Id:Q4;case"proportion":return Ld(t,"data");case"proportion-facet":return Ld(t,"facet");case"deviation":return Tn(J2);case"min":return Tn(bn);case"min-index":return Tn(a_);case"max":return Tn(It);case"max-index":return Tn(i_);case"mean":return Dd(s_);case"median":return Dd(Uf);case"variance":return Tn(O0);case"mode":return Tn(c_)}return n(e)}function W4(e){throw new Error(`invalid reduce: ${e}`)}function Y4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function X4(e){return{reduceIndex(t,n,r){return e(bl(n,t),r)}}}function Tn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Dd(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Yt(n)?new Date(r):r}}}const G4={reduceIndex(e,t){return bl(t,e)}},K4={reduceIndex(e,t){return t[e[0]]}},Z4={reduceIndex(e,t){return t[e[e.length-1]]}},Id={label:"Frequency",reduceIndex(e){return e.length}},J4={label:"Distinct",reduceIndex(e,t){const n=new ts;for(const r of e)n.add(t[r]);return n.size}},Q4=Tn(wr);function Ld(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>wr(n,a=>r[a])/i}}function Ki(e,{scale:t,type:n,value:r,filter:i,hint:a,label:s=pa(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Mm(f,{scale:t,type:n,value:Vt(e,r),label:s,filter:i,hint:a})}function e8(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Ki(t,r,n)]))}function t8(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:et(a,s)]}));return n.channels=e,n}function Mm(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&hf(r,Ss)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&hf(r,N4)?null:"opacity";break;case"symbol":n!==!0&&hf(r,$4)?(t.scale=null,t.value=et(r,wl)):t.scale="symbol";break;default:t.scale=je.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!je.has(n))throw new Error(`unknown scale: ${n}`);return t}function n8(e,t,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:c}=i;for(const l in i){if(!je.has(l))continue;let{value:u,order:d=a,reverse:h=s,reduce:p=f,limit:m=c}=xs(i[l]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Em:Am:a8(d),p==null||p===!1)continue;const b=l==="fx"||l==="fy"?i8(t,r[l]):r8(n,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const v=b.value,[_=0,x=1/0]=Ir(m)?m:m<0?[m]:[0,m];if(u==null)b.domain=()=>{let y=Array.from(new ts(v));return h&&(y=y.reverse()),(_!==0||x!==1/0)&&(y=y.slice(_,x)),y};else{const y=u==="data"?e:u==="height"?Od(n,"y1","y2"):u==="width"?Od(n,"x1","x2"):xc(n,u,u==="y"?"y2":u==="x"?"x2":void 0),w=V4(p===!0?"max":p,y);b.domain=()=>{let k=Q2(or(v),S=>w.reduceIndex(S,y),S=>v[S]);return d&&k.sort(d),h&&k.reverse(),(_!==0||x!==1/0)&&(k=k.slice(_,x)),k.map(pm)}}}}function r8(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function i8(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of e[a])i[f]=s}return t}function Od(e,t,n){const r=xc(e,t),i=xc(e,n);return et(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function xc(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function a8(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Am;case"descending":return Em}throw new Error(`invalid order: ${e}`)}function Am([e,t],[n,r]){return _n(t,r)||_n(e,n)}function Em([e,t],[n,r]){return qo(t,r)||_n(e,n)}function Fd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function kl(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:wm(n)}}function We(e,{document:t}){return wt(A0(e).call(t.documentElement))}let Sc=0,kc;function o8(){const e=Sc;return Sc=0,kc=void 0,e}function Jn(e){e!==kc&&(kc=e,console.warn(e),++Sc)}const Tm=Math.PI,Mn=2*Tm,Pd=.618;function s8({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let f,c,l="frame";if(Dr(e)){let w;if({type:e,domain:c,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Cm(e));const{width:u,height:d,marginLeft:h,marginRight:p,marginTop:m,marginBottom:g}=s,b=u-h-p-a-r,v=d-m-g-n-i;if(e=e==null?void 0:e({width:b,height:v,clip:l,...f}),e==null)return;l=f8(l,h,m,u-p,d-g);let _=h+a,x=m+n,y;if(c!=null){const[[w,k],[S,T]]=Qi(e).bounds(c),I=Math.min(b/(S-w),v/(T-k));I>0?(_-=(I*(w+S)-b)/2,x-=(I*(k+T)-v)/2,y=Ao({point(A,M){this.stream.point(A*I+_,M*I+x)}})):Jn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=_===0&&x===0?Nm():Ao({point(w,k){this.stream.point(w+_,k+x)}})),{stream:w=>e.stream(y.stream(l(w)))}}function Cm(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Jt(Pv,.7463,.4673);case"albers":return Oa(Ap,.7463,.4673);case"azimuthal-equal-area":return Jt(Bv,4,4);case"azimuthal-equidistant":return Jt(Rv,Mn,Mn);case"conic-conformal":return Oa(qv,Mn,Mn);case"conic-equal-area":return Oa(Eo,6.1702,2.9781);case"conic-equidistant":return Oa(Hv,7.312,3.6282);case"equal-earth":return Jt(Wv,5.4133,2.6347);case"equirectangular":return Jt(zv,Mn,Tm);case"gnomonic":return Jt(Yv,3.4641,3.4641);case"identity":return{type:Nm};case"reflect-y":return{type:c8};case"mercator":return Jt($v,Mn,Mn);case"orthographic":return Jt(Xv,2,2);case"stereographic":return Jt(Gv,2,2);case"transverse-mercator":return Jt(Kv,Mn,Mn);default:throw new Error(`unknown projection type: ${e}`)}}function f8(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return lp(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Jt(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var l,u,d;const c=e();return s!=null&&((l=c.precision)==null||l.call(c,s)),a!=null&&((u=c.rotate)==null||u.call(c,a)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function Oa(e,t,n){const{type:r,aspectRatio:i}=Jt(e,t,n);return{type:a=>{const{parallels:s,domain:f,width:c,height:l}=a,u=r(a);return s!=null&&(u.parallels(s),f===void 0&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:i}}const Nm=da({stream:e=>e}),c8=da(Ao({point(e,t){this.stream.point(e,-t)}}));function l8(e,t,n,r){const i=n[e],a=n[t],s=i.length,f=n[e]=new Float64Array(s).fill(NaN),c=n[t]=new Float64Array(s).fill(NaN);let l;const u=r.stream({point(d,h){f[l]=d,c[l]=h}});for(l=0;l<s;++l)u.point(i[l],a[l])}function u8({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Dr(e)&&(e=e.type),e!=null)}function d8(e){if(typeof(e==null?void 0:e.stream)=="function")return Pd;if(Dr(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=Cm(e);if(t)return t}return Pd}}function h8(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,f){t.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)lr(s,a);return[r,i]}const Dm=new Map([["accent",_3],["category10",u1],["dark2",v3],["observable10",w3],["paired",x3],["pastel1",S3],["pastel2",k3],["set1",M3],["set2",A3],["set3",E3],["tableau10",T3]]);function p8(e){return e!=null&&Dm.has(`${e}`.toLowerCase())}const Bd=new Map([...Dm,["brbg",An(d1,h1)],["prgn",An(p1,g1)],["piyg",An(m1,b1)],["puor",An(y1,_1)],["rdbu",An(mc,Do)],["rdgy",An(v1,w1)],["rdylbu",An(bc,Io)],["rdylgn",An(x1,S1)],["spectral",An(k1,M1)],["burd",Rd(mc,Do)],["buylrd",Rd(bc,Io)],["blues",Qe(K1,Z1)],["greens",Qe(J1,Q1)],["greys",Qe(eg,tg)],["oranges",Qe(og,sg)],["purples",Qe(ng,rg)],["reds",Qe(ig,ag)],["turbo",En(pg)],["viridis",En(gg)],["magma",En(mg)],["inferno",En(bg)],["plasma",En(yg)],["cividis",En(fg)],["cubehelix",En(cg)],["warm",En(lg)],["cool",En(ug)],["bugn",Qe(A1,E1)],["bupu",Qe(T1,C1)],["gnbu",Qe(N1,D1)],["orrd",Qe(I1,L1)],["pubu",Qe(P1,B1)],["pubugn",Qe(O1,F1)],["purd",Qe(R1,$1)],["rdpu",Qe(j1,q1)],["ylgn",Qe(H1,V1)],["ylgnbu",Qe(z1,U1)],["ylorbr",Qe(W1,Y1)],["ylorrd",Qe(X1,G1)],["rainbow",$d(dg)],["sinebow",$d(hg)]]);function Qe(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?tn(t,n):e[n])}function An(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?tn(t,n):e[n])}function Rd(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?tn(r=>t(1-r),n):e[n].slice().reverse())}function En(e){return({length:t})=>tn(e,Math.max(2,Math.floor(t)))}function $d(e){return({length:t})=>tn(e,Math.floor(t)+1).slice(0,-1)}function Im(e){const t=`${e}`.toLowerCase();if(!Bd.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Bd.get(t)}function As(e,t){const n=Im(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function g8(e,t="greys"){const n=new Set,[r,i]=As(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const jd=new Map([["brbg",h1],["prgn",g1],["piyg",b1],["puor",_1],["rdbu",Do],["rdgy",w1],["rdylbu",Io],["rdylgn",S1],["spectral",M1],["burd",e=>Do(1-e)],["buylrd",e=>Io(1-e)],["blues",Z1],["greens",Q1],["greys",tg],["purples",rg],["reds",ag],["oranges",sg],["turbo",pg],["viridis",gg],["magma",mg],["inferno",bg],["plasma",yg],["cividis",fg],["cubehelix",cg],["warm",lg],["cool",ug],["bugn",E1],["bupu",C1],["gnbu",D1],["orrd",L1],["pubugn",F1],["pubu",B1],["purd",$1],["rdpu",q1],["ylgnbu",U1],["ylgn",V1],["ylorbr",Y1],["ylorrd",G1],["rainbow",dg],["sinebow",hg]]);function Ml(e){const t=`${e}`.toLowerCase();if(!jd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return jd.get(t)}const m8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function b8(e){return e!=null&&m8.has(`${e}`.toLowerCase())}const Lm=e=>t=>e(1-t),mf=[0,1],qd=new Map([["number",er],["rgb",Ri],["hsl",I_],["hcl",F_],["lab",L_]]);function Om(e){const t=`${e}`.toLowerCase();if(!qd.has(t))throw new Error(`unknown interpolator: ${t}`);return qd.get(t)}function _a(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:f=Pm(e,n),unknown:c,round:l,scheme:u,interval:d,range:h=je.get(e)===ma?T8(n,f):je.get(e)===ba?C8(n,f):je.get(e)===ya?mf:void 0,interpolate:p=je.get(e)===Bn?u==null&&h!==void 0?Ri:Ml(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):l?Yc:er,reverse:m}){if(d=ga(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=Om(p)),m=!!m,h!==void 0){const g=(f=Ot(f)).length,b=(h=Ot(h)).length;if(g!==b){if(p.length===1)throw new Error("invalid piecewise interpolator");p=rs(p,h),h=void 0}}if(p.length===1?(m&&(p=Lm(p),m=!1),h===void 0&&(h=Float64Array.from(f,(g,b)=>b/(f.length-1)),h.length===2&&(h=mf)),t.interpolate((h===mf?da:El)(p))):t.interpolate(p),s){const[g,b]=Kn(f);(g>0||b<0)&&(f=Xi(f),ii(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return m&&(f=lo(f)),t.domain(f).unknown(c),i&&(t.nice(y8(i,r)),f=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:f,range:h,scale:t,interpolate:p,interval:d}}function y8(e,t){return e===!0?void 0:typeof e=="number"?e:S4(e,t)}function _8(e,t,n){return _a(e,tl(),t,n)}function v8(e,t,n){return Fm(e,t,{...n,exponent:.5})}function Fm(e,t,{exponent:n=1,...r}){return _a(e,Vp().exponent(n),t,{...r,type:"pow"})}function w8(e,t,{base:n=10,domain:r=N8(t),...i}){return _a(e,qp().base(n),t,{...i,domain:r})}function x8(e,t,{constant:n=1,...r}){return _a(e,Up().constant(n),t,r)}function S8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=D8(t),unknown:f,interpolate:c,reverse:l}){return n===void 0&&(n=c!==void 0?tn(c,i):je.get(e)===Bn?As(a,i):void 0),s.length>0&&(s=Wp(s,n===void 0?{length:i}:n).quantiles()),Al(e,t,{domain:s,range:n,reverse:l,unknown:f})}function k8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Pm(e,t),unknown:s,interpolate:f,reverse:c}){const[l,u]=Kn(a);let d;return n===void 0?(d=fo(l,u,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,n=f!==void 0?tn(f,r):je.get(e)===Bn?As(i,r):void 0):(d=tn(er(l,u),r+1).slice(1,-1),l instanceof Date&&(d=d.map(h=>new Date(h)))),ii(Ot(a))<0&&d.reverse(),Al(e,t,{domain:d,range:n,reverse:c,unknown:s})}function Al(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?tn(a,n.length+1):je.get(e)===Bn?As(i,n.length+1):void 0,reverse:f}){n=Ot(n);const c=ii(n);if(!isNaN(c)&&!M8(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(s=lo(s)),{type:"threshold",scale:Yp(c<0?lo(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function M8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=Ji(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function A8(e){return{type:"identity",scale:F4(je.get(e))?Rp():t=>t}}function Zi(e,t=im){return e.length?[bn(e,({value:n})=>n===void 0?n:bn(n,t)),It(e,({value:n})=>n===void 0?n:It(n,t))]:[0,1]}function Pm(e,t){const n=je.get(e);return(n===ma||n===ya||n===ba?E8:Zi)(t)}function E8(e){return[0,e.length?It(e,({value:t})=>t===void 0?t:It(t,im)):1]}function T8(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=co(e,.5,({value:s})=>s===void 0?NaN:co(s,.25,la)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/It(i);return a<1?i.map(s=>s*a):i}function C8(e,t){const n=Uf(e,({value:a})=>a===void 0?NaN:Uf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/It(r);return i<1?r.map(a=>a*i):r}function N8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Zi(e,la);if(n<0)return Zi(e,_s)}return[1,10]}function D8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function El(e){return(t,n)=>r=>e(t+r*(n-t))}function Es(e,t,n,r,{type:i,nice:a,clamp:s,domain:f=Zi(r),unknown:c,pivot:l=0,scheme:u,range:d,symmetric:h=!0,interpolate:p=je.get(e)===Bn?u==null&&d!==void 0?Ri:Ml(u!==void 0?u:"rdbu"):er,reverse:m}){l=+l,f=Ot(f);let[g,b]=f;if(f.length>2&&Jn(`Warning: the diverging ${e} scale domain contains extra elements.`),Ji(g,b)<0&&([g,b]=[b,g],m=!m),g=Math.min(g,l),b=Math.max(b,l),typeof p!="function"&&(p=Om(p)),d!==void 0&&(p=p.length===1?El(p)(...d):rs(p,d)),m&&(p=Lm(p)),h){const v=n.apply(l),_=v-n.apply(g),x=n.apply(b)-v;_<x?g=n.invert(v-x):_>x&&(b=n.invert(v+_))}return t.domain([g,l,b]).unknown(c).interpolator(p),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[g,b],pivot:l,interpolate:p,scale:t}}function I8(e,t,n){return Es(e,s1(),P8,t,n)}function L8(e,t,n){return Bm(e,t,{...n,exponent:.5})}function Bm(e,t,{exponent:n=1,...r}){return Es(e,l1().exponent(n=+n),$8(n),t,{...r,type:"diverging-pow"})}function O8(e,t,{base:n=10,pivot:r=1,domain:i=Zi(t,r<0?_s:la),...a}){return Es(e,f1().base(n=+n),B8,t,{domain:i,pivot:r,...a})}function F8(e,t,{constant:n=1,...r}){return Es(e,c1().constant(n=+n),j8(n),t,r)}const P8={apply(e){return e},invert(e){return e}},B8={apply:Math.log,invert:Math.exp},R8={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function $8(e){return e===.5?R8:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function j8(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Rm(e,t,n,r){return _a(e,t,n,r)}function q8(e,t,n){return Rm(e,b3(),t,n)}function z8(e,t,n){return Rm(e,y3(),t,n)}const va=Symbol("ordinal");function $m(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:c}){return i=ga(i,r),a===void 0&&(a=qm(n,i,e)),(r==="categorical"||r===va)&&(r="ordinal"),f&&(a=lo(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:c,interval:i}}function U8(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...c}){r=ga(r,n),i===void 0&&(i=qm(t,r,e));let l;if(je.get(e)===Ms)l=W8(t),a=a===void 0?Y8(l):et(a,wl);else if(je.get(e)===Bn&&(a===void 0&&(n==="ordinal"||n===va)&&(a=g8(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const u=Ml(s),d=a[0],h=a[1]-a[0];a=({length:p})=>tn(m=>u(d+h*m),p)}else a=Im(s);if(f===hc)throw new Error(`implicit unknown on ${e} scale is not supported`);return $m(e,el().unknown(f),t,{...c,type:n,domain:i,range:a,hint:l})}function H8(e,t,{align:n=.5,padding:r=.5,...i}){return jm(Zv().align(n).padding(r),t,i,e)}function V8(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return jm(ss().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function jm(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=$m(r,e,t,n),e.round=i,e}function qm(e,t,n){const r=new ts;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Kn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&je.get(n)===pn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return jf(r,_n)}function zd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function W8(e){return{fill:zd(e,"fill"),stroke:zd(e,"stroke")}}function Y8(e){return xt(e.fill)?W3:V3}function Mc(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,facet:{label:m=t}={},...g}={}){const b={};for(const[v,_]of e){const x=g[v],y=Vm(v,_,{round:je.get(v)===pn?f:void 0,nice:c,clamp:l,zero:u,align:d,padding:h,projection:p,...x});if(y){let{label:w=v==="fx"||v==="fy"?m:t,percent:k,transform:S,inset:T,insetTop:I=T!==void 0?T:v==="y"?r:0,insetRight:A=T!==void 0?T:v==="x"?i:0,insetBottom:M=T!==void 0?T:v==="y"?a:0,insetLeft:N=T!==void 0?T:v==="x"?s:0}=x||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");y.percent=!!k,y.label=w===void 0?G8(_,y):w,y.transform=S,v==="x"||v==="fx"?(y.insetLeft=+N,y.insetRight=+A):(v==="y"||v==="fy")&&(y.insetTop=+I,y.insetBottom=+M),b[v]=y}}return b}function Ud(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:s,interval:f,label:c}=i;t[r]=Ym(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),c!=null&&(a.label=c)}return n}function X8(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?Tl(t):t;i&&Hd(i,s),a&&Vd(a,s);const f=i||a?zm(e,t):t;n&&Hd(n,f),r&&Vd(r,f)}function G8(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Lr(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function K8(e){return Math.sign(ii(e.domain()))*Math.sign(ii(e.range()))}function Tl(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:c,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:a,height:s}}function zm({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Tl(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:f,height:t?t.scale.bandwidth()+r+a:c,facet:{width:f,height:c}}}function Hd(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,f=a+n,c=i-s-r;e.range=[f,Math.max(f,c)],Lr(e)||(e.range=Hm(e)),e.scale.range(e.range)}Um(e)}function Vd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,f=a+n,c=i-s-r;e.range=[Math.max(f,c),f],Lr(e)?e.range.reverse():e.range=Hm(e),e.scale.range(e.range)}Um(e)}function Um(e){e.round===void 0&&e7(e)&&Z8(e)<=30&&e.scale.round(!0)}function Z8({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Hm(e){const t=e.scale.domain().length+Wm(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function J8(e,t,n){return Vm(e,n===void 0?void 0:[{hint:n}],{...t})}function Vm(e,t=[],n={}){const r=Q8(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Lr({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Yt)?Jn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`):i.some(A4)?Jn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`):i.some(E4)&&Jn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${qr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Fa(t,n,Yn);break;case"identity":switch(je.get(e)){case pn:n=Fa(t,n,Yn);break;case Ms:n=Fa(t,n,t7);break}break;case"utc":case"time":n=Fa(t,n,p4);break}switch(r){case"diverging":return I8(e,t,n);case"diverging-sqrt":return L8(e,t,n);case"diverging-pow":return Bm(e,t,n);case"diverging-log":return O8(e,t,n);case"diverging-symlog":return F8(e,t,n);case"categorical":case"ordinal":case va:return U8(e,t,n);case"cyclical":case"sequential":case"linear":return _8(e,t,n);case"sqrt":return v8(e,t,n);case"threshold":return Al(e,t,n);case"quantile":return S8(e,t,n);case"quantize":return k8(e,t,n);case"pow":return Fm(e,t,n);case"log":return w8(e,t,n);case"symlog":return x8(e,t,n);case"utc":return z8(e,t,n);case"time":return q8(e,t,n);case"point":return H8(e,t,n);case"band":return V8(e,t,n);case"identity":return A8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qr(e){return typeof e=="symbol"?e.description:e}function Wd(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Yd={toString:()=>"projection"};function Q8(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Wd(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=Yd);for(const l of t){const u=Wd(l.type);if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}}if(n===Yd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=je.get(e);if(c===ma)return"sqrt";if(c===ya||c===ba)return"linear";if(c===Ms)return"ordinal";if((r||i||[]).length>2)return bf(c);if(r!==void 0){if(Nd(r))return bf(c);if(Yt(r))return"utc"}else{const l=t.map(({value:u})=>u).filter(u=>u!==void 0);if(l.some(Nd))return bf(c);if(l.some(Yt))return"utc"}if(c===Bn){if(s!=null||b8(a))return"diverging";if(p8(a))return"categorical"}return"linear"}function bf(e){switch(e){case pn:return"point";case Bn:return va;default:return"ordinal"}}function Lr({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===va}function Wm({type:e}){return e==="threshold"}function e7({type:e}){return e==="point"||e==="band"}function Xn(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Fa(e,{domain:t,...n},r){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...n}}function t7(e){return et(e,wl)}function Ac(e={}){let t;for(const n in e)if(je.has(n)&&zo(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Ym(J8(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function n7(e){return t=>{if(!je.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Ym({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Xi(n),...r!==void 0&&{range:Xi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function r7(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const i7=r7(e=>new Intl.NumberFormat(e));function a7(e="en-US"){const t=i7(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function o7(e){return e4(e,"Invalid Date")}function s7(e="en-US"){const t=a7(e);return n=>(n instanceof Date?o7:typeof n=="number"?t:gt)(n)}const Ar=s7(),Dt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let f7=0;function Xd(){return`plot-clip-${++f7}`}function c7(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:b,opacity:v,mixBlendMode:_,imageFilter:x,paintOrder:y,pointerEvents:w,shapeRendering:k,channels:S},{ariaLabel:T,fill:I="currentColor",fillOpacity:A,stroke:M="none",strokeOpacity:N,strokeWidth:D,strokeLinecap:P,strokeLinejoin:E,strokeMiterlimit:j,paintOrder:Z}){I===null&&(f=null,c=null),M===null&&(l=null,d=null),xt(I)?!xt(M)&&(!xt(f)||S!=null&&S.fill)&&(M="none"):xt(M)&&(!xt(l)||S!=null&&S.stroke)&&(I="none");const[re,J]=Mr(f,I),[Y,H]=ot(c,A),[X,K]=Mr(l,M),[O,ne]=ot(d,N),[le,V]=ot(v);Gi(K)||(u===void 0&&(u=D),p===void 0&&(p=P),h===void 0&&(h=E),m===void 0&&!D4(h)&&(m=j),!Gi(J)&&y===void 0&&(y=Z));const[se,C]=ot(u);return I!==null&&(e.fill=Xe(J,"currentColor"),e.fillOpacity=Si(H,1)),M!==null&&(e.stroke=Xe(K,"none"),e.strokeWidth=Si(C,1),e.strokeOpacity=Si(ne,1),e.strokeLinejoin=Xe(h,"miter"),e.strokeLinecap=Xe(p,"butt"),e.strokeMiterlimit=Si(m,4),e.strokeDasharray=Xe(g,"none"),e.strokeDashoffset=Xe(b,"0")),e.target=gt(s),e.ariaLabel=gt(T),e.ariaDescription=gt(i),e.ariaHidden=gt(a),e.opacity=Si(V,1),e.mixBlendMode=Xe(_,"normal"),e.imageFilter=Xe(x,"none"),e.paintOrder=Xe(y,"normal"),e.pointerEvents=Xe(w,"auto"),e.shapeRendering=Xe(k,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:O,scale:"auto",optional:!0},strokeWidth:{value:se,optional:!0},opacity:{value:le,scale:"auto",optional:!0}}}function l7(e,t){t&&e.filter(n=>hl(t[n])).append("title").call(d7,t)}function u7(e,t){t&&e.filter(([n])=>hl(t[n])).append("title").call(h7,t)}function d7(e,t){t&&e.text(n=>Ar(t[n]))}function h7(e,t){t&&e.text(([n])=>Ar(t[n]))}function xn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&me(e,"aria-label",h=>r[h]),a&&me(e,"fill",h=>a[h]),s&&me(e,"fill-opacity",h=>s[h]),f&&me(e,"stroke",h=>f[h]),c&&me(e,"stroke-opacity",h=>c[h]),l&&me(e,"stroke-width",h=>l[h]),u&&me(e,"opacity",h=>u[h]),d&&Xm(e,h=>d[h],t),n||l7(e,i)}function p7(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:l,opacity:u,href:d}){r&&me(e,"aria-label",([h])=>r[h]),a&&me(e,"fill",([h])=>a[h]),s&&me(e,"fill-opacity",([h])=>s[h]),f&&me(e,"stroke",([h])=>f[h]),c&&me(e,"stroke-opacity",([h])=>c[h]),l&&me(e,"stroke-width",([h])=>l[h]),u&&me(e,"opacity",([h])=>u[h]),d&&Xm(e,([h])=>d[h],t),n||u7(e,i)}function g7({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:c},{tip:l}){return[e,l?void 0:t,n,r,i,a,s,f,c].filter(u=>u!==void 0)}function m7(e,t,n){const r=zc(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&Jn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*b7(e,t,n,r){const{z:i}=n,{z:a}=r,s=g7(r,n),f=[...t,...s];for(const c of a?m7(e,a,i):[e]){let l,u;e:for(const d of c){for(const h of f)if(!rr(h[d])){u&&u.push(-1);continue e}if(l===void 0){u&&(yield u),l=s.map(h=>ur(h[d])),u=[d];continue}u.push(d);for(let h=0;h<s.length;++h)if(ur(s[h][d])!==l[h]){yield u,l=s.map(m=>ur(m[d])),u=[d];continue e}}u&&(yield u)}}function y7(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:f,marginLeft:c,marginRight:l,marginTop:u,marginBottom:d}=n,h=Xd();i=`url(#${h})`,e=We("svg:g",r).call(p=>p.append("svg:clipPath").attr("id",h).append("rect").attr("x",c).attr("y",u).attr("width",s-l-c).attr("height",f-u-d)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Xd();i=`url(#${f})`,e.append("clipPath").attr("id",f).append("path").attr("d",Qi(s)({type:"Sphere"}));break}}me(e,"aria-label",t.ariaLabel),me(e,"aria-description",t.ariaDescription),me(e,"aria-hidden",t.ariaHidden),me(e,"clip-path",i)}function Xt(e,t,n,r){y7(e,t,n,r),me(e,"fill",t.fill),me(e,"fill-opacity",t.fillOpacity),me(e,"stroke",t.stroke),me(e,"stroke-width",t.strokeWidth),me(e,"stroke-opacity",t.strokeOpacity),me(e,"stroke-linejoin",t.strokeLinejoin),me(e,"stroke-linecap",t.strokeLinecap),me(e,"stroke-miterlimit",t.strokeMiterlimit),me(e,"stroke-dasharray",t.strokeDasharray),me(e,"stroke-dashoffset",t.strokeDashoffset),me(e,"shape-rendering",t.shapeRendering),me(e,"filter",t.imageFilter),me(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;me(e,"pointer-events",i)}function Gt(e,t){_7(e,"mix-blend-mode",t.mixBlendMode),me(e,"opacity",t.opacity)}function Xm(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(ao.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(ao.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function me(e,t,n){n!=null&&e.attr(t,n)}function _7(e,t,n){n!=null&&e.style(t,n)}function Kt(e,t,{x:n,y:r},i=Dt,a=Dt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function Xe(e,t){if((e=gt(e))!==t)return e}function Si(e,t){if((e=Fe(e))!==t)return e}const v7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Cl(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!v7.test(e))throw new Error(`invalid class name: ${e}`);return e}function Nl(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function wa({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function w7(e,t,n={}){let r=.5-Dt,i=.5+Dt,a=.5+Dt,s=.5-Dt;for(const{marginTop:g,marginRight:b,marginBottom:v,marginLeft:_}of t)g>r&&(r=g),b>i&&(i=b),v>a&&(a=v),_>s&&(s=_);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:l=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:d=f!==void 0?f:s}=n;c=+c,l=+l,u=+u,d=+d;let{width:h=640,height:p=x7(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,c-r+u-a)}=n;h=+h,p=+p;const m={width:h,height:p,marginTop:c,marginRight:l,marginBottom:u,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:v=g!==void 0?g:l,marginBottom:_=g!==void 0?g:u,marginLeft:x=g!==void 0?g:d}=n.facet??{};b=+b,v=+v,_=+_,x=+x,m.facet={marginTop:b,marginRight:v,marginBottom:_,marginLeft:x}}return m}function x7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){const d=n?n.scale.domain().length:1,h=d8(i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*h,b=Math.max(.1,Math.min(10,g));return Math.round((s-u-c)*b+f+l)}const p=t?Lr(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Gd("y",t)/(Gd("x",e)*a),g=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,v=g*(s-u-c)-e.insetLeft-e.insetRight;return(m*v+t.insetTop+t.insetBottom)/b+f+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Gd(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Kn(r);return Math.abs(i(s)-i(a))}function S7(e,t){const{fx:n,fy:r}=Mc(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?K2(i,a).map(([s,f],c)=>({x:s,y:f,i:c})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function k7(e,{x:t,y:n}){return t&&(t=Ec(t)),n&&(n=Ec(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Dl(e,{fx:t,fy:n}){const r=or(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Li(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Li(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Li(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function M7(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function A7(e){const t=[],n=new Uint32Array(wr(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const E7=new Map([["top",yf],["right",wf],["bottom",_f],["left",vf],["top-left",Pa(yf,vf)],["top-right",Pa(yf,wf)],["bottom-left",Pa(_f,vf)],["bottom-right",Pa(_f,wf)],["top-empty",N7],["right-empty",L7],["bottom-empty",D7],["left-empty",I7],["empty",O7]]);function T7(e){if(e==null)return null;const t=E7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Kd=new WeakMap;function Ec(e){let t=Kd.get(e);return t||Kd.set(e,t=new vr(et(e,(n,r)=>[n,r]))),t}function sr(e,t){return Ec(e).get(t)}function C7(e,t,n){return t=ur(t),n=ur(n),e.find(r=>Object.is(ur(r.x),t)&&Object.is(ur(r.y),n))}function Ts(e,t,n){var r;return(r=C7(e,t,n))==null?void 0:r.empty}function yf(e,{y:t},{y:n}){return t?sr(t,n)===0:!0}function _f(e,{y:t},{y:n}){return t?sr(t,n)===t.length-1:!0}function vf(e,{x:t},{x:n}){return t?sr(t,n)===0:!0}function wf(e,{x:t},{x:n}){return t?sr(t,n)===t.length-1:!0}function N7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=sr(t,r);if(a>0)return Ts(e,n,t[a-1])}function D7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=sr(t,r);if(a<t.length-1)return Ts(e,n,t[a+1])}function I7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=sr(t,n);if(a>0)return Ts(e,t[a-1],r)}function L7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=sr(t,n);if(a<t.length-1)return Ts(e,t[a+1],r)}function O7(e,t,{empty:n}){return n}function Pa(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function xf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class _t{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:c,sort:l,dx:u=0,dy:d=0,margin:h=0,marginTop:p=h,marginRight:m=h,marginBottom:g=h,marginLeft:b=h,clip:v=i==null?void 0:i.clip,channels:_,tip:x,render:y}=r;if(this.data=t,this.sort=ai(l)?l:null,this.initializer=oi(r).initializer,this.transform=this.initializer?r.transform:xl(r).transform,a===null||a===!1?this.facet=null:(this.facet=on(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Qa&&typeof f=="string"?[f]:f,this.fy=t===Qa&&typeof c=="string"?[c]:c),this.facetAnchor=T7(s),n=vm(n),_!==void 0&&(n={...F7(_),...n}),i!==void 0&&(n={...c7(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([w,k])=>{if(ws(k.value)){const{value:S,label:T=k.label,scale:I=k.scale}=k.value;k={...k,label:T,scale:I,value:S}}if(t===Qa&&typeof k.value=="string"){const{value:S}=k;k={...k,value:[S]}}return[w,k]}).filter(([w,{value:k,optional:S}])=>{if(k!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+b,this.clip=wm(v),this.tip=P7(x),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:k}=n[w];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=Km(y,this.render))}initialize(t,n,r){let i=Ot(this.data);t===void 0&&i!=null&&(t=[or(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Ot(i)),t!==void 0&&(t.original=a);const s=e8(this.channels,i);return this.sort!=null&&n8(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=rr}=n[i];if(a!==null){const s=r[i];t=t.filter(f=>a(s[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&l8(i,a,n,r.projection)}}scale(t,n,r){const i=t8(t,n);return r.projection&&this.project(t,i,r),i}}function Gm(...e){return e.plot=_t.prototype.plot,e}function Km(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,f){return e.call(this,n,r,i,a,s,(c,l,u,d,h)=>t.call(this,c,l,u,d,h,f))}}function F7(e){return Object.fromEntries(Object.entries(vm(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:xs(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function P7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?on(e,"tip",["x","y","xy"]):e}function Il(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Dr(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}const Zd=new WeakMap;function Ll(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:c,...l}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...l,render:Km(function(u,d,h,p,m,g){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:v}=m.getMarkState(this);let _=Zd.get(b);_||Zd.set(b,_={sticky:!1,roots:[],renders:[]});let x=_.renders.push(K)-1;const{x:y,y:w,fx:k,fy:S}=d;let T=k?k(u.fx)-p.marginLeft:0,I=S?S(u.fy)-p.marginTop:0;y!=null&&y.bandwidth&&(T+=y.bandwidth()/2),w!=null&&w.bandwidth&&(I+=w.bandwidth()/2);const A=u.fi!=null;let M;if(A){let V=_.facetStates;V||(_.facetStates=V=new Map),M=V.get(this),M||V.set(this,M=new Map)}const[N,D]=wa(this,p),{px:P,py:E}=h,j=P?V=>P[V]:Zm(h,N),Z=E?V=>E[V]:Jm(h,D);let re,J,Y,H;function X(V,se){if(A)if(H&&(H=cancelAnimationFrame(H)),V==null)M.delete(u.fi);else{M.set(u.fi,se),H=requestAnimationFrame(()=>{H=null;for(const[C,z]of M)if(z<se||z===se&&C<u.fi){V=null;break}K(V)});return}K(V)}function K(V){if(re===V&&Y===_.sticky)return;re=V,Y=m.pointerSticky=_.sticky;const se=re==null?[]:[re];A&&(se.fx=u.fx,se.fy=u.fy,se.fi=u.fi);const C=g(se,d,h,p,m);if(J){if(A){const z=J.parentNode,W=J.getAttribute("transform"),F=C.getAttribute("transform");W?C.setAttribute("transform",W):C.removeAttribute("transform"),F?z.setAttribute("transform",F):z.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}J.replaceWith(C)}return _.roots[x]=J=C,re==null&&(M==null?void 0:M.size)>1||m.dispatchValue(re==null?null:v[re]),C}function O(V){if(_.sticky||V.pointerType==="mouse"&&V.buttons===1)return;let[se,C]=Wf(V);se-=T,C-=I;const z=se<p.marginLeft||se>p.width-p.marginRight?1:e,W=C<p.marginTop||C>p.height-p.marginBottom?1:t;let F=null,ce=s*s;for(const fe of u){const de=z*(j(fe)-se),pe=W*(Z(fe)-C),U=de*de+pe*pe;U<=ce&&(F=fe,ce=U)}if(F!=null&&(e!==1||t!==1)){const fe=j(F)-se,de=Z(F)-C;ce=fe*fe+de*de}X(F,ce)}function ne(V){V.pointerType==="mouse"&&re!=null&&(_.sticky&&_.roots.some(se=>se==null?void 0:se.contains(V.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(se=>se(null))):(_.sticky=!0,K(re)),V.stopImmediatePropagation()))}function le(V){V.pointerType==="mouse"&&(_.sticky||X(null))}return b.addEventListener("pointerenter",O),b.addEventListener("pointermove",O),b.addEventListener("pointerdown",ne),b.addEventListener("pointerleave",le),K(null)},c)}}function B7(e){return Ll(1,1,e)}function R7(e){return Ll(1,.01,e)}function Jd(e){return Ll(.01,1,e)}function Zm({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Jm({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Qm(e){return Lr(e)&&e.interval===void 0?void 0:"tabular-nums"}function $7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:l=0,style:u,ticks:d=(i-l-f)/64,tickFormat:h,fontVariant:p=Qm(e),round:m=!0,opacity:g,className:b}=t;const v=kl(t);b=Cl(b),g=ot(g)[1],h===null&&(h=()=>null);const _=We("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(N=>N.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Nl,u);let x=N=>N.selectAll(".tick line").attr("y1",s+c-a),y;const w=m?(N,D)=>N.rangeRound(D):(N,D)=>N.range(D),{type:k,domain:S,range:T,interpolate:I,scale:A,pivot:M}=e;if(I){const N=T===void 0?I:rs(I.length===1?El(I):I,T);y=w(A.copy(),tn(er(l,i-f),Math.min(S.length+(M!==void 0),T===void 0?1/0:T.length)));const D=256,P=v.document.createElement("canvas");P.width=D,P.height=1;const E=P.getContext("2d");for(let j=0,Z=D-1;j<D;++j)E.fillStyle=N(j/Z),E.fillRect(j,0,1,1);_.append("image").attr("opacity",g).attr("x",l).attr("y",s).attr("width",i-l-f).attr("height",a-s-c).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(k==="threshold"){const N=S,D=h===void 0?P=>P:typeof h=="string"?di(h):h;y=w(tl().domain([-1,T.length-1]),[l,i-f]),_.append("g").attr("fill-opacity",g).selectAll().data(T).enter().append("rect").attr("x",(P,E)=>y(E-1)).attr("y",s).attr("width",(P,E)=>y(E)-y(E-1)).attr("height",a-s-c).attr("fill",P=>P),d=et(N,(P,E)=>E),h=P=>D(N[P],P)}else y=w(ss().domain(S),[l,i-f]),_.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",y).attr("y",s).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-s-c).attr("fill",A),x=()=>{};return _.append("g").attr("transform",`translate(0,${a-c})`).call(__(y).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Xe(p,"normal")).call(x).call(N=>N.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",l).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const eb=Math.PI/180;function Cs(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Sf(n),e.markerMid=Sf(r),e.markerEnd=Sf(i)}function Sf(e){if(e==null||e===!1)return null;if(e===!0)return eh;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Qd("auto");case"arrow-reverse":return Qd("auto-start-reverse");case"dot":return j7;case"circle":case"circle-fill":return eh;case"circle-stroke":return q7;case"tick":return kf("auto");case"tick-x":return kf(90);case"tick-y":return kf(0)}throw new Error(`invalid marker: ${e}`)}function Qd(e){return(t,n)=>We("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function j7(e,t){return We("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function eh(e,t){return We("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function q7(e,t){return We("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function kf(e){return(t,n)=>We("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let z7=0;function Ol(e,t,{stroke:n},r){return tb(e,t,n&&(i=>n[i]),r)}function U7(e,t,{stroke:n},r){return tb(e,t,n&&(([i])=>n[i]),r)}function tb(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function c(l){return function(u){const d=a(u);let h=f.get(l);h||f.set(l,h=new Map);let p=h.get(d);if(!p){const m=this.parentNode.insertBefore(l(d,s),this),g=`plot-marker-${++z7}`;m.setAttribute("id",g),h.set(d,p=`url(#${g})`)}return p}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}function Fl({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=nb(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Pl({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=nb(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function nb(e,t,n){return e===void 0&&t===void 0&&n===void 0?Dt?[1,0]:[.5,.5]:[t,n]}function rb(e,{interval:t}){return e={...xs(e)},e.interval=yl(e.interval===void 0?t:e.interval),e}function Ns(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:f,interval:c}=rb(i,n);if(f==null||c==null&&!r)return n;const l=pa(i);if(c==null){let p;const m={transform:g=>p||(p=Vt(g,f)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?m:a,[`${e}2`]:s===void 0&&!(a===s&&r)?m:s}}let u,d;function h(p){return d!==void 0&&p===u?d:d=et(Vt(u=p,f),m=>c.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:l}:a,[`${e}2`]:s===void 0?{transform:p=>h(p).map(m=>c.offset(m)),label:l}:s})}function ib(e,t,n){const{[e]:r}=n,{value:i,interval:a}=rb(r,n);return i==null||a==null?n:t({...n,[e]:{label:pa(r),transform:s=>{const f=et(Vt(s,i),l=>a.floor(l)),c=f.map(l=>a.offset(l));return f.map(Yt(f)?(l,u)=>l==null||isNaN(l=+l)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=c[u],u==null)?NaN:(+l+ +u)/2)}}})}function H7(e={}){return Ns("x",Fl,e,!0)}function ab(e={}){return Ns("y",Pl,e,!0)}function V7(e={}){return Ns("x",Fl,e)}function W7(e={}){return Ns("y",Pl,e)}function Y7(e={}){return ib("x",Fl,e)}function X7(e={}){return ib("y",Pl,e)}const ob={ariaLabel:"rule",fill:null,stroke:"currentColor"};class G7 extends _t{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:c=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Il(n,"x"),ob),this.insetTop=Fe(f),this.insetBottom=Fe(c),Cs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y1:l,y2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetTop:v,insetBottom:_}=this;return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s},Dt,0).call(x=>x.selectAll().data(t).enter().append("line").call(Gt,this).attr("x1",c?y=>c[y]:(g+d-m)/2).attr("x2",c?y=>c[y]:(g+d-m)/2).attr("y1",l&&!Xn(f)?y=>l[y]+v:p+v).attr("y2",u&&!Xn(f)?f.bandwidth?y=>u[y]+f.bandwidth()-_:y=>u[y]-_:h-b-_).call(xn,this,r).call(Ol,this,r,a)).node()}}class K7 extends _t{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:c=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Il(n,"y"),ob),this.insetRight=Fe(f),this.insetLeft=Fe(c),Cs(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{y:c,x1:l,x2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetLeft:v,insetRight:_}=this;return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,{y:c&&f},0,Dt).call(x=>x.selectAll().data(t).enter().append("line").call(Gt,this).attr("x1",l&&!Xn(s)?y=>l[y]+v:g+v).attr("x2",u&&!Xn(s)?s.bandwidth?y=>u[y]+s.bandwidth()-_:y=>u[y]-_:d-m-_).attr("y1",c?y=>c[y]:(p+h-b)/2).attr("y2",c?y=>c[y]:(p+h-b)/2).call(xn,this,r).call(Ol,this,r,a)).node()}}function Bl(e,t){let{x:n=Ft,y:r,y1:i,y2:a,...s}=W7(t);return[i,a]=sb(r,i,a),new G7(e,{...s,x:n,y1:i,y2:a})}function Rl(e,t){let{y:n=Ft,x:r,x1:i,x2:a,...s}=V7(t);return[i,a]=sb(r,i,a),new K7(e,{...s,y:n,x1:i,x2:a})}function sb(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function $l(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const Z7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},fb="­";class jl extends _t{constructor(t,n={}){const{x:r,y:i,text:a=Ir(t)&&_m(t)?Ft:hm,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:c=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:d,monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:b,fontWeight:v,rotate:_}=n,[x,y]=ot(_,0),[w,k]=r9(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:M4(x),optional:!0},text:{value:a,filter:hl,optional:!0}},n,Z7),this.rotate=y,this.textAnchor=Xe(f,"middle"),this.lineAnchor=on(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=cb(d),this.monospace=!!h,this.fontFamily=gt(p),this.fontSize=k,this.fontStyle=gt(g),this.fontVariant=gt(b),this.fontWeight=gt(v),this.frameAnchor=ks(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=ub(this),this.clipLine=db(this)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,rotate:u,text:d,title:h,fontSize:p}=r,{rotate:m}=this,[g,b]=wa(this,i);return We("svg:g",a).call(Xt,this,i,a).call(lb,this,d,i).call(Kt,this,{x:c&&s,y:l&&f}).call(v=>v.selectAll().data(t).enter().append("text").call(Gt,this).call(J7,this,d,h).attr("transform",$l`translate(${c?_=>c[_]:g},${l?_=>l[_]:b})${u?_=>` rotate(${u[_]})`:m?` rotate(${m})`:""}`).call(me,"font-size",p&&(_=>p[_])).call(xn,this,r)).node()}}function cb(e){return e==null?null:on(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function J7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:c}=t;e.each(function(l){const u=f(Ar(n[l])??"").map(c),d=u.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let p=0;for(let m=0;m<d;++m){if(++p,!u[m])continue;const g=this.ownerDocument.createElementNS(ao.svg,"tspan");g.setAttribute("x",0),m===p-1?g.setAttribute("y",`${(h+m)*a}em`):g.setAttribute("dy",`${p*a}em`),g.textContent=u[m],this.appendChild(g),p=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=u[0];if(s&&!r&&u[0]!==n[l]){const p=this.ownerDocument.createElementNS(ao.svg,"title");p.textContent=n[l],this.appendChild(p)}})}function Ds(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ha(t,n)),new jl(e,{...r,x:t,y:n})}function Q7(e,{x:t=Ft,...n}={}){return new jl(e,X7({...n,x:t}))}function e9(e,{y:t=Ft,...n}={}){return new jl(e,Y7({...n,y:t}))}function lb(e,t,n){me(e,"text-anchor",t.textAnchor),me(e,"font-family",t.fontFamily),me(e,"font-size",t.fontSize),me(e,"font-style",t.fontStyle),me(e,"font-variant",t.fontVariant===void 0?t9(n):t.fontVariant),me(e,"font-weight",t.fontWeight)}function t9(e){return e&&(T4(e)||Yt(e))?"tabular-nums":void 0}const n9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function r9(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),n9.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function i9(e,t,n){const r=[];let i,a=0;for(const[s,f,c]of a9(e)){if(i===void 0&&(i=s),a>i&&n(e,i,f)>t&&(r.push(e.slice(i,a)+(e[a-1]===fb?"-":"")),i=s),c){r.push(e.slice(i,f)),i=void 0;continue}a=f}return r}function*a9(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case fb:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const th={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function ql(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pi(e,i))r+=th[e[i]]??(pb(e,i)?120:th.e);return r}function zl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=pi(e,i))r+=pb(e,i)?126:63;return r}function ub({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?zl:ql,i=t*100;return a=>i9(a,i,r)}function db({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?zl:ql,i=t*100;switch(n){case"clip-start":return a=>rh(a,i,r,"");case"clip-end":return a=>nh(a,i,r,"");case"ellipsis-start":return a=>rh(a,i,r,Xr);case"ellipsis-middle":return a=>o9(a,i,r,Xr);case"ellipsis-end":return a=>nh(a,i,r,Xr)}}const Xr="…";function si(e,t,n,r){const i=[];let a=0;for(let s=0,f=0,c=e.length;s<c;s=f){f=pi(e,s);const l=n(e,s,f);if(a+l>t){for(a+=r;a>t&&s>0;)f=s,s=i.pop(),a-=n(e,s,f);return[s,t-a]}a+=l,i.push(s)}return[-1,0]}function nh(e,t,n,r){e=e.trim();const i=n(r),[a]=si(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function o9(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,f]=si(e,t/2,n,a),[c]=si(e,i-t/2-f+a,n,-a);return c<0?r:e.slice(0,s).trimEnd()+r+e.slice(pi(e,c)).trimStart()}function rh(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=si(e,i-t+a,n,-a);return s<0?r:r+e.slice(pi(e,s)).trimStart()}const Tc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,ih=/\p{Extended_Pictographic}/uy;function pi(e,t){return t+=s9(e,t)?2:1,c9(e,t)&&(t=Tc.lastIndex),f9(e,t)?pi(e,t+1):t}function hb(e,t){return e.charCodeAt(t)<128}function s9(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function f9(e,t){return e.charCodeAt(t)===8205}function c9(e,t){return hb(e,t)?!1:(Tc.lastIndex=t,Tc.test(e))}function pb(e,t){return hb(e,t)?!1:(ih.lastIndex=t,ih.test(e))}const l9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},gb=3.5,u9=gb*5,mb={draw(e,t,n){const r=t*n/u9;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},d9={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},h9=new Map([["arrow",mb],["spike",d9]]);function p9(e){return e&&typeof e.draw=="function"}function g9(e){if(p9(e))return e;const t=h9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let bb=class extends _t{constructor(t,n={}){const{x:r,y:i,r:a=gb,length:s,rotate:f,shape:c=mb,anchor:l="middle",frameAnchor:u}=n,[d,h]=ot(s,12),[p,m]=ot(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,l9),this.r=+a,this.length=h,this.rotate=m,this.shape=g9(c),this.anchor=on(l,"anchor",["start","middle","end"]),this.frameAnchor=ks(u)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,length:u,rotate:d}=r,{length:h,rotate:p,anchor:m,shape:g,r:b}=this,[v,_]=wa(this,i);return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s,y:l&&f}).call(x=>x.selectAll().data(t).enter().append("path").call(Gt,this).attr("transform",$l`translate(${c?y=>c[y]:v},${l?y=>l[y]:_})${d?y=>` rotate(${d[y]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${h})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${h/2})`}`).attr("d",u?y=>{const w=Hn();return g.draw(w,u[y],b),w}:(()=>{const y=Hn();return g.draw(y,h,b),y})()).call(xn,this,r)).node()}};function m9(e,t={}){const{x:n=Ft,...r}=t;return new bb(e,{...r,x:n})}function b9(e,t={}){const{y:n=Ft,...r}=t;return new bb(e,{...r,y:n})}function fr(e,t){return arguments.length<2&&!Ir(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Is({anchor:e}={},t){return e===void 0?t[0]:on(e,"anchor",t)}function yb(e){return Is(e,["left","right"])}function _b(e){return Is(e,["right","left"])}function vb(e){return Is(e,["bottom","top"])}function wb(e){return Is(e,["top","bottom"])}function xa(){const[e,t]=fr(...arguments);return xb("y",yb(t),e,t)}function y9(){const[e,t]=fr(...arguments);return xb("fy",_b(t),e,t)}function gi(){const[e,t]=fr(...arguments);return Sb("x",vb(t),e,t)}function _9(){const[e,t]=fr(...arguments);return Sb("fx",wb(t),e,t)}function xb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="y"?6:0,tickPadding:g,tickRotate:b,x:v,margin:_,marginTop:x=_===void 0?20:_,marginRight:y=_===void 0?t==="right"?40:0:_,marginBottom:w=_===void 0?20:_,marginLeft:k=_===void 0?t==="left"?40:0:_,label:S,labelAnchor:T,labelArrow:I,labelOffset:A,...M}){return m=Fe(m),g=Fe(g),b=Fe(b),T!==void 0&&(T=on(T,"labelAnchor",["center","top","bottom"])),I=Db(I),Gm(m&&!xt(a)?v9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,x:v,...M}):null,xt(c)?null:x9(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,x:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:k,...M}),!xt(c)&&S!==null?Ds([],Eb({fill:c,fillOpacity:l,...M},function(N,D,P,E,j){const Z=E[e],{marginTop:re,marginRight:J,marginBottom:Y,marginLeft:H}=e==="y"&&j.inset||j,X=T??(Z.bandwidth?"center":"top"),K=A??(t==="right"?J:H)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${t}`,this.rotate=0),this.dy=X==="top"?3-re:X==="bottom"?Y-3:0,this.dx=t==="right"?K:-K,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Nb(e,Z,{anchor:t,label:S,labelAnchor:X,labelArrow:I})]}}}})):null)}function Sb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="x"?6:0,tickPadding:g,tickRotate:b,y:v,margin:_,marginTop:x=_===void 0?t==="top"?30:0:_,marginRight:y=_===void 0?20:_,marginBottom:w=_===void 0?t==="bottom"?30:0:_,marginLeft:k=_===void 0?20:_,label:S,labelAnchor:T,labelArrow:I,labelOffset:A,...M}){return m=Fe(m),g=Fe(g),b=Fe(b),T!==void 0&&(T=on(T,"labelAnchor",["center","left","right"])),I=Db(I),Gm(m&&!xt(a)?w9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,y:v,...M}):null,xt(c)?null:S9(e,t,n,{fill:c,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,y:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:k,...M}),!xt(c)&&S!==null?Ds([],Eb({fill:c,fillOpacity:l,...M},function(N,D,P,E,j){const Z=E[e],{marginTop:re,marginRight:J,marginBottom:Y,marginLeft:H}=e==="x"&&j.inset||j,X=T??(Z.bandwidth?"center":"right"),K=A??(t==="top"?re:Y)-3;return X==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-K:K,this.dx=X==="right"?J-3:X==="left"?3-H:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Nb(e,Z,{anchor:t,label:S,labelAnchor:X,labelArrow:I})]}}}})):null)}function v9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:d=l,dx:h=0,y:p=e==="y"?void 0:null,...m}){return mi(b9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:p,...m,dx:t==="left"?+h-Dt+ +u:+h+Dt-d,anchor:"start",length:c,shape:t==="left"?D9:I9})}function w9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:d=l,dy:h=0,x:p=e==="x"?void 0:null,...m}){return mi(m9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:p,...m,dy:t==="bottom"?+h-Dt-d:+h+Dt+ +u,anchor:"start",length:c,shape:t==="bottom"?C9:N9})}function x9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*eb):0),text:c,textAnchor:l=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:u=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y:b=e==="y"?void 0:null,...v}){return mi(e9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,y:b,...v,dx:t==="left"?+g-a-f+ +p:+g+ +a+ +f-m},function(_,x,y,w,k){d===void 0&&(this.fontVariant=Cb(_)),c===void 0&&(k.text=Tb(_,x,y,w,t))})}function S9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*eb):0),text:c,textAnchor:l=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:b=e==="x"?void 0:null,...v}){return mi(Q7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,x:b,...v,dy:t==="bottom"?+g+ +a+ +f-m:+g-a-f+ +p},function(_,x,y,w,k){d===void 0&&(this.fontVariant=Cb(_)),c===void 0&&(k.text=Tb(_,x,y,w,t))})}function k9(){const[e,t]=fr(...arguments);return kb("y",yb(t),e,t)}function M9(){const[e,t]=fr(...arguments);return kb("fy",_b(t),e,t)}function A9(){const[e,t]=fr(...arguments);return Mb("x",vb(t),e,t)}function E9(){const[e,t]=fr(...arguments);return Mb("fx",wb(t),e,t)}function kb(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...f}){return mi(Rl,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...Ab(f)})}function Mb(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...f}){return mi(Bl,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...Ab(f)})}function Ab({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Eb({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u=!1},d){return[,e]=Mr(e),[,t]=ot(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:l,clip:u,initializer:d}}function mi(e,t,n,r,i,a){let s;function f(u,d,h,p,m,g){const b=u==null&&(t==="fx"||t==="fy"),{[t]:v}=p;if(!v)throw new Error(`missing scale: ${t}`);const _=v.domain();let{interval:x,ticks:y,tickFormat:w,tickSpacing:k=t==="x"?80:35}=i;if(typeof y=="string"&&Ib(v)&&(x=y,y=void 0),y===void 0&&(y=ga(x,v.type)??T9(v,k)),u==null){if(Ir(y))u=Ot(y);else if(k4(y))u=Mf(y,...Kn(_));else if(v.interval){let T=v.interval;if(v.ticks){const[I,A]=Kn(_),M=(A-I)/T[ua];T=Ad(T,M/y)??T,u=Mf(T,I,A)}else{u=_;const I=u.length;T=Ad(T,I/y)??T,T!==v.interval&&(u=Mf(T,...Kn(u)))}if(T===v.interval){const I=Math.round(u.length/y);I>1&&(u=u.filter((A,M)=>M%I===0))}}else v.ticks?u=v.ticks(y):u=_;if(!v.ticks&&u.length&&u!==_){const T=new ts(_);u=u.filter(I=>T.has(I)),u.length||Jn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[or(u)]:s[t]={scale:t,value:Ft}}a==null||a.call(this,v,u,y,w,s);const S=Object.fromEntries(Object.entries(s).map(([T,I])=>[T,{...I,value:Vt(u,I.value)}]));return b&&(d=g.filterFacets(u,S)),{data:u,facets:d,channels:S}}const c=oi(i).initializer,l=e(n,oi({...i,initializer:f},c));return n==null?(s=l.channels,l.channels={}):s={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function T9(e,t){const[n,r]=Kn(e.range());return(r-n)/t}function Tb(e,t,n,r,i){return{value:Ul(e,t,n,r,i)}}function Ul(e,t,n,r,i){return typeof r=="function"?r:r===void 0&&t&&Yt(t)?o4(e.type,t,i)??Ar:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Ar:typeof r=="string"?(Yt(e.domain())?ca:di)(r):da(r)}function Mf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const C9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},N9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},D9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},I9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Cb(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Nb(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Ib(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=K8(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Db(e="auto"){return xt(e)?!1:typeof e=="boolean"?e:on(e,"labelArrow",["auto","up","right","down","left"])}function Ib(e){return Yt(e.domain())}function ah(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function L9(e,{opacity:t,...n}={}){if(!Lr(e)&&!Wm(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Lb(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",ot(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function O9(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:xt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},c){const[d,h]=Mr(t),[p,m]=Mr(r),g=ah(c,d),b=ah(c,p),v=s*s*Math.PI;return n=ot(n)[1],i=ot(i)[1],a=ot(a)[1],Lb(e,f,(_,x,y,w)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",w).attr("fill",d==="color"?k=>g.scale(k):h).attr("fill-opacity",n).attr("stroke",p==="color"?k=>b.scale(k):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",k=>{const S=Hn();return e.scale(k).draw(S,v),S}))}function Lb(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Qm(e),swatchSize:s=15,swatchWidth:f=s,swatchHeight:c=s,marginLeft:l=0,className:u,style:d,width:h}=t;const p=kl(t);u=Cl(u),i=Ul(e.scale,e.domain,void 0,i);const m=We("div",p).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,f,c).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",Xe(a,"normal")).call(Nl,d).node()}const Cc=new Map([["symbol",O9],["color",Fb],["opacity",P9]]);function F9(e,t,n={}){return(r,i)=>{if(!Cc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Cc.get(r)(e[r],Ob(t,n[r],i),a=>e[a])}}function Ob({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return I4(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Fb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return L9(e,n);case"ramp":return $7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function P9({type:e,interpolate:t,...n},{legend:r=!0,color:i=io(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Fb({type:e,...n,interpolate:B9(i)},{legend:r,...a})}function B9(e){const{r:t,g:n,b:r}=io(e)||io(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function R9(e,t,n){const r=[];for(const[i,a]of Cc){const s=n[i];if(s!=null&&s.legend&&i in e){const f=a(e[i],Ob(t,e[i],s),c=>e[c]);f!=null&&r.push(f)}}return r}const $9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},j9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class q9 extends _t{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:c,ry:l}=t;super(Qa,void 0,t,n==null?$9:j9),this.anchor=gm(n,"anchor",["top","right","bottom","left"]),this.insetTop=Fe(i),this.insetRight=Fe(a),this.insetBottom=Fe(s),this.insetLeft=Fe(f),this.rx=Fe(c),this.ry=Fe(l)}render(t,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:c,marginLeft:l,width:u,height:d}=i,{anchor:h,insetTop:p,insetRight:m,insetBottom:g,insetLeft:b,rx:v,ry:_}=this,x=l+b,y=u-f-m,w=s+p,k=d-c-g;return We(h?"svg:line":"svg:rect",a).datum(0).call(Xt,this,i,a).call(Gt,this).call(xn,this,r).call(Kt,this,{}).call(h==="left"?S=>S.attr("x1",x).attr("x2",x).attr("y1",w).attr("y2",k):h==="right"?S=>S.attr("x1",y).attr("x2",y).attr("y1",w).attr("y2",k):h==="top"?S=>S.attr("x1",x).attr("x2",y).attr("y1",w).attr("y2",w):h==="bottom"?S=>S.attr("x1",x).attr("x2",y).attr("y1",k).attr("y2",k):S=>S.attr("x",x).attr("y",w).attr("width",y-x).attr("height",k-w).attr("rx",v).attr("ry",_)).node()}}function Pb(e){return new q9(e)}const Af={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},z9=new Set(["geometry","href","src","ariaLabel","scales"]);class U9 extends _t{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ir(t)&&_m(t)&&(n={...n,title:Ft});const{x:r,y:i,x1:a,x2:s,y1:f,y2:c,anchor:l,preferredAnchor:u="bottom",monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:b,lineHeight:v=1,lineWidth:_=20,frameAnchor:x,format:y,textAnchor:w="start",textOverflow:k,textPadding:S=8,title:T,pointerSize:I=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:f==null},title:{value:T,optional:!0}},n,Af),this.anchor=wc(l,"anchor"),this.preferredAnchor=wc(u,"preferredAnchor"),this.frameAnchor=ks(x),this.textAnchor=Xe(w,"middle"),this.textPadding=+S,this.pointerSize=+I,this.pathFilter=gt(A),this.lineHeight=+v,this.lineWidth=+_,this.textOverflow=cb(k),this.monospace=!!d,this.fontFamily=gt(h),this.fontSize=Fe(p),this.fontStyle=gt(m),this.fontVariant=gt(g),this.fontWeight=gt(b);for(const M in Af)M in this.channels&&(this[M]=Af[M]);this.splitLines=ub(this),this.clipLine=db(this),this.format={...y}}render(t,n,r,i,a){const s=this,{x:f,y:c,fx:l,fy:u}=n,{ownerSVGElement:d,document:h}=a,{anchor:p,monospace:m,lineHeight:g,lineWidth:b}=this,{textPadding:v,pointerSize:_,pathFilter:x}=this,{marginTop:y,marginLeft:w}=i,{x1:k,y1:S,x2:T,y2:I,x:A=k??T,y:M=S??I}=r,N=l?l(t.fx)-w:0,D=u?u(t.fy)-y:0,[P,E]=wa(this,i),j=Zm(r,P),Z=Jm(r,E),re=m?zl:ql,J=re(Xr);let Y,H;"title"in r?(Y=r.channels,H=G9):(Y=X9.call(this,r,n),H=K9);const X=We("svg:g",a).call(Xt,this,i,a).call(lb,this).call(Kt,this,{x:A&&f,y:M&&c}).call(ne=>ne.selectAll().data(t).enter().append("g").attr("transform",le=>`translate(${Math.round(j(le))},${Math.round(Z(le))})`).call(Gt,this).call(le=>le.append("path").attr("filter",x)).call(le=>le.append("text").each(function(V){const se=wt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=H.call(s,V,t,Y,n,r);if(typeof C=="string")for(const z of s.splitLines(C))K(se,{value:s.clipLine(z)});else{const z=new Set;for(const W of C){const{label:F=""}=W;F&&z.has(F)||(z.add(F),K(se,W))}}})));function K(ne,{label:le,value:V,color:se,opacity:C}){le??(le=""),V??(V="");const z=se!=null||C!=null;let W,F=b*100;const[ce]=si(le,F,re,J);if(ce>=0)le=le.slice(0,ce).trimEnd()+Xr,W=V.trim(),V="";else{(le||!V&&!z)&&(V=" "+V);const[de]=si(V,F-re(le),re,J);de>=0&&(W=V.trim(),V=V.slice(0,de).trimEnd()+Xr)}const fe=ne.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");le&&fe.append("tspan").attr("font-weight","bold").text(le),V&&fe.append(()=>h.createTextNode(V)),z&&fe.append("tspan").text(" ■").attr("fill",se).attr("fill-opacity",C).style("user-select","none"),W&&fe.append("title").text(W)}function O(){const{width:ne,height:le}=i.facet??i;X.selectChildren().each(function(V){let{x:se,width:C,height:z}=this.getBBox();C=Math.round(C),z=Math.round(z);let W=p;if(W===void 0){const fe=j(V)+N,de=Z(V)+D,pe=fe+C+_+v*2<ne,U=fe-C-_-v*2>0,ge=de+z+_+v*2<le,Se=de-z-_-v*2>0;W=pe&&U?ge&&Se?s.preferredAnchor:Se?"bottom":"top":ge&&Se?pe?"left":"right":(pe||U)&&(ge||Se)?`${Se?"bottom":"top"}-${pe?"left":"right"}`:s.preferredAnchor}const F=this.firstChild,ce=this.lastChild;if(F.setAttribute("d",Y9(W,_,v,C,z)),se)for(const fe of ce.childNodes)fe.setAttribute("x",-se);ce.setAttribute("y",`${+V9(W,ce.childNodes.length,g).toFixed(6)}em`),ce.setAttribute("transform",`translate(${W9(W,_,v,C,z)})`)}),X.attr("visibility",null)}return t.length&&(X.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(O):typeof requestAnimationFrame<"u"&&requestAnimationFrame(O)),X.node()}}function H9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ha(t,n)),new U9(e,{...r,x:t,y:n})}function V9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function W9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function Y9(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function X9({channels:e},t){var i,a;const n={};let r=this.format;r=oh(r,e,"x"),r=oh(r,e,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const c=Fd(e,s);c&&(n[s]=c)}}for(const s in e){if(s in n||s in r||z9.has(s))continue;const f=Fd(e,s);f&&(n[s]=f)}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const c=((i=n[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(Yt(c)?ca:di)(f)}else if(f===void 0||f===!0){const c=t[s];this.format[s]=c!=null&&c.bandwidth?Ul(c,c.domain()):Ar}}return n}function oh(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function G9(e,t,{title:n}){return Ar(n.value[e],e)}function*K9(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Uo(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:fh(r,n,"x"),value:sh(this.format.x2,n.x1,s,e)};else if(a==="y2"&&"y1"in n)yield{label:fh(r,n,"y"),value:sh(this.format.y2,n.y1,s,e)};else{const f=s.value[e],c=s.scale;if(!rr(f)&&c==null)continue;yield{label:Uo(r,n,a),value:this.format[a](f,e),color:c==="color"?i[a][e]:null,opacity:c==="opacity"?i[a][e]:null}}}}function sh(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function fh(e,t,n){const r=Uo(e,t,`${n}1`,n),i=Uo(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function Uo(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Hl(e={}){var J;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=e,c=Cl(e.className),l=e.marks===void 0?[]:lh(e.marks);l.push(...ix(l));const u=nx(t,e),d=new Map;for(const Y of l){const H=uh(Y,u,e);H&&d.set(Y,H)}const h=new Map;u&&ki(h,[u],e),ki(h,d,e);const p=lh(ax(l,h,e));for(const Y of p){const H=uh(Y,u,e);H&&d.set(Y,H)}l.unshift(...p);let m=S7(h,e);if(m!==void 0){const Y=u?xf(m,u):void 0;for(const X of l){if(X.facet===null||X.facet==="super")continue;const K=d.get(X);K!==void 0&&(K.facetsIndex=X.fx!=null||X.fy!=null?xf(m,K):Y)}const H=new Set;for(const{facetsIndex:X}of d.values())X==null||X.forEach((K,O)=>{(K==null?void 0:K.length)>0&&H.add(O)});m.forEach(0<H.size&&H.size<m.length?(X,K)=>X.empty=!H.has(K):X=>X.empty=!1);for(const X of l)if(X.facet==="exclude"){const K=d.get(X);K!==void 0&&(K.facetsIndex=A7(K.facetsIndex))}}for(const Y of je.keys())zo(e[Y])&&Y!=="fx"&&Y!=="fy"&&h.set(Y,[]);const g=new Map;for(const Y of l){if(g.has(Y))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:H,channels:X}=d.get(Y)??{},{data:K,facets:O,channels:ne}=Y.initialize(H,X,e);Vl(ne,e),g.set(Y,{data:K,facets:O,channels:ne})}const b=Mc(ki(h,g,e),e),v=w7(b,l,e);X8(b,v);const _=Ud(b),{fx:x,fy:y}=_,w=x||y?zm(b,v):v,k=x||y?dx(_,v):v,S=kl(e),T=S.document,I=A0("svg").call(T.documentElement);let A=I;S.ownerSVGElement=I,S.className=c,S.projection=s8(e,w),S.filterFacets=(Y,H)=>xf(m,{channels:H,groups:Dl(Y,H)}),S.getMarkState=Y=>{const H=g.get(Y),X=d.get(Y);return{...H,channels:{...H.channels,...X==null?void 0:X.channels}}},S.dispatchValue=Y=>{A.value!==Y&&(A.value=Y,A.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[Y,H]of g)if(Y.initializer!=null){const X=Y.facet==="super"?k:w,K=Y.initializer(H.data,H.facets,H.channels,_,X,S);if(K.data!==void 0&&(H.data=K.data),K.facets!==void 0&&(H.facets=K.facets),K.channels!==void 0){const{fx:O,fy:ne,...le}=K.channels;tx(le),Object.assign(H.channels,le);for(const V of Object.values(le)){const{scale:se}=V;se!=null&&!O4(je.get(se))&&(Bb(V,e),M.add(se))}(O!=null||ne!=null)&&d.set(Y,!0)}}if(M.size){const Y=new Map;ki(Y,g,e,O=>M.has(O)),ki(h,g,e,O=>M.has(O));const H=ux(Mc(Y,e),b),{scales:X,...K}=Ud(H);Object.assign(b,H),Object.assign(_,K),Object.assign(_.scales,X)}let N,D;m!==void 0&&(N={x:x==null?void 0:x.domain(),y:y==null?void 0:y.domain()},m=k7(m,N),D=M7(x,y,v));for(const[Y,H]of g)H.values=Y.scale(H.channels,_,S);const{width:P,height:E}=v;wt(I).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",E).attr("viewBox",`0 0 ${P} ${E}`).attr("aria-label",s).attr("aria-description",f).call(Y=>Y.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(Nl,n);for(const Y of l){const{channels:H,values:X,facets:K}=g.get(Y);if(m===void 0||Y.facet==="super"){let O=null;if(K&&(O=K[0],O=Y.filter(O,H,X),O.length===0))continue;const ne=Y.render(O,_,X,k,S);if(ne==null)continue;I.appendChild(ne)}else{let O;for(const ne of m){if(!(((J=Y.facetAnchor)==null?void 0:J.call(Y,m,N,ne))??!ne.empty))continue;let le=null;if(K){const se=d.has(Y);if(le=K[se?ne.i:0],le=Y.filter(le,H,X),le.length===0)continue;!se&&le===K[0]&&(le=_4(le)),le.fx=ne.x,le.fy=ne.y,le.fi=ne.i}const V=Y.render(le,_,X,w,S);if(V!=null){(O??(O=wt(I).append("g"))).append(()=>V).datum(ne);for(const se of["aria-label","aria-description","aria-hidden","transform"])V.hasAttribute(se)&&(O.attr(se,V.getAttribute(se)),V.removeAttribute(se))}}O==null||O.selectChildren().attr("transform",D)}}const j=R9(b,S,e),{figure:Z=r!=null||i!=null||a!=null||j.length>0}=e;Z&&(A=T.createElement("figure"),A.className=`${c}-figure`,A.style.maxWidth="initial",r!=null&&A.append(ch(T,r,"h2")),i!=null&&A.append(ch(T,i,"h3")),A.append(...j,I),a!=null&&A.append(Z9(T,a))),A.scale=n7(_.scales),A.legend=F9(b,S,e);const re=o8();return re>0&&wt(I).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),A}function ch(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function Z9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function J9({marks:e=[],...t}={}){return Hl({...t,marks:[...e,this]})}_t.prototype.plot=J9;function lh(e){return e.flat(1/0).filter(t=>t!=null).map(Q9)}function Q9(e){return typeof e.render=="function"?e:new ex(e)}class ex extends _t{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Vl(e,t){for(const n in e)Bb(e[n],t);return e}function Bb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?c=>c*100:ym(s,i)}=t[n]??{};f!=null&&(e.value=et(e.value,f),e.transform=!1)}function tx(e){for(const t in e)Mm(t,e[t])}function ki(e,t,n,r=u4){var i,a;for(const{channels:s}of t.values())for(const f in s){const c=s[f],{scale:l}=c;if(l!=null&&r(l))if(l==="projection"){if(!u8(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(u||d){const[h,p]=h8(c);u&&Ef(e,"x",h),d&&Ef(e,"y",p)}}}else Ef(e,l,c)}return e}function Ef(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function nx(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Ot(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Ki(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Ki(i,{value:r,scale:"fy"})),Vl(a,t);const s=Dl(i,a);return{channels:a,groups:s,data:e.data}}function uh(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=Ot(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const u={};return r!=null&&(u.fx=Ki(l,{value:r,scale:"fx"})),i!=null&&(u.fy=Ki(l,{value:i,scale:"fy"})),Vl(u,n),{channels:u,groups:Dl(l,u)}}if(t===void 0)return;const{channels:a,groups:s,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((c=Ot(e.data))==null?void 0:c.length)===f.length&&Jn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function rx(e,t={}){return oi({...t,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(e))}function ix(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?R7:/^y$/i.test(i)?Jd:B7,r=i(rx(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Jd?"left":"bottom");const s=H9(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,t.push(s)}}return t}function ax(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:c,grid:l,facet:u={},facet:{axis:d=c,grid:h}=u,x:{axis:p=c,grid:m=p===null?null:l}=i,y:{axis:g=c,grid:b=g===null?null:l}=a,fx:{axis:v=d,grid:_=v===null?null:h}=s,fy:{axis:x=d,grid:y=x===null?null:h}=f}=n;(r||!zo(i)&&!dh("x",e))&&(p=m=null),(r||!zo(a)&&!dh("y",e))&&(g=b=null),t.has("fx")||(v=_=null),t.has("fy")||(x=y=null),p===void 0&&(p=!$a(e,"x")),g===void 0&&(g=!$a(e,"y")),v===void 0&&(v=!$a(e,"fx")),x===void 0&&(x=!$a(e,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),v===!0&&(v=p==="top"||p===null?"bottom":"top"),x===!0&&(x=g==="right"||g===null?"left":"right");const w=[];return Ra(w,y,M9,f),Ba(w,x,y9,"right","left",u,f),Ra(w,_,E9,s),Ba(w,v,_9,"top","bottom",u,s),Ra(w,b,k9,a),Ba(w,g,xa,"left","right",n,a),Ra(w,m,A9,i),Ba(w,p,gi,"bottom","top",n,i),w}function Ba(e,t,n,r,i,a,s){if(!t)return;const f=ox(t);s=sx(f?r:t,a,s);const{line:c}=s;(n===xa||n===gi)&&c&&!Gi(c)&&e.push(Pb(fx(s))),e.push(n(s)),f&&e.push(n({...s,anchor:i,label:null}))}function Ra(e,t,n,r){!t||Gi(t)||e.push(n(cx(t,r)))}function ox(e){return/^\s*both\s*$/i.test(e)}function sx(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h=t.label,labelAnchor:p,labelArrow:m=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h,labelAnchor:p,labelArrow:m,labelOffset:g}}function fx(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function cx(e,{stroke:t=Ss(e)?e:void 0,ticks:n=lx(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function lx(e){switch(typeof e){case"number":return!0;case"string":return!Ss(e)}return Ir(e)||typeof(e==null?void 0:e.range)=="function"}function $a(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function dh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function ux(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function dx({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Tl(n),l=e&&hh(e),u=t&&hh(t);return{marginTop:t?u[0]:r,marginRight:e?f-l[1]:i,marginBottom:t?c-u[1]:a,marginLeft:e?l[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function hh(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const hx=new Map([["basis",Y3],["basis-closed",X3],["basis-open",G3],["bundle",K3],["bump-x",P3],["bump-y",B3],["cardinal",Z3],["cardinal-closed",J3],["cardinal-open",Q3],["catmull-rom",e6],["catmull-rom-closed",t6],["catmull-rom-open",n6],["linear",gs],["linear-closed",r6],["monotone-x",i6],["monotone-y",a6],["natural",o6],["step",s6],["step-after",c6],["step-before",f6]]);function px(e=gs,t){if(typeof e=="function")return e;const n=hx.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Rb(e=fi,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?fi:px(e,t)}function fi(e){return gs(e)}function gx(e={}){return mm(e)?e:{...e,x:Ft}}function mx(e,t){if(t.length===1)return{data:e,facets:t};const n=e.length,r=new Uint8Array(n);let i=0;for(const f of t)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=Xi(e);const a=e[um]=new Uint32Array(n+i);t=t.map(f=>Xi(f,Uint32Array));let s=n;r.fill(0);for(const f of t)for(let c=0,l=f.length;c<l;++c){const u=f[c];r[u]?(f[c]=s,e[s]=e[u],a[s]=u,++s):a[u]=u,r[u]=1}return{data:e,facets:t}}function bx(e={},t={}){arguments.length===1&&([e,t]=_x(e));const{y1:n,y:r=n,x:i,...a}=t,[s,f,c,l]=wx(r,i,"y","x",e,a);return{...s,y1:n,y:f,x1:c,x2:l,x:w4(c,l)}}function yx({x:e,x1:t,x2:n,...r}={}){return r=Il(r,"y"),t===void 0&&n===void 0?bx({x:e,...r}):([t,n]=y4(e,t,n),{...r,x1:t,x2:n})}function _x(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const vx={length:!0};function wx(e,t=l4,n,r,{offset:i,order:a,reverse:s},f){if(t===null)throw new Error(`stack requires ${r}`);const c=bm(f),[l,u]=v4(e),[d,h]=vc(t),[p,m]=vc(t);return d.hint=p.hint=vx,i=xx(i),a=Mx(a,i,r),[xl(f,(g,b,v)=>{({data:g,facets:b}=mx(g,b));const _=e==null?void 0:u(x4(Vt(g,e),v==null?void 0:v[n])),x=Vt(g,t,Float64Array),y=Vt(g,c),w=a&&a(g,_,x,y),k=g.length,S=h(new Float64Array(k)),T=m(new Float64Array(k)),I=[];for(const A of b){const M=_?Array.from(zc(A,N=>_[N]).values()):[A];if(w)for(const N of M)N.sort(w);for(const N of M){let D=0,P=0;s&&N.reverse();for(const E of N){const j=x[E];j<0?D=T[E]=(S[E]=D)+j:j>0?P=T[E]=(S[E]=P)+j:T[E]=S[E]=P}}I.push(M)}return i&&i(I,S,T,y),{data:g,facets:b}}),l,d,p]}function xx(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Sx;case"center":case"silhouette":return kx;case"wiggle":return jb}throw new Error(`unknown offset: ${e}`)}}function $b(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function Sx(e,t,n){for(const r of e)for(const i of r){const[a,s]=$b(i,n);for(const f of i){const c=1/(s-a||1);t[f]=c*(t[f]-a),n[f]=c*(n[f]-a)}}}function kx(e,t,n){for(const r of e){for(const i of r){const[a,s]=$b(i,n);for(const f of i){const c=(s+a)/2;t[f]-=c,n[f]-=c}}qb(r,t,n)}zb(e,t,n)}function jb(e,t,n,r){for(const i of e){const a=new vr;let s=0;for(const f of i){let c=-1;const l=f.map(p=>Math.abs(n[p]-t[p])),u=f.map(p=>{c=r?r[p]:++c;const m=n[p]-t[p],g=a.has(c)?m-a.get(c):0;return a.set(c,m),g}),d=[0,...Z2(u)];for(const p of f)t[p]+=s,n[p]+=s;const h=wr(l);h&&(s-=wr(l,(p,m)=>(u[m]/2+d[m])*p)/h)}qb(i,t,n)}zb(e,t,n)}function qb(e,t,n){const r=bn(e,i=>bn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function zb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),a=i.map(f=>(bn(f,c=>t[c])+It(f,c=>n[c]))/2),s=bn(a);for(let f=0;f<r;f++){const c=s-a[f];for(const l of i[f])t[l]+=c,n[l]+=c}}function Mx(e,t,n){if(e===void 0&&t===jb)return ph(_n);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?qo:_n;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return Ax(i);case"z":return Ex(i);case"sum":return Tx(i);case"appearance":return Cx(i);case"inside-out":return ph(i)}return gh(dm(e))}if(typeof e=="function")return(e.length===1?gh:Nx)(e);if(Array.isArray(e))return Dx(e);throw new Error(`invalid order: ${e}`)}}function Ax(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function Ex(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function Tx(e){return Ls(e,(t,n,r,i)=>Hc(or(t),a=>wr(a,s=>r[s]),a=>i[a]))}function Cx(e){return Ls(e,(t,n,r,i)=>Hc(or(t),a=>n[j0(a,s=>r[s])],a=>i[a]))}function ph(e){return Ls(e,(t,n,r,i)=>{const a=or(t),s=Hc(a,d=>n[j0(d,h=>r[h])],d=>i[d]),f=Li(a,d=>wr(d,h=>r[h]),d=>i[d]),c=[],l=[];let u=0;for(const d of s)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),l.push(d));return l.reverse().concat(c)})}function gh(e){return t=>{const n=Vt(t,e);return(r,i)=>_n(n[r],n[i])}}function Nx(e){return t=>(n,r)=>e(t[n],t[r])}function Dx(e){return Ls(_n,()=>e)}function Ls(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new vr(t(n,r,i,a).map((f,c)=>[f,c]));return(f,c)=>e(s.get(a[f]),s.get(a[c]))}}const Ix={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Lx extends _t{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,Ix),this.curve=Rb(f,c),Cs(this,n)}project(t,n,r){this.curve!==fi&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:s,y1:f,x2:c=s,y2:l=f}=r,{curve:u}=this;return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(Gt,this).attr("d",u===fi&&a.projection?Ox(a.projection,s,f,c,l):h=>{const p=Hn(),m=u(p);return m.lineStart(),m.point(s[h],f[h]),m.point(c[h],l[h]),m.lineEnd(),p}).call(xn,this,r).call(Ol,this,r,a)).node()}}function Ox(e,t,n,r,i){const a=Qi(e);return t=Yn(t),n=Yn(n),r=Yn(r),i=Yn(i),s=>a({type:"LineString",coordinates:[[t[s],n[s]],[r[s],i[s]]]})}function Nc(e,{x:t,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=mh(t,n,r),[a,s]=mh(i,a,s),new Lx(e,{...f,x1:n,x2:r,y1:a,y2:s})}function mh(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class Fx extends _t{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:c=a,insetLeft:l=a,rx:u,ry:d}=r;this.insetTop=Fe(s),this.insetRight=Fe(f),this.insetBottom=Fe(c),this.insetLeft=Fe(l),this.rx=Xe(u,"auto"),this.ry=Xe(d,"auto")}render(t,n,r,i,a){const{rx:s,ry:f}=this;return We("svg:g",a).call(Xt,this,i,a).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(Gt,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(me,"rx",s).call(me,"ry",f).call(xn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}}const Px={ariaLabel:"cell"};class Bx extends Fx{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,Px)}_transform(t,n){t.call(Kt,n,{},0,0)}}function Rx(e,{x:t,y:n,...r}={}){return[t,n]=ha(t,n),new Bx(e,{...r,x:t,y:n})}const $x={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Ub(e){return e.sort===void 0&&e.reverse===void 0?z4({channel:"-r"},e):e}class jx extends _t{constructor(t,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=Vi,frameAnchor:c}=n,[l,u]=ot(s,0),[d,h]=j4(f),[p,m]=ot(a,d==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:la,optional:!0},rotate:{value:l,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},Ub(n),$x),this.r=m,this.rotate=u,this.symbol=h,this.frameAnchor=ks(c);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:v,stroke:_}=g;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:l,r:u,rotate:d,symbol:h}=r,{r:p,rotate:m,symbol:g}=this,[b,v]=wa(this,i),_=g===Vi,x=u?void 0:p*p*Math.PI;return _s(p)&&(t=[]),We("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s,y:l&&f}).call(y=>y.selectAll().data(t).enter().append(_?"circle":"path").call(Gt,this).call(_?w=>{w.attr("cx",c?k=>c[k]:b).attr("cy",l?k=>l[k]:v).attr("r",u?k=>u[k]:p)}:w=>{w.attr("transform",$l`translate(${c?k=>c[k]:b},${l?k=>l[k]:v})${d?k=>` rotate(${d[k]})`:m?` rotate(${m})`:""}`).attr("d",u&&h?k=>{const S=Hn();return h[k].draw(S,u[k]*u[k]*Math.PI),S}:u?k=>{const S=Hn();return g.draw(S,u[k]*u[k]*Math.PI),S}:h?k=>{const S=Hn();return h[k].draw(S,x),S}:(()=>{const k=Hn();return g.draw(k,x),k})())}).call(xn,this,r)).node()}}function qx(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ha(t,n)),new jx(e,{...r,x:t,y:n})}function zx(e,t){return qx(e,{...t,symbol:"circle"})}const Ux={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let Hx=class extends _t{constructor(t,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:bm(n),optional:!0}},n,Ux),this.z=a,this.curve=Rb(s,f),Cs(this,n)}filter(t){return t}project(t,n,r){this.curve!==fi&&super.project(t,n,r)}render(t,n,r,i,a){const{x:s,y:f}=r,{curve:c}=this;return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(l=>l.selectAll().data(b7(t,[s,f],this,r)).enter().append("path").call(Gt,this).call(p7,this,r).call(U7,this,r,a).attr("d",c===fi&&a.projection?Vx(a.projection,s,f):F3().curve(c).defined(u=>u>=0).x(u=>s[u]).y(u=>f[u]))).node()}};function Vx(e,t,n){const r=Qi(e);return t=Yn(t),n=Yn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function Wx(e,{x:t,y:n,...r}={}){return[t,n]=ha(t,n),new Hx(e,{...r,x:t,y:n})}const Yx={ariaLabel:"rect"};class Hb extends _t{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:c=f,insetRight:l=f,insetBottom:u=f,insetLeft:d=f,rx:h,ry:p}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,Yx),this.insetTop=Fe(c),this.insetRight=Fe(l),this.insetBottom=Fe(u),this.insetLeft=Fe(d),this.rx=Xe(h,"auto"),this.ry=Xe(p,"auto")}render(t,n,r,i,a){const{x:s,y:f}=n,{x1:c,y1:l,x2:u,y2:d}=r,{marginTop:h,marginRight:p,marginBottom:m,marginLeft:g,width:b,height:v}=i,{projection:_}=a,{insetTop:x,insetRight:y,insetBottom:w,insetLeft:k,rx:S,ry:T}=this,I=(s!=null&&s.bandwidth?s.bandwidth():0)-k-y,A=(f!=null&&f.bandwidth?f.bandwidth():0)-x-w;return We("svg:g",a).call(Xt,this,i,a).call(Kt,this,{},0,0).call(M=>M.selectAll().data(t).enter().append("rect").call(Gt,this).attr("x",c&&(_||!Xn(s))?u?N=>Math.min(c[N],u[N])+k:N=>c[N]+k:g+k).attr("y",l&&(_||!Xn(f))?d?N=>Math.min(l[N],d[N])+x:N=>l[N]+x:h+x).attr("width",c&&(_||!Xn(s))?u?N=>Math.max(0,Math.abs(u[N]-c[N])+I):I:b-p-g-y-k).attr("height",l&&(_||!Xn(f))?d?N=>Math.max(0,Math.abs(l[N]-d[N])+A):A:v-h-m-x-w).call(me,"rx",S).call(me,"ry",T).call(xn,this,r)).node()}}function Xx(e,t){return new Hb(e,H7(ab(t)))}function Wl(e,t={}){return b4(t)||(t={...t,y:hm,x2:Ft,interval:1}),new Hb(e,yx(ab(gx(t))))}const Gx={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Kx extends _t{constructor(t,n={}){const[r,i]=ot(n.r,3);super(t,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:la,optional:!0}},Ub(n),Gx),this.r=i}render(t,n,r,i,a){const{geometry:s,r:f}=r,c=Qi(a.projection??Zx(n)),{r:l}=this;return _s(l)?t=[]:l!==void 0&&c.pointRadius(l),We("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(u=>{u.selectAll().data(t).enter().append("path").call(Gt,this).attr("d",f?d=>c.pointRadius(f[d])(s[d]):d=>c(s[d])).call(xn,this,r)}).node()}}function Zx({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Ao({point(n,r){this.stream.point(e(n),t(r))}})}function Jx(e,{geometry:t=Ft,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new Kx(e,{geometry:t,...n})}function Qx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eS(e,t={}){if(!e||e.length===0)return[];let n=Qn(e[0]),r=t.include?t.include:n;r=ro(t.include||n,t.exclude||[]);let i=ro(n,r);return console.log(r,i),C0(a=>r.map(s=>{let f=F2(i,a);return f[t.key||"key"]=s,f[t.value||"value"]=a[s],f}),e)}class tS{add(t,n,r){let i=`${r.view.id}::${r.eventname}`;return Ae(this[i])?this[i]={iact:r,oldVal:t,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(t){ln(this).forEach(t)}merge(t){if(Ae(t))return this;t.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const Un=Re(Array),bh=()=>null;function Gr(e,t,n){if(Re(String,t))e[t]=n;else if(Un(t)){let[r,...i]=t;Ae(e[r])&&(e[r]={}),ht(i)?Gr(e,r,n):Gr(e[r],i,n)}}function Ho(e,t,n){if(Re(String,t))Ae(e[t])&&(e[t]=[]),e[t].push(n);else if(Un(t)){let[r,...i]=t;Ae(e[r])&&(e[r]=ht(i)?[]:{}),ht(i)?Ho(e,r,n):Ho(e[r],i,n)}}function qn(e,t,n){if(Re(String,t))return e[t]||(Re(Function,n)?n():n);if(Un(t)){let[r,...i]=t;return Ae(e[r])?Re(Function,n)?n():n:ht(i)?qn(e,r,n):qn(e[r],i,n)}}class nS{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(t,n,r=bh,i){if(!t.attr)return this;let a=t.view.id,s=t.eventname;return Ho(this.dependencies,[a,s],{view:n,domainfunction:r}),Ho(this.view2iacts,n.id,t),this.setDefault(n,i),this}dependentViews(t){let n=t.eventname;return qn(this.dependencies,[t.view.id,n],[])}cmp(t,n){return this.isDependentOn(t.view,n)?1:this.isDependentOn(n.view,t)?-1:0}isDependentOn(t,n){let r=this.getAncestorIacts(t);return jc(i=>(i.store??i)==n,r)}setDefault(t,n){return Ae(n)||(this.defaults[t.id]=n),this}getDefault(t,n){return(qn(this.defaults,t.id)??bh)(n,this.getAncestorIacts(t))}getAncestorIacts(t){let n=[];return qn(this.view2iacts,t.id,[]).forEach(r=>{n.push(r),n=$i(n,this.getAncestorIacts(r.view))}),n}getStatesKey(t){let n=this.getAncestorIacts(t),r=$i([t.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(t,n,r){let i=this.getStatesKey(n.view);!Ae(r)&&Ae(r.states[i])&&Gr(r.states,[i,n.eventname],{old:qn(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,qn(this.states,[i,n.eventname]),t),Gr(this.states,[i,n.eventname],t)}restoreStates(t){cn((n,r)=>{cn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),Gr(this.states,[r,i.eventname],a)},n)},t.states)}getState(t,n,r=!0){let i=this.getStatesKey(t);return Ae(n)?this.states[i]:qn(this.states,[i,n],()=>r?this.getDefault(t,n):void 0)}}class rS{constructor(t){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new nS,this.transactions=[],this._isaborting=!1,this.backends=t,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(t){if(this.views[t.id]=t,Un(t)){t.forEach(n=>this.view(n));return}this.interactions[t.id]=this.interactions[t.id]??{_attrs:{}},t.magic=this,cn((n,r)=>{if(!Ae(this.interactions[t.id][r]))return;let i=a=>{t.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>Fs(n)??{},load:i,id:this._iactid++,view:t,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!Ae(this.interactions[t.id]._attrs[a]))return this.interactions[t.id]._attrs[a];let f={store:n,attr:a,view:t,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let c=Fs(n);return yr(a)(c)?c[a]:(ht(c)||console.error("could not find attr:",Qn(Fs(n)).length),Re(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[t.id]._attrs[a]=f,f},this.interactions[t.id][r]=n},t.interactions)}render(t,n,r,i={}){return t=Un(t)?t:[t],n=Un(n)?n:[n],t.map(s=>{if(Re(Dy,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(t){console.debug("save backends invoked on: ",t),t=Un(t)?t:[t],t.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),cn((a,s)=>{cn((f,c)=>{f.forEach(l=>{console.debug("saveBackend.DependencyLeaf.ViewIact",l.view.id,this.i2b[l.view.id]);let u=this.dependencies.getAncestorIacts(l.view),d=$i([n.id],u.map(h=>[h.id,h.val()]));ht(T2(Qn(this.i2b[l.view.id]),n.id))||(console.debug("saveBackend.View",n.id,l.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(t,n,r){var s;if(Un(n)){n.forEach(f=>this.connect(t,f,r));return}let i=n,a=i.view;Ae(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),Ae(t)||Gr(this.i2b,[a.id,t.id],this.processBindings(r))}processBindings(t){if(Ae(t)||ht(t))return Lf;if(Re(Function,t))return t;let n=Bf(I0(Re(Array),Re(Object)),On(r=>this.processBindings(r)),Bf(Re(Function),Lf,r=>()=>r))(t);return yr("*",t)?r=>Iy(r,lu(n)(r)):lu(n)}saveIactState(t,n,r){this.dependencies.saveState(t,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(t,f))}let s=this.dependencies.getState(i);cn((f,c)=>{f=f??this.dependencies.getDefault(i,c),f&&(console.debug("saveIactState.load",i.id,c,f),i.load(f,c))},s),(Ae(s)||ht(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(t,n){if(!Ae(t))if(console.log("handleEvent",this._isaborting,n.view.id,t),this._isaborting)this.dependencies.saveState(t,n,null),this.sendEventToBackends(t,n);else if(this.transactions.length==0||Rs(this.transactions).iact!=n)n.start(),this.handleEvent(t,n),n.end();else{let r=Rs(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,t,n),r.visible&&this.sendEventToBackends(t,n)}}sendEventToBackends(t,n){cn((r,i)=>{let a=r(t);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return N2(t=>t.snapshot(),this.backends)}restoreSnapshot(t){cn((n,r)=>{Ae(n)||this.backends[r].restoreSnapshot(n)},t.snapshot)}start(t,n=!0){this.transactions.push({xid:this._xid++,iact:t,visible:n,snapshot:this.snapshot(),states:{},writeSet:new tS}),console.log("magic.start",this.transactions)}end(t){if(!jc(a=>a.iact=t,this.transactions)){console.log("magic.end: can't find interaction",t);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=ln(n.writeSet).map(({iact:a})=>a.id),i=C0(a=>ln(a).map(({iact:s})=>s.id),ln(n.states));if(ht($2(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=Rs(this.transactions);a.snapshot=Of(a.snapshot,n.snapshot),a.states=Of(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(t){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Ly(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),B2((i,a)=>this.dependencies.cmp(i.iact,a.iact),ln(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(t){let n=JSON.parse(t);this.dependencies.states=n,cn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(t){let n=this.dependencies.getStatesKey(t),r=this.dependencies.states[n],i=ln(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}t.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const iS=e=>({}),yh=e=>({}),aS=e=>({}),_h=e=>({}),oS=e=>({}),vh=e=>({}),sS=e=>({}),wh=e=>({}),fS=e=>({}),xh=e=>({}),cS=e=>({}),Sh=e=>({}),lS=e=>({}),kh=e=>({}),uS=e=>({}),Mh=e=>({}),dS=e=>({}),Ah=e=>({}),hS=e=>({}),Eh=e=>({}),pS=e=>({}),Th=e=>({}),gS=e=>({}),Ch=e=>({}),mS=e=>({}),Nh=e=>({}),bS=e=>({}),Dh=e=>({}),yS=e=>({}),Ih=e=>({});function _S(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,_,x,y,w,k,S,T,I,A,M,N,D,P,E;const j=e[1].header,Z=ft(j,e,e[0],Ih),re=e[1].alert,J=ft(re,e,e[0],Dh),Y=e[1].dropdown1,H=ft(Y,e,e[0],Nh),X=e[1].chart1,K=ft(X,e,e[0],Ch),O=e[1].dropdown2,ne=ft(O,e,e[0],Th),le=e[1].chart2,V=ft(le,e,e[0],Eh),se=e[1].dropdown3,C=ft(se,e,e[0],Ah),z=e[1].chart3,W=ft(z,e,e[0],Mh),F=e[1].dropdown4,ce=ft(F,e,e[0],kh),fe=e[1].chart4,de=ft(fe,e,e[0],Sh),pe=e[1].obplot,U=ft(pe,e,e[0],xh),ge=e[1].slider1,Se=ft(ge,e,e[0],wh),Be=e[1].slider2,Pe=ft(Be,e,e[0],vh),Pt=e[1].slider3,Ze=ft(Pt,e,e[0],_h),sn=e[1].slider4,Je=ft(sn,e,e[0],yh);return{c(){t=Q("div"),n=Q("div"),Z&&Z.c(),r=ke(),i=Q("div"),J&&J.c(),a=ke(),s=Q("div"),H&&H.c(),f=ke(),c=Q("div"),K&&K.c(),l=ke(),u=Q("div"),ne&&ne.c(),d=ke(),h=Q("div"),V&&V.c(),p=ke(),m=Q("div"),C&&C.c(),g=ke(),b=Q("div"),W&&W.c(),v=ke(),_=Q("div"),ce&&ce.c(),x=ke(),y=Q("div"),de&&de.c(),w=ke(),k=Q("div"),U&&U.c(),S=ke(),T=Q("div"),Se&&Se.c(),I=ke(),A=Q("div"),Pe&&Pe.c(),M=ke(),N=Q("div"),Ze&&Ze.c(),D=ke(),P=Q("div"),Je&&Je.c(),this.h()},l(B){t=ee(B,"DIV",{class:!0});var ie=te(t);n=ee(ie,"DIV",{class:!0});var $e=te(n);Z&&Z.l($e),$e.forEach(q),r=Me(ie),i=ee(ie,"DIV",{class:!0});var vt=te(i);J&&J.l(vt),vt.forEach(q),a=Me(ie),s=ee(ie,"DIV",{class:!0});var Zt=te(s);H&&H.l(Zt),Zt.forEach(q),f=Me(ie),c=ee(ie,"DIV",{class:!0});var Nt=te(c);K&&K.l(Nt),Nt.forEach(q),l=Me(ie),u=ee(ie,"DIV",{class:!0});var Or=te(u);ne&&ne.l(Or),Or.forEach(q),d=Me(ie),h=ee(ie,"DIV",{class:!0});var Sn=te(h);V&&V.l(Sn),Sn.forEach(q),p=Me(ie),m=ee(ie,"DIV",{class:!0});var L=te(m);C&&C.l(L),L.forEach(q),g=Me(ie),b=ee(ie,"DIV",{class:!0});var oe=te(b);W&&W.l(oe),oe.forEach(q),v=Me(ie),_=ee(ie,"DIV",{class:!0});var Ee=te(_);ce&&ce.l(Ee),Ee.forEach(q),x=Me(ie),y=ee(ie,"DIV",{class:!0});var Ce=te(y);de&&de.l(Ce),Ce.forEach(q),w=Me(ie),k=ee(ie,"DIV",{class:!0});var Bt=te(k);U&&U.l(Bt),Bt.forEach(q),S=Me(ie),T=ee(ie,"DIV",{class:!0});var bi=te(T);Se&&Se.l(bi),bi.forEach(q),I=Me(ie),A=ee(ie,"DIV",{class:!0});var Sa=te(A);Pe&&Pe.l(Sa),Sa.forEach(q),M=Me(ie),N=ee(ie,"DIV",{class:!0});var ka=te(N);Ze&&Ze.l(ka),ka.forEach(q),D=Me(ie),P=ee(ie,"DIV",{class:!0});var Kl=te(P);Je&&Je.l(Kl),Kl.forEach(q),ie.forEach(q),this.h()},h(){$(n,"class","mx-auto"),$(i,"class",""),$(s,"class","mx-auto"),$(c,"class",""),$(u,"class","mx-auto"),$(h,"class",""),$(m,"class","mx-auto"),$(b,"class",""),$(_,"class","mx-auto"),$(y,"class",""),$(k,"class",""),$(T,"class",""),$(A,"class",""),$(N,"class",""),$(P,"class",""),$(t,"class","px-5 py-2 bg-white")},m(B,ie){xe(B,t,ie),G(t,n),Z&&Z.m(n,null),G(t,r),G(t,i),J&&J.m(i,null),G(t,a),G(t,s),H&&H.m(s,null),G(t,f),G(t,c),K&&K.m(c,null),G(t,l),G(t,u),ne&&ne.m(u,null),G(t,d),G(t,h),V&&V.m(h,null),G(t,p),G(t,m),C&&C.m(m,null),G(t,g),G(t,b),W&&W.m(b,null),G(t,v),G(t,_),ce&&ce.m(_,null),G(t,x),G(t,y),de&&de.m(y,null),G(t,w),G(t,k),U&&U.m(k,null),G(t,S),G(t,T),Se&&Se.m(T,null),G(t,I),G(t,A),Pe&&Pe.m(A,null),G(t,M),G(t,N),Ze&&Ze.m(N,null),G(t,D),G(t,P),Je&&Je.m(P,null),E=!0},p(B,[ie]){Z&&Z.p&&(!E||ie&1)&&ct(Z,j,B,B[0],E?ut(j,B[0],ie,yS):lt(B[0]),Ih),J&&J.p&&(!E||ie&1)&&ct(J,re,B,B[0],E?ut(re,B[0],ie,bS):lt(B[0]),Dh),H&&H.p&&(!E||ie&1)&&ct(H,Y,B,B[0],E?ut(Y,B[0],ie,mS):lt(B[0]),Nh),K&&K.p&&(!E||ie&1)&&ct(K,X,B,B[0],E?ut(X,B[0],ie,gS):lt(B[0]),Ch),ne&&ne.p&&(!E||ie&1)&&ct(ne,O,B,B[0],E?ut(O,B[0],ie,pS):lt(B[0]),Th),V&&V.p&&(!E||ie&1)&&ct(V,le,B,B[0],E?ut(le,B[0],ie,hS):lt(B[0]),Eh),C&&C.p&&(!E||ie&1)&&ct(C,se,B,B[0],E?ut(se,B[0],ie,dS):lt(B[0]),Ah),W&&W.p&&(!E||ie&1)&&ct(W,z,B,B[0],E?ut(z,B[0],ie,uS):lt(B[0]),Mh),ce&&ce.p&&(!E||ie&1)&&ct(ce,F,B,B[0],E?ut(F,B[0],ie,lS):lt(B[0]),kh),de&&de.p&&(!E||ie&1)&&ct(de,fe,B,B[0],E?ut(fe,B[0],ie,cS):lt(B[0]),Sh),U&&U.p&&(!E||ie&1)&&ct(U,pe,B,B[0],E?ut(pe,B[0],ie,fS):lt(B[0]),xh),Se&&Se.p&&(!E||ie&1)&&ct(Se,ge,B,B[0],E?ut(ge,B[0],ie,sS):lt(B[0]),wh),Pe&&Pe.p&&(!E||ie&1)&&ct(Pe,Be,B,B[0],E?ut(Be,B[0],ie,oS):lt(B[0]),vh),Ze&&Ze.p&&(!E||ie&1)&&ct(Ze,Pt,B,B[0],E?ut(Pt,B[0],ie,aS):lt(B[0]),_h),Je&&Je.p&&(!E||ie&1)&&ct(Je,sn,B,B[0],E?ut(sn,B[0],ie,iS):lt(B[0]),yh)},i(B){E||(He(Z,B),He(J,B),He(H,B),He(K,B),He(ne,B),He(V,B),He(C,B),He(W,B),He(ce,B),He(de,B),He(U,B),He(Se,B),He(Pe,B),He(Ze,B),He(Je,B),E=!0)},o(B){Ye(Z,B),Ye(J,B),Ye(H,B),Ye(K,B),Ye(ne,B),Ye(V,B),Ye(C,B),Ye(W,B),Ye(ce,B),Ye(de,B),Ye(U,B),Ye(Se,B),Ye(Pe,B),Ye(Ze,B),Ye(Je,B),E=!1},d(B){B&&q(t),Z&&Z.d(B),J&&J.d(B),H&&H.d(B),K&&K.d(B),ne&&ne.d(B),V&&V.d(B),C&&C.d(B),W&&W.d(B),ce&&ce.d(B),de&&de.d(B),U&&U.d(B),Se&&Se.d(B),Pe&&Pe.d(B),Ze&&Ze.d(B),Je&&Je.d(B)}}}function vS(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class wS extends mt{constructor(t){super(),bt(this,t,vS,_S,yt,{})}}const Vo="_theplot_",xS={top:30,right:20,bottom:50,left:40};function Os(e,t){e.className=e.className||Vo,Ae(e.width);let n=Hl(e),r=null;return n.tagName=="svg"&&n.classList.contains(e.className)?r=n:r=n.querySelector(`svg.${e.className}`),r.classList.add(Vo),e.width||r.setAttribute("width","100%"),e.height||r.setAttribute("height","100%"),t.innerHTML="",t.appendChild(n),n}class Yl{constructor({iact:t,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=t,this.magic=n,this.plot=r,r&&this.init(r)}load(t){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!t||ht(t)){this.el.call(this.brush.clear);return}const{left:n,right:r}=t;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:t}){if(this.iact.isActive)if(!t)this.iact.set(this.defaultSelection);else{const[n,r]=t;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:t,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:t,sourceEvent:n}){this.iact.isActive&&(t||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(t){if(!this.iact.isActive)return;if(this.plot=t,this.x=t.scale("x"),this.y=t.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=t.classList.contains(Vo)?wt(t):wt(t.querySelector(`.${Vo}`));this.brush=H_().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function SS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[15](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[15](null)}}}function kS(e,t,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:c,xDomainMin:l=null,xDomainMax:u=null,brushX:d=Et({}),interactions:h={brushX:d}}=t,p,m=null,g={},b=[],v;function _(S,T){return T==="overlay"?(g=S,!0):!1}function x(S,T){!S||S.length===0||typeof T=="object"||(_(S,T)?console.debug("overlays"):b=S,w())}let{load:y=S=>v==null?void 0:v.load(S)}=t;function w(){n(2,l=l??bn(On(Ff(f),b))),n(3,u=u??It(On(Ff(f),b)));const S=Math.max(36,Math.min(b.length,20));let T={x:{domain:[+l,+u]},height:200,marginBottom:50,color:{scheme:"Tableau10",legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[gi({ticks:S,fontSize:10}),xa({fontSize:10}),Bl([l]),Rl([0]),Wx(b,{x:f,y:c,marker:!0,strokeWidth:3}),Wl(g,{x1:"left",x2:"right",y2:It($c(c,b)),fill:"key",color:"key",opacity:.2})]};m=Os(T,p),d.isActive&&(v=v??new Yl({iact:d,magic:a}),v.init(m))}function k(S){Er[S?"unshift":"push"](()=>{p=S,n(1,p)})}return e.$$set=S=>{"id"in S&&n(4,r=S.id),"name"in S&&n(0,i=S.name),"magic"in S&&n(5,a=S.magic),"description"in S&&n(6,s=S.description),"xAttr"in S&&n(7,f=S.xAttr),"yAttr"in S&&n(8,c=S.yAttr),"xDomainMin"in S&&n(2,l=S.xDomainMin),"xDomainMax"in S&&n(3,u=S.xDomainMax),"brushX"in S&&n(9,d=S.brushX),"interactions"in S&&n(10,h=S.interactions),"load"in S&&n(13,y=S.load)},[i,p,l,u,r,a,s,f,c,d,h,_,x,y,w,k]}class MS extends mt{constructor(t){super(),bt(this,t,kS,SS,yt,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ae()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ae()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ae()}get description(){return this.$$.ctx[6]}set description(t){this.$$set({description:t}),ae()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),ae()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),ae()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ae()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ae()}get brushX(){return this.$$.ctx[9]}set brushX(t){this.$$set({brushX:t}),ae()}get interactions(){return this.$$.ctx[10]}set interactions(t){this.$$set({interactions:t}),ae()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(t){this.$$set({load:t}),ae()}get update(){return this.$$.ctx[14]}}function Lh(e){return Object.prototype.toString.call(e)==="[object Date]"}function Dc(e,t,n,r){if(typeof n=="number"||Lh(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,f=e.opts.damping*a,c=(s-f)*e.inv_mass,l=(a+c)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,Lh(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>Dc(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Dc(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function AS(e,t={}){const n=Et(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,f,c,l=e,u=e,d=1,h=0,p=!1;function m(b,v={}){u=b;const _=c={};return e==null||v.hard||g.stiffness>=1&&g.damping>=1?(p=!0,s=Zl(),l=b,n.set(e=u),Promise.resolve()):(v.soft&&(h=1/((v.soft===!0?.5:+v.soft)*60),d=0),f||(s=Zl(),p=!1,f=fy(x=>{if(p)return p=!1,f=null,!1;d=Math.min(d+h,1);const y={inv_mass:d,opts:g,settled:!0,dt:(x-s)*60/1e3},w=Dc(y,l,e,u);return s=x,l=e,n.set(e=w),y.settled&&(f=null),!y.settled})),new Promise(x=>{f.promise.then(()=>{_===c&&x()})}))}const g={set:m,update:(b,v)=>m(b(u,e),v),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function Oh(e,t,n){const r=e.slice();return r[37]=t[n],r[39]=n,r}function Fh(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&Ph(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){$(t,"class","pip first"),$(t,"style",n=e[14]+": 0%;"),he(t,"selected",e[18](e[0])),he(t,"in-range",e[17](e[0]))},m(s,f){xe(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[30]),Le(t,"pointerup",e[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=Ph(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&$(t,"style",n),f[0]&262145&&he(t,"selected",s[18](s[0])),f[0]&131073&&he(t,"in-range",s[17](s[0]))},d(s){s&&q(t),a&&a.d(),r=!1,ir(i)}}}function Ph(e){let t,n,r,i=e[12](e[16](e[0]),0,0)+"",a,s=e[10]&&Bh(e),f=e[11]&&Rh(e);return{c(){t=Q("span"),s&&s.c(),n=Ue(),r=new Ko(!1),a=Ue(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=Ue(),r=Zo(l,!1),a=Ue(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){xe(c,t,l),s&&s.m(t,null),G(t,n),r.m(i,t),G(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=Bh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&69633&&i!==(i=c[12](c[16](c[0]),0,0)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=Rh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function Bh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&an(n,r[10])},d(r){r&&q(t)}}}function Rh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&an(n,r[11])},d(r){r&&q(t)}}}function $h(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Hh(Oh(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Ue()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=Ue()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);xe(i,t,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=Oh(i,n,s);r[s]?r[s].p(f,a):(r[s]=Hh(f),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Oc(r,i),i&&q(t)}}}function jh(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&qh(e);function f(...c){return e[33](e[39],...c)}return{c(){t=Q("span"),s&&s.c(),n=ke(),this.h()},l(c){t=ee(c,"SPAN",{class:!0,style:!0});var l=te(t);s&&s.l(l),n=Me(l),l.forEach(q),this.h()},h(){$(t,"class","pip"),$(t,"style",r=e[14]+": "+e[15](e[19](e[39]))+"%;"),he(t,"selected",e[18](e[19](e[39]))),he(t,"in-range",e[17](e[19](e[39])))},m(c,l){xe(c,t,l),s&&s.m(t,null),G(t,n),i||(a=[Le(t,"pointerdown",e[32]),Le(t,"pointerup",f)],i=!0)},p(c,l){e=c,e[6]==="label"||e[9]==="label"?s?s.p(e,l):(s=qh(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&573440&&r!==(r=e[14]+": "+e[15](e[19](e[39]))+"%;")&&$(t,"style",r),l[0]&786432&&he(t,"selected",e[18](e[19](e[39]))),l[0]&655360&&he(t,"in-range",e[17](e[19](e[39])))},d(c){c&&q(t),s&&s.d(),i=!1,ir(a)}}}function qh(e){let t,n,r,i=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",a,s=e[10]&&zh(e),f=e[11]&&Uh(e);return{c(){t=Q("span"),s&&s.c(),n=Ue(),r=new Ko(!1),a=Ue(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=Ue(),r=Zo(l,!1),a=Ue(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){xe(c,t,l),s&&s.m(t,null),G(t,n),r.m(i,t),G(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=zh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&561152&&i!==(i=c[12](c[19](c[39]),c[39],c[15](c[19](c[39])))+"")&&r.p(i),c[11]?f?f.p(c,l):(f=Uh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function zh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&an(n,r[10])},d(r){r&&q(t)}}}function Uh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&an(n,r[11])},d(r){r&&q(t)}}}function Hh(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,r=t&&jh(e);return{c(){r&&r.c(),n=Ue()},l(i){r&&r.l(i),n=Ue()},m(i,a){r&&r.m(i,a),xe(i,n,a)},p(i,a){a[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?r?r.p(i,a):(r=jh(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&q(n)}}}function Vh(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Wh(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){$(t,"class","pip last"),$(t,"style",n=e[14]+": 100%;"),he(t,"selected",e[18](e[1])),he(t,"in-range",e[17](e[1]))},m(s,f){xe(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[34]),Le(t,"pointerup",e[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=Wh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&$(t,"style",n),f[0]&262146&&he(t,"selected",s[18](s[1])),f[0]&131074&&he(t,"in-range",s[17](s[1]))},d(s){s&&q(t),a&&a.d(),r=!1,ir(i)}}}function Wh(e){let t,n,r,i=e[12](e[16](e[1]),e[20],100)+"",a,s=e[10]&&Yh(e),f=e[11]&&Xh(e);return{c(){t=Q("span"),s&&s.c(),n=Ue(),r=new Ko(!1),a=Ue(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=Ue(),r=Zo(l,!1),a=Ue(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(c,l){xe(c,t,l),s&&s.m(t,null),G(t,n),r.m(i,t),G(t,a),f&&f.m(t,null)},p(c,l){c[10]?s?s.p(c,l):(s=Yh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&1118210&&i!==(i=c[12](c[16](c[1]),c[20],100)+"")&&r.p(i),c[11]?f?f.p(c,l):(f=Xh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function Yh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[10]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&an(n,r[10])},d(r){r&&q(t)}}}function Xh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[11]),i.forEach(q),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&an(n,r[11])},d(r){r&&q(t)}}}function ES(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Fh(e),a=(e[6]&&e[9]!==!1||e[9])&&$h(e),s=(e[6]&&e[8]!==!1||e[8])&&Vh(e);return{c(){t=Q("div"),i&&i.c(),n=ke(),a&&a.c(),r=ke(),s&&s.c(),this.h()},l(f){t=ee(f,"DIV",{class:!0});var c=te(t);i&&i.l(c),n=Me(c),a&&a.l(c),r=Me(c),s&&s.l(c),c.forEach(q),this.h()},h(){$(t,"class","rangePips"),he(t,"disabled",e[5]),he(t,"hoverable",e[4]),he(t,"vertical",e[2]),he(t,"reversed",e[3]),he(t,"focus",e[13])},m(f,c){xe(f,t,c),i&&i.m(t,null),G(t,n),a&&a.m(t,null),G(t,r),s&&s.m(t,null)},p(f,c){f[6]&&f[7]!==!1||f[7]?i?i.p(f,c):(i=Fh(f),i.c(),i.m(t,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,c):(a=$h(f),a.c(),a.m(t,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,c):(s=Vh(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),c[0]&32&&he(t,"disabled",f[5]),c[0]&16&&he(t,"hoverable",f[4]),c[0]&4&&he(t,"vertical",f[2]),c[0]&8&&he(t,"reversed",f[3]),c[0]&8192&&he(t,"focus",f[13])},i:Ne,o:Ne,d(f){f&&q(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function TS(e,t,n){let r,i,a,s,f,{range:c=!1}=t,{min:l=0}=t,{max:u=100}=t,{step:d=1}=t,{values:h=[(u+l)/2]}=t,{vertical:p=!1}=t,{reversed:m=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:v=void 0}=t,{all:_=!0}=t,{first:x=void 0}=t,{last:y=void 0}=t,{rest:w=void 0}=t,{prefix:k=""}=t,{suffix:S=""}=t,{formatter:T=(O,ne,le)=>O}=t,{focus:I=void 0}=t,{orientationStart:A=void 0}=t,{percentOf:M=void 0}=t,{moveHandle:N=void 0}=t,{fixFloat:D=void 0}=t,{normalisedClient:P=void 0}=t,E;function j(O){O=P(O),E={x:O.clientX,y:O.clientY}}function Z(O,ne){if(ne=P(ne),!b){const le=Math.sqrt(Math.pow(E.x-ne.clientX,2)+Math.pow(E.y-ne.clientY,2));E&&le<=5&&N(void 0,O)}}const re=O=>{j(O)},J=O=>{Z(l,O)},Y=O=>{j(O)},H=(O,ne)=>{Z(a(O),ne)},X=O=>{j(O)},K=O=>{Z(u,O)};return e.$$set=O=>{"range"in O&&n(23,c=O.range),"min"in O&&n(0,l=O.min),"max"in O&&n(1,u=O.max),"step"in O&&n(24,d=O.step),"values"in O&&n(25,h=O.values),"vertical"in O&&n(2,p=O.vertical),"reversed"in O&&n(3,m=O.reversed),"hoverable"in O&&n(4,g=O.hoverable),"disabled"in O&&n(5,b=O.disabled),"pipstep"in O&&n(26,v=O.pipstep),"all"in O&&n(6,_=O.all),"first"in O&&n(7,x=O.first),"last"in O&&n(8,y=O.last),"rest"in O&&n(9,w=O.rest),"prefix"in O&&n(10,k=O.prefix),"suffix"in O&&n(11,S=O.suffix),"formatter"in O&&n(12,T=O.formatter),"focus"in O&&n(13,I=O.focus),"orientationStart"in O&&n(14,A=O.orientationStart),"percentOf"in O&&n(15,M=O.percentOf),"moveHandle"in O&&n(27,N=O.moveHandle),"fixFloat"in O&&n(16,D=O.fixFloat),"normalisedClient"in O&&n(28,P=O.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,r=v||((u-l)/d>=(p?50:100)?(u-l)/(p?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((u-l)/(d*r),10)),e.$$.dirty[0]&553713665&&n(19,a=function(O){return D(l+O*d*r)}),e.$$.dirty[0]&33619968&&n(18,s=function(O){return h.some(ne=>D(ne)===D(O))}),e.$$.dirty[0]&41943040&&n(17,f=function(O){if(c==="min")return h[0]>O;if(c==="max")return h[0]<O;if(c)return h[0]<O&&h[1]>O})},[l,u,p,m,g,b,_,x,y,w,k,S,T,I,A,M,D,f,s,a,i,j,Z,c,d,h,v,N,P,r,re,J,Y,H,X,K]}class CS extends mt{constructor(t){super(),bt(this,t,TS,ES,yt,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Gh(e,t,n){const r=e.slice();return r[65]=t[n],r[67]=n,r}function Kh(e){let t,n,r,i=e[21](e[65],e[67],e[24](e[65]))+"",a,s=e[18]&&Zh(e),f=e[19]&&Jh(e);return{c(){t=Q("span"),s&&s.c(),n=Ue(),r=new Ko(!1),a=Ue(),f&&f.c(),this.h()},l(c){t=ee(c,"SPAN",{class:!0});var l=te(t);s&&s.l(l),n=Ue(),r=Zo(l,!1),a=Ue(),f&&f.l(l),l.forEach(q),this.h()},h(){r.a=a,$(t,"class","rangeFloat")},m(c,l){xe(c,t,l),s&&s.m(t,null),G(t,n),r.m(i,t),G(t,a),f&&f.m(t,null)},p(c,l){c[18]?s?s.p(c,l):(s=Zh(c),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&18874369&&i!==(i=c[21](c[65],c[67],c[24](c[65]))+"")&&r.p(i),c[19]?f?f.p(c,l):(f=Jh(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&q(t),s&&s.d(),f&&f.d()}}}function Zh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[18]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[18]),i.forEach(q),this.h()},h(){$(t,"class","rangeFloat-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&262144&&an(n,r[18])},d(r){r&&q(t)}}}function Jh(e){let t,n;return{c(){t=Q("span"),n=Mt(e[19]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=At(i,e[19]),i.forEach(q),this.h()},h(){$(t,"class","rangeFloat-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&524288&&an(n,r[19])},d(r){r&&q(t)}}}function Qh(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m=e[7]&&Kh(e);return{c(){t=Q("span"),n=Q("span"),r=ke(),m&&m.c(),this.h()},l(g){t=ee(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=te(t);n=ee(b,"SPAN",{class:!0}),te(n).forEach(q),r=Me(b),m&&m.l(b),b.forEach(q),this.h()},h(){$(n,"class","rangeNub"),$(t,"role","slider"),$(t,"class","rangeHandle"),$(t,"data-handle",e[67]),$(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),$(t,"aria-label",a=e[22][e[67]]),$(t,"aria-valuemin",s=e[2]===!0&&e[67]===1?e[0][0]:e[3]),$(t,"aria-valuemax",f=e[2]===!0&&e[67]===0?e[0][1]:e[4]),$(t,"aria-valuenow",c=e[65]),$(t,"aria-valuetext",l=""+(e[18]+r0(e[21](e[65],e[67],e[24](e[65])))+e[19])),$(t,"aria-orientation",u=e[6]?"vertical":"horizontal"),$(t,"aria-disabled",e[10]),$(t,"disabled",e[10]),$(t,"tabindex",d=e[10]?-1:0),he(t,"active",e[25]&&e[27]===e[67]),he(t,"press",e[26]&&e[27]===e[67])},m(g,b){xe(g,t,b),G(t,n),G(t,r),m&&m.m(t,null),h||(p=[Le(t,"blur",e[35]),Le(t,"focus",e[36]),Le(t,"keydown",e[37])],h=!0)},p(g,b){g[7]?m?m.p(g,b):(m=Kh(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&1744830464&&i!==(i=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&$(t,"style",i),b[0]&4194304&&a!==(a=g[22][g[67]])&&$(t,"aria-label",a),b[0]&13&&s!==(s=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&$(t,"aria-valuemin",s),b[0]&21&&f!==(f=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&$(t,"aria-valuemax",f),b[0]&1&&c!==(c=g[65])&&$(t,"aria-valuenow",c),b[0]&19660801&&l!==(l=""+(g[18]+r0(g[21](g[65],g[67],g[24](g[65])))+g[19]))&&$(t,"aria-valuetext",l),b[0]&64&&u!==(u=g[6]?"vertical":"horizontal")&&$(t,"aria-orientation",u),b[0]&1024&&$(t,"aria-disabled",g[10]),b[0]&1024&&$(t,"disabled",g[10]),b[0]&1024&&d!==(d=g[10]?-1:0)&&$(t,"tabindex",d),b[0]&167772160&&he(t,"active",g[25]&&g[27]===g[67]),b[0]&201326592&&he(t,"press",g[26]&&g[27]===g[67])},d(g){g&&q(t),m&&m.d(),h=!1,ir(p)}}}function e0(e){let t,n;return{c(){t=Q("span"),this.h()},l(r){t=ee(r,"SPAN",{class:!0,style:!0}),te(t).forEach(q),this.h()},h(){$(t,"class","rangeBar"),$(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(r,i){xe(r,t,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&$(t,"style",n)},d(r){r&&q(t)}}}function t0(e){let t,n;return t=new CS({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:eo}}),{c(){m0(t.$$.fragment)},l(r){b0(t.$$.fragment,r)},m(r,i){y0(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),t.$set(a)},i(r){n||(He(t.$$.fragment,r),n=!0)},o(r){Ye(t.$$.fragment,r),n=!1},d(r){_0(t,r)}}}function NS(e){let t,n,r,i,a,s,f=e[0],c=[];for(let d=0;d<f.length;d+=1)c[d]=Qh(Gh(e,f,d));let l=e[2]&&e0(e),u=e[11]&&t0(e);return{c(){t=Q("div");for(let d=0;d<c.length;d+=1)c[d].c();n=ke(),l&&l.c(),r=ke(),u&&u.c(),this.h()},l(d){t=ee(d,"DIV",{id:!0,role:!0,class:!0});var h=te(t);for(let p=0;p<c.length;p+=1)c[p].l(h);n=Me(h),l&&l.l(h),r=Me(h),u&&u.l(h),h.forEach(q),this.h()},h(){$(t,"id",e[17]),$(t,"role","none"),$(t,"class","rangeSlider"),he(t,"range",e[2]),he(t,"disabled",e[10]),he(t,"hoverable",e[9]),he(t,"vertical",e[6]),he(t,"reversed",e[8]),he(t,"focus",e[25]),he(t,"min",e[2]==="min"),he(t,"max",e[2]==="max"),he(t,"pips",e[11]),he(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,h){xe(d,t,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(t,null);G(t,n),l&&l.m(t,null),G(t,r),u&&u.m(t,null),e[51](t),i=!0,a||(s=[Le(window,"mousedown",e[40]),Le(window,"touchstart",e[40]),Le(window,"mousemove",e[41]),Le(window,"touchmove",e[41]),Le(window,"mouseup",e[42]),Le(window,"touchend",e[43]),Le(window,"keydown",e[44]),Le(t,"mousedown",e[38]),Le(t,"mouseup",e[39]),Le(t,"touchstart",Jl(e[38])),Le(t,"touchend",Jl(e[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){f=d[0];let p;for(p=0;p<f.length;p+=1){const m=Gh(d,f,p);c[p]?c[p].p(m,h):(c[p]=Qh(m),c[p].c(),c[p].m(t,n))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[2]?l?l.p(d,h):(l=e0(d),l.c(),l.m(t,r)):l&&(l.d(1),l=null),d[11]?u?(u.p(d,h),h[0]&2048&&He(u,1)):(u=t0(d),u.c(),He(u,1),u.m(t,null)):u&&(cy(),Ye(u,1,1,()=>{u=null}),ly()),(!i||h[0]&131072)&&$(t,"id",d[17]),(!i||h[0]&4)&&he(t,"range",d[2]),(!i||h[0]&1024)&&he(t,"disabled",d[10]),(!i||h[0]&512)&&he(t,"hoverable",d[9]),(!i||h[0]&64)&&he(t,"vertical",d[6]),(!i||h[0]&256)&&he(t,"reversed",d[8]),(!i||h[0]&33554432)&&he(t,"focus",d[25]),(!i||h[0]&4)&&he(t,"min",d[2]==="min"),(!i||h[0]&4)&&he(t,"max",d[2]==="max"),(!i||h[0]&2048)&&he(t,"pips",d[11]),(!i||h[0]&122880)&&he(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(He(u),i=!0)},o(d){Ye(u),i=!1},d(d){d&&q(t),Oc(c,d),l&&l.d(),u&&u.d(),e[51](null),a=!1,ir(s)}}}function n0(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function eo(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function r0(e){return`${e}`.replace(/<[^>]*>/g,"")}function DS(e,t,n){let r,i,a,s,f,c,l=Ne,u=()=>(l(),l=Gn(z,L=>n(30,c=L)),z);e.$$.on_destroy.push(()=>l());let{slider:d=void 0}=t,{range:h=!1}=t,{pushy:p=!1}=t,{min:m=0}=t,{max:g=100}=t,{step:b=1}=t,{values:v=[(g+m)/2]}=t,{vertical:_=!1}=t,{float:x=!1}=t,{reversed:y=!1}=t,{hoverable:w=!0}=t,{disabled:k=!1}=t,{pips:S=!1}=t,{pipstep:T=void 0}=t,{all:I=void 0}=t,{first:A=void 0}=t,{last:M=void 0}=t,{rest:N=void 0}=t,{id:D=void 0}=t,{prefix:P=""}=t,{suffix:E=""}=t,{formatter:j=(L,oe,Ee)=>L}=t,{handleFormatter:Z=j}=t,{ariaLabels:re=[]}=t,{precision:J=2}=t,{springValues:Y={stiffness:.15,damping:.4}}=t;const H=uy();let X=0,K=!1,O=!1,ne=!1,le=!1,V=v.length-1,se,C,z;const W=L=>parseFloat((+L).toFixed(J));function F(L){const oe=d.querySelectorAll(".handle"),Ee=Array.prototype.includes.call(oe,L),Ce=Array.prototype.some.call(oe,Bt=>Bt.contains(L));return Ee||Ce}function ce(L){return h==="min"||h==="max"?L.slice(0,1):h?L.slice(0,2):L}function fe(){return d.getBoundingClientRect()}function de(L){const oe=fe();let Ee=0,Ce=0,Bt=0;_?(Ee=L.clientY-oe.top,Ce=Ee/oe.height*100,Ce=y?Ce:100-Ce):(Ee=L.clientX-oe.left,Ce=Ee/oe.width*100,Ce=y?100-Ce:Ce),Bt=(g-m)/100*Ce+m;let bi;return h===!0&&v[0]===v[1]?Bt>v[1]?1:0:(bi=v.indexOf([...v].sort((Sa,ka)=>Math.abs(Bt-Sa)-Math.abs(Bt-ka))[0]),bi)}function pe(L){const oe=fe();let Ee=0,Ce=0,Bt=0;_?(Ee=L.clientY-oe.top,Ce=Ee/oe.height*100,Ce=y?Ce:100-Ce):(Ee=L.clientX-oe.left,Ce=Ee/oe.width*100,Ce=y?100-Ce:Ce),Bt=(g-m)/100*Ce+m,U(V,Bt)}function U(L,oe){return oe=a(oe),typeof L>"u"&&(L=V),h&&(L===0&&oe>v[1]?p?n(0,v[1]=oe,v):oe=v[1]:L===1&&oe<v[0]&&(p?n(0,v[0]=oe,v):oe=v[0])),v[L]!==oe&&n(0,v[L]=oe,v),C!==oe&&(Or(),C=oe),oe}function ge(L){return h==="min"?0:L[0]}function Se(L){return h==="max"?0:h==="min"?100-L[0]:100-L[1]}function Be(L){le&&(n(25,K=!1),O=!1,n(26,ne=!1))}function Pe(L){k||(n(27,V=n0(L.target)),n(25,K=!0))}function Pt(L){if(!k){const oe=n0(L.target);let Ee=L.ctrlKey||L.metaKey||L.shiftKey?b*10:b,Ce=!1;switch(L.key){case"PageDown":Ee*=10;case"ArrowRight":case"ArrowUp":U(oe,v[oe]+Ee),Ce=!0;break;case"PageUp":Ee*=10;case"ArrowLeft":case"ArrowDown":U(oe,v[oe]-Ee),Ce=!0;break;case"Home":U(oe,m),Ce=!0;break;case"End":U(oe,g),Ce=!0;break}Ce&&(L.preventDefault(),L.stopPropagation())}}function Ze(L){if(!k){const oe=L.target,Ee=eo(L);n(25,K=!0),O=!0,n(26,ne=!0),n(27,V=de(Ee)),se=C=a(v[V]),Zt(),L.type==="touchstart"&&!oe.matches(".pipVal")&&pe(Ee)}}function sn(L){L.type==="touchend"&&Nt(),n(26,ne=!1)}function Je(L){le=!1,K&&L.target!==d&&!d.contains(L.target)&&n(25,K=!1)}function B(L){k||O&&pe(eo(L))}function ie(L){if(!k){const oe=L.target;O&&((oe===d||d.contains(oe))&&(n(25,K=!0),!F(oe)&&!oe.matches(".pipVal")&&pe(eo(L))),Nt())}O=!1,n(26,ne=!1)}function $e(L){O=!1,n(26,ne=!1)}function vt(L){k||(L.target===d||d.contains(L.target))&&(le=!0)}function Zt(){!k&&H("start",{activeHandle:V,value:se,values:v.map(L=>a(L))})}function Nt(){!k&&H("stop",{activeHandle:V,startValue:se,value:v[V],values:v.map(L=>a(L))})}function Or(){!k&&H("change",{activeHandle:V,startValue:se,previousValue:typeof C>"u"?se:C,value:v[V],values:v.map(L=>a(L))})}function Sn(L){Er[L?"unshift":"push"](()=>{d=L,n(1,d)})}return e.$$set=L=>{"slider"in L&&n(1,d=L.slider),"range"in L&&n(2,h=L.range),"pushy"in L&&n(45,p=L.pushy),"min"in L&&n(3,m=L.min),"max"in L&&n(4,g=L.max),"step"in L&&n(5,b=L.step),"values"in L&&n(0,v=L.values),"vertical"in L&&n(6,_=L.vertical),"float"in L&&n(7,x=L.float),"reversed"in L&&n(8,y=L.reversed),"hoverable"in L&&n(9,w=L.hoverable),"disabled"in L&&n(10,k=L.disabled),"pips"in L&&n(11,S=L.pips),"pipstep"in L&&n(12,T=L.pipstep),"all"in L&&n(13,I=L.all),"first"in L&&n(14,A=L.first),"last"in L&&n(15,M=L.last),"rest"in L&&n(16,N=L.rest),"id"in L&&n(17,D=L.id),"prefix"in L&&n(18,P=L.prefix),"suffix"in L&&n(19,E=L.suffix),"formatter"in L&&n(20,j=L.formatter),"handleFormatter"in L&&n(21,Z=L.handleFormatter),"ariaLabels"in L&&n(22,re=L.ariaLabels),"precision"in L&&n(46,J=L.precision),"springValues"in L&&n(47,Y=L.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(L){return L<=m?m:L>=g?g:L}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,a=function(L){if(L<=m)return W(m);if(L>=g)return W(g);L=W(L);let oe=(L-m)%b,Ee=L-oe;return Math.abs(oe)*2>=b&&(Ee+=oe>0?b:-b),Ee=i(Ee),W(Ee)}),e.$$.dirty[0]&24&&n(24,r=function(L){let oe=(L-m)/(g-m)*100;return isNaN(oe)||oe<=0?0:oe>=100?100:W(oe)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(v)||(n(0,v=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const L=ce(v.map(oe=>a(oe)));(v.length!==L.length||!v.every((oe,Ee)=>W(oe)===L[Ee]))&&n(0,v=L),X!==v.length?u(n(23,z=AS(v.map(oe=>r(oe)),Y))):z.set(v.map(oe=>r(oe))),n(48,X=v.length),v.length>1&&!Array.isArray(re)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,s=_?y?"top":"bottom":y?"right":"left"),e.$$.dirty[0]&320&&n(28,f=_?y?"bottom":"top":y?"left":"right")},[v,d,h,m,g,b,_,x,y,w,k,S,T,I,A,M,N,D,P,E,j,Z,re,z,r,K,ne,V,f,s,c,W,U,ge,Se,Be,Pe,Pt,Ze,sn,Je,B,ie,$e,vt,p,J,Y,X,a,i,Sn]}class IS extends mt{constructor(t){super(),bt(this,t,DS,NS,yt,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function i0(e){let t,n;return{c(){t=Q("p"),n=Mt(e[2])},l(r){t=ee(r,"P",{});var i=te(t);n=At(i,e[2]),i.forEach(q)},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i&4&&an(n,r[2])},d(r){r&&q(t)}}}function LS(e){let t,n,r,i,a,s=e[2]&&i0(e);function f(l){e[14](l)}let c={min:+e[0],max:+e[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return e[6]!==void 0&&(c.values=e[6]),r=new IS({props:c}),Er.push(()=>dy(r,"values",f)),r.$on("start",e[8]),r.$on("change",e[7]),r.$on("stop",e[9]),{c(){t=Q("div"),s&&s.c(),n=ke(),m0(r.$$.fragment),this.h()},l(l){t=ee(l,"DIV",{class:!0,id:!0});var u=te(t);s&&s.l(u),n=Me(u),b0(r.$$.fragment,u),u.forEach(q),this.h()},h(){$(t,"class","px-[1%] py-[1%] ml-[2.1%]"),$(t,"id","slider")},m(l,u){xe(l,t,u),s&&s.m(t,null),G(t,n),y0(r,t,null),a=!0},p(l,[u]){l[2]?s?s.p(l,u):(s=i0(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),!i&&u&64&&(i=!0,d.values=l[6],hy(()=>i=!1)),r.$set(d)},i(l){a||(He(r.$$.fragment,l),a=!0)},o(l){Ye(r.$$.fragment,l),a=!1},d(l){l&&q(t),s&&s.d(),_0(r)}}}function OS(e,t,n){let r,i=Ne,a=()=>(i(),i=Gn(_,M=>n(15,r=M)),_),s,f=Ne,c=()=>(f(),f=Gn(b,M=>n(16,s=M)),b),l,u=Ne,d=()=>(u(),u=Gn(v,M=>n(17,l=M)),v);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=100,id:m,description:g}=t,{change:b=Et({})}=t;c();let{stop:v=Et({})}=t;d();let{drag:_=Et({})}=t;a();let{interactions:x={change:b,stop:v,drag:_}}=t;py("dims");let y=[h,p];[...y];function w(M){console.log("Slider.render",M),M&&Re(Array,M)&&ht(M.filter(N=>N===void 0))&&(n(6,y=[+M[0].min,+M[0].max]),n(0,[h,p]=y,h,n(1,p)),console.log("Slider.render.to",y)),y&&y.length>=2&&S()}function k(M,N){console.log("Slider.load",M,N),!(!yr("left")(M)||!yr("right")(M))&&(M=M??{left:h,right:p},n(6,y=[M.left??h,M.right??p]),S())}function S(){b.isActive&&at(b,s={left:y[0],right:y[1]},s),_.isActive&&at(_,r={left:y[0],right:y[1]},r)}function T(){_.isActive&&at(_,r={left:y[0],right:y[1]},r)}function I(){v.isActive&&at(v,l={left:y[0],right:y[1]},l),b.isActive&&at(b,s={left:y[0],right:y[1]},s),_.isActive&&at(_,r={left:y[0],right:y[1]},r)}function A(M){y=M,n(6,y)}return e.$$set=M=>{"min"in M&&n(0,h=M.min),"max"in M&&n(1,p=M.max),"id"in M&&n(10,m=M.id),"description"in M&&n(2,g=M.description),"change"in M&&c(n(3,b=M.change)),"stop"in M&&d(n(4,v=M.stop)),"drag"in M&&a(n(5,_=M.drag)),"interactions"in M&&n(11,x=M.interactions)},[h,p,g,b,v,_,y,S,T,I,m,x,w,k,A]}class FS extends mt{constructor(t){super(),bt(this,t,OS,LS,yt,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ae()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ae()}get id(){return this.$$.ctx[10]}set id(t){this.$$set({id:t}),ae()}get description(){return this.$$.ctx[2]}set description(t){this.$$set({description:t}),ae()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ae()}get stop(){return this.$$.ctx[4]}set stop(t){this.$$set({stop:t}),ae()}get drag(){return this.$$.ctx[5]}set drag(t){this.$$set({drag:t}),ae()}get interactions(){return this.$$.ctx[11]}set interactions(t){this.$$set({interactions:t}),ae()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function PS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[18](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[18](null)}}}function BS(e,t,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:c="val",yMax:l,magic:u,xDomainMin:d=null,xDomainMax:h=null,theplot:p=null}=t,m={},{brushX:g=Et({}),interactions:b={brushX:g}}=t,v,_=null,x=[],y=[{},{}];function w(A,M){return M!="overlay"?!1:(m=A,!0)}function k(A,M){return M!="badyear"?!1:(A.forEach((N,D)=>{N.rank=D+1,N[f]=Number(N[f])}),y=A,!0)}function S(A,M){!A||A.length===0||typeof M=="object"||(k(A,M)||w(A,M)?console.debug("overlay or badyear"):(x=eS(A,{include:a}),x.forEach(N=>N[f]=Number(N[f]))),T())}function T(){n(2,d=+d),n(3,h=+h);let A=Ac({x:{type:"linear",domain:[d-1,h]}}),M=D=>(y.length-D.rank)*(.3/y.length)+.7,N={x:A,color:{domain:a,range:u1,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[gi({ticks:Oy(D=>D+d,h-d),tickRotate:-90,fontSize:10,tickFormat:D=>(D+"").slice(-2)}),xa({fontSize:10,label:"Payout"}),Rl([0]),Bl([A.domain[0]]),Nc(y,{x1:D=>D[f]-.5,x2:D=>D[f]+.5,y:M,stroke:"black",opacity:.8,strokeWidth:1}),Xx(y,{x1:D=>D[f]-.5,x2:D=>D[f]+.5,y1:0,y2:M,fill:"gray",opacity:.1}),Wl(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),zx(x,{filter:D=>D.key==a.at(-1)&&D[f]>=d&&D[f]<=h&&+D[c]==0,x:D=>+D[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((D,P)=>{let E=(1+P)/a.length*.7;N.marks.push(Nc(x,{filter:j=>j.key==D&&j[f]>=d&&j[f]<=h,x:j=>+j[f]+E-.35,y1:0,y2:c,stroke:"key",strokeWidth:4}))}),n(4,p=Os(N,_)),g.isActive&&(v=v??new Yl({iact:g,magic:u}),v.init(p))}function I(A){Er[A?"unshift":"push"](()=>{_=A,n(1,_)})}return e.$$set=A=>{"id"in A&&n(5,r=A.id),"name"in A&&n(0,i=A.name),"groupNames"in A&&n(6,a=A.groupNames),"title"in A&&n(7,s=A.title),"xAttr"in A&&n(8,f=A.xAttr),"yAttr"in A&&n(9,c=A.yAttr),"yMax"in A&&n(10,l=A.yMax),"magic"in A&&n(11,u=A.magic),"xDomainMin"in A&&n(2,d=A.xDomainMin),"xDomainMax"in A&&n(3,h=A.xDomainMax),"theplot"in A&&n(4,p=A.theplot),"brushX"in A&&n(12,g=A.brushX),"interactions"in A&&n(13,b=A.interactions)},[i,_,d,h,p,r,a,s,f,c,l,u,g,b,w,k,S,T,I]}class RS extends mt{constructor(t){super(),bt(this,t,BS,PS,yt,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),ae()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ae()}get groupNames(){return this.$$.ctx[6]}set groupNames(t){this.$$set({groupNames:t}),ae()}get title(){return this.$$.ctx[7]}set title(t){this.$$set({title:t}),ae()}get xAttr(){return this.$$.ctx[8]}set xAttr(t){this.$$set({xAttr:t}),ae()}get yAttr(){return this.$$.ctx[9]}set yAttr(t){this.$$set({yAttr:t}),ae()}get yMax(){return this.$$.ctx[10]}set yMax(t){this.$$set({yMax:t}),ae()}get magic(){return this.$$.ctx[11]}set magic(t){this.$$set({magic:t}),ae()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ae()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ae()}get theplot(){return this.$$.ctx[4]}set theplot(t){this.$$set({theplot:t}),ae()}get brushX(){return this.$$.ctx[12]}set brushX(t){this.$$set({brushX:t}),ae()}get interactions(){return this.$$.ctx[13]}set interactions(t){this.$$set({interactions:t}),ae()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function $S(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[11](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[11](null)}}}function jS(e,t,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=t,{brushX:c=Et({})}=t,{interactions:l={brushX:c}}=t,u,d,h,p={},m=[];function g(x,y){return y!="overlay"?!1:(p=x,!0)}function b(x,y){!x||x.length===0||typeof y=="object"||(g(x,y)?console.debug("overlay"):m=x,v())}function v(){let x={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,marginLeft:90,height:300,fy:{label:null,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},scheme:"Tableau10",legend:!0},marks:[gi({ticks:36,fontSize:10}),Pb(),Nc(m,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"village"}),Ds(m,{x:y=>{let w=(y.end_time-y.start_time)/2+y.start_time;return console.log("yy",y,w),w},y:"activity",dy:3,lineAnchor:"top",fy:"village",fontSize:10,color:"gray",text:"activity"}),Wl(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})]};u=Os(x,d),c.isActive&&(h=h??new Yl({iact:c,magic:f}),h.init(u))}function _(x){Er[x?"unshift":"push"](()=>{d=x,n(1,d)})}return e.$$set=x=>{"id"in x&&n(2,r=x.id),"name"in x&&n(0,i=x.name),"xDomainMin"in x&&n(3,a=x.xDomainMin),"xDomainMax"in x&&n(4,s=x.xDomainMax),"magic"in x&&n(5,f=x.magic),"brushX"in x&&n(6,c=x.brushX),"interactions"in x&&n(7,l=x.interactions)},[i,d,r,a,s,f,c,l,g,b,v,_]}class qS extends mt{constructor(t){super(),bt(this,t,jS,$S,yt,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ae()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ae()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(t){this.$$set({xDomainMin:t}),ae()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(t){this.$$set({xDomainMax:t}),ae()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ae()}get brushX(){return this.$$.ctx[6]}set brushX(t){this.$$set({brushX:t}),ae()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ae()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function zS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){$(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[6](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[6](null)}}}function US(e,t,n){let{name:r,id:i,interactions:a={}}=t,s,f=[];function c(d,h){!d||d.length===0||(f=d,l())}function l(){let d=Ac({color:{type:"linear",scheme:"greens"}}),h=Ac({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=f.map(g=>h.apply(ho(d.apply(+g.value)).l)),m={padding:0,marginLeft:150,height:300,color:d,marks:[gi({fontSize:10,label:null}),xa({fontSize:10,label:null}),Rx(f,{x:"x",y:"y",fill:g=>+g.value,stroke:"white"}),Ds(f,{x:"x",y:"y",text:g=>g.value,fill:p,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Os(m,s)}function u(d){Er[d?"unshift":"push"](()=>{s=d,n(1,s)})}return e.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,c,l,u]}class HS extends mt{constructor(t){super(),bt(this,t,US,zS,yt,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ae()}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ae()}get interactions(){return this.$$.ctx[3]}set interactions(t){this.$$set({interactions:t}),ae()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const VS=Et({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:xS}),a0=Et([]),o0=Et({});function s0(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function WS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=Mt(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=At(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value},m(i,a){xe(i,t,a),G(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&an(r,n)},d(i){i&&q(t)}}}function YS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=Mt(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=At(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value,t.selected=!0},m(i,a){xe(i,t,a),G(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&an(r,n)},d(i){i&&q(t)}}}function f0(e){let t;function n(a,s){return a[17]===a[1]?YS:WS}let r=n(e),i=r(e);return{c(){i.c(),t=Ue()},l(a){i.l(a),t=Ue()},m(a,s){i.m(a,s),xe(a,t,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t.parentNode,t)))},d(a){i.d(a),a&&q(t)}}}function XS(e){let t,n,r,i,a=e[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=f0(s0(e,a,f));return{c(){t=Q("div"),n=Q("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=ee(f,"DIV",{class:!0,id:!0});var c=te(t);n=ee(c,"SELECT",{class:!0});var l=te(n);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(q),c.forEach(q),this.h()},h(){$(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[4]===void 0&&gy(()=>e[10].call(n)),$(t,"class","px-[1%] py-[1%]"),$(t,"id",e[0])},m(f,c){xe(f,t,c),G(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);Ql(n,e[4],!0),r||(i=[Le(n,"change",e[10]),Le(n,"change",e[6])],r=!0)},p(f,[c]){if(c&38){a=f[5];let l;for(l=0;l<a.length;l+=1){const u=s0(f,a,l);s[l]?s[l].p(u,c):(s[l]=f0(u),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}c&16&&Ql(n,f[4]),c&1&&$(t,"id",f[0])},i:Ne,o:Ne,d(f){f&&q(t),Oc(s,f),r=!1,ir(i)}}}function GS(e,t,n){let r,i=Ne,a=()=>(i(),i=Gn(u,_=>n(11,r=_)),u),s;to(e,VS,_=>n(12,s=_)),e.$$.on_destroy.push(()=>i());let{id:f,index:c,dropdown_key:l}=t,{change:u=Et({})}=t;a();let{interactions:d={change:u}}=t,h=null,p=[];s.margin;function m(_,x){n(5,p=_??p),n(4,h=h??c),console.log("Dropdown.render",p,h,x),b()}function g(_){console.log("Dropdown.load",_),n(4,h=_.idx),m()}function b(){u.isActive&&at(u,r={...p[h],idx:h},r)}function v(){h=my(this),n(4,h)}return e.$$set=_=>{"id"in _&&n(0,f=_.id),"index"in _&&n(1,c=_.index),"dropdown_key"in _&&n(2,l=_.dropdown_key),"change"in _&&a(n(3,u=_.change)),"interactions"in _&&n(7,d=_.interactions)},[f,c,l,u,h,p,b,d,m,g,v]}class KS extends mt{constructor(t){super(),bt(this,t,GS,XS,yt,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(t){this.$$set({id:t}),ae()}get index(){return this.$$.ctx[1]}set index(t){this.$$set({index:t}),ae()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(t){this.$$set({dropdown_key:t}),ae()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ae()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ae()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function ZS(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m;return{c(){t=Q("form"),n=Q("div"),r=Q("input"),i=ke(),a=Q("button"),s=Mt("Login"),f=ke(),c=Q("button"),l=Mt("Save"),u=ke(),d=Q("button"),h=Mt("Logout"),this.h()},l(g){t=ee(g,"FORM",{class:!0});var b=te(t);n=ee(b,"DIV",{class:!0});var v=te(n);r=ee(v,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=Me(v),a=ee(v,"BUTTON",{class:!0,type:!0});var _=te(a);s=At(_,"Login"),_.forEach(q),f=Me(v),c=ee(v,"BUTTON",{class:!0,type:!0});var x=te(c);l=At(x,"Save"),x.forEach(q),u=Me(v),d=ee(v,"BUTTON",{class:!0,type:!0});var y=te(d);h=At(y,"Logout"),y.forEach(q),v.forEach(q),b.forEach(q),this.h()},h(){$(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),$(r,"type","text"),$(r,"placeholder","Login..."),$(r,"aria-label","username"),$(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),$(a,"type","button"),$(c,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(c,"type","button"),$(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(d,"type","button"),$(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),$(t,"class","w-full max-w-sm mx-auto")},m(g,b){xe(g,t,b),G(t,n),G(n,r),no(r,e[1]),G(n,i),G(n,a),G(a,s),G(n,f),G(n,c),G(c,l),G(n,u),G(n,d),G(d,h),p||(m=[Le(r,"input",e[14]),Le(a,"click",e[2]),Le(c,"click",e[3]),Le(d,"click",e[4])],p=!0)},p(g,[b]){b&2&&r.value!==g[1]&&no(r,g[1])},i:Ne,o:Ne,d(g){g&&q(t),p=!1,ir(m)}}}function Vb(e,t){console.debug("login invoked",e,t)}function JS(e,t,n){let r,i=Ne,a=()=>(i(),i=Gn(s,w=>n(16,r=w)),s);e.$$.on_destroy.push(()=>i());let{status:s=Et({}),interactions:f={status:s}}=t;a();let{id:c,magic:l,client:u,exportFunc:d,importFunc:h,dataTable:p,stateTable:m}=t,g,b;const v=async()=>{console.debug("login user: ",g),b=l.exportState();const w=await u.query(h,{table:m,user:g});if(!w){alert("there is no data for this user"),at(s,r={user:g,loggedin:!0},r);return}at(s,r={user:g,loggedin:!0},r),l.importState(w.data)},_=async()=>{let w=l.exportData();await u.mutation(d,{data:w,table:p,user:g}),w=l.exportState(),await u.mutation(d,{data:w,table:m,user:g}),alert("save function executed")},x=async()=>{l.importState(b),n(1,g=null)};function y(){g=this.value,n(1,g)}return e.$$set=w=>{"status"in w&&a(n(0,s=w.status)),"interactions"in w&&n(5,f=w.interactions),"id"in w&&n(6,c=w.id),"magic"in w&&n(7,l=w.magic),"client"in w&&n(8,u=w.client),"exportFunc"in w&&n(9,d=w.exportFunc),"importFunc"in w&&n(10,h=w.importFunc),"dataTable"in w&&n(11,p=w.dataTable),"stateTable"in w&&n(12,m=w.stateTable)},[s,g,v,_,x,f,c,l,u,d,h,p,m,Vb,y]}class QS extends mt{constructor(t){super(),bt(this,t,JS,ZS,yt,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(t){this.$$set({status:t}),ae()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ae()}get id(){return this.$$.ctx[6]}set id(t){this.$$set({id:t}),ae()}get magic(){return this.$$.ctx[7]}set magic(t){this.$$set({magic:t}),ae()}get client(){return this.$$.ctx[8]}set client(t){this.$$set({client:t}),ae()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(t){this.$$set({exportFunc:t}),ae()}get importFunc(){return this.$$.ctx[10]}set importFunc(t){this.$$set({importFunc:t}),ae()}get dataTable(){return this.$$.ctx[11]}set dataTable(t){this.$$set({dataTable:t}),ae()}get stateTable(){return this.$$.ctx[12]}set stateTable(t){this.$$set({stateTable:t}),ae()}get render(){return Vb}}function ek(e){let t,n,r,i;return{c(){t=Q("form"),n=Q("input"),this.h()},l(a){t=ee(a,"FORM",{class:!0});var s=te(t);n=ee(s,"INPUT",{type:!0,class:!0,placeholder:!0}),s.forEach(q),this.h()},h(){$(n,"type","text"),$(n,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),$(n,"placeholder",e[0]),$(t,"class","px-[1%] py-[1%] ml-[5.9%]")},m(a,s){xe(a,t,s),G(t,n),no(n,e[2]),r||(i=[Le(n,"input",e[8]),Le(n,"change",e[3])],r=!0)},p(a,[s]){s&1&&$(n,"placeholder",a[0]),s&4&&n.value!==a[2]&&no(n,a[2])},i:Ne,o:Ne,d(a){a&&q(t),r=!1,ir(i)}}}function tk(e,t,n){let r,i=Ne,a=()=>(i(),i=Gn(c,g=>n(9,r=g)),c);e.$$.on_destroy.push(()=>i());let s=null,{placeholder:f="textbox"}=t,{change:c=Et({})}=t;a();let{id:l}=t,{interactions:u={change:c}}=t;function d(){c.isActive&&at(c,r={text:s},r)}function h(g){g&&R.is(Array,g)&&g.length&&n(0,f=String(g[0]))}function p(g,b){n(2,s=g),d()}function m(){s=this.value,n(2,s)}return e.$$set=g=>{"placeholder"in g&&n(0,f=g.placeholder),"change"in g&&a(n(1,c=g.change)),"id"in g&&n(4,l=g.id),"interactions"in g&&n(5,u=g.interactions)},[f,c,s,d,l,u,h,p,m]}class nk extends mt{constructor(t){super(),bt(this,t,tk,ek,yt,{placeholder:0,change:1,id:4,interactions:5,render:6,load:7})}get placeholder(){return this.$$.ctx[0]}set placeholder(t){this.$$set({placeholder:t}),ae()}get change(){return this.$$.ctx[1]}set change(t){this.$$set({change:t}),ae()}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ae()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ae()}get render(){return this.$$.ctx[6]}get load(){return this.$$.ctx[7]}}function rk(e,t,n){let r,i=Ne,a=()=>(i(),i=Gn(f,g=>n(8,r=g)),f);e.$$.on_destroy.push(()=>i());let{id:s,valid:f=Et({}),interactions:c={valid:f},key:l,threshold_string:u}=t;a();let d=[],h=Number(u);function p(g,b){if(console.debug("trigger alert render"),d=g??d,ht(d)||!Re(Array,d))return;const _=$c(l)(d);if(ht(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}I2(_)<h?(at(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):at(f,r={valid:!0},r)}function m(g,b){ht(g)||at(f,r=g,r)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"valid"in g&&a(n(0,f=g.valid)),"interactions"in g&&n(2,c=g.interactions),"key"in g&&n(3,l=g.key),"threshold_string"in g&&n(4,u=g.threshold_string)},[f,s,c,l,u,p,m]}class ik extends mt{constructor(t){super(),bt(this,t,rk,null,yt,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),ae()}get valid(){return this.$$.ctx[0]}set valid(t){this.$$set({valid:t}),ae()}get interactions(){return this.$$.ctx[2]}set interactions(t){this.$$set({interactions:t}),ae()}get key(){return this.$$.ctx[3]}set key(t){this.$$set({key:t}),ae()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(t){this.$$set({threshold_string:t}),ae()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}var Wb={exports:{}},ak=Wb.exports={};ak.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Yb=Wb.exports,ok=function(e){var t=e.stateHandler.getState;function n(s){var f=t(s);return f&&!!f.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,f){t(s).busy=!!f}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},sk=function(e){var t={};function n(s){var f=e.get(s);return f===void 0?[]:t[f]||[]}function r(s,f){var c=e.get(s);t[c]||(t[c]=[]),t[c].push(f)}function i(s,f){for(var c=n(s),l=0,u=c.length;l<u;++l)if(c[l]===f){c.splice(l,1);break}}function a(s){var f=n(s);f&&(f.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},fk=function(){var e=1;function t(){return e++}return{generate:t}},ck=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var f=t.generate();return s.id=f,f}return{get:r,set:i}},lk=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var f=console[a];if(f.apply)f.apply(console,arguments);else for(var c=0;c<arguments.length;c++)f(arguments[c])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Xb={exports:{}},Gb=Xb.exports={};Gb.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};Gb.isLegacyOpera=function(){return!!window.opera};var Kb=Xb.exports,Zb={exports:{}},uk=Zb.exports={};uk.getOption=dk;function dk(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var hk=Zb.exports,c0=hk,pk=function(t){t=t||{};var n=t.reporter,r=c0.getOption(t,"async",!0),i=c0.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=l0(),s,f=!1;function c(m,g){!f&&i&&r&&a.size()===0&&d(),a.add(m,g)}function l(){for(f=!0;a.size();){var m=a;a=l0(),m.process()}f=!1}function u(m){f||(m===void 0&&(m=r),s&&(h(s),s=null),m?d():l())}function d(){s=p(l)}function h(m){var g=clearTimeout;return g(m)}function p(m){var g=function(b){return setTimeout(b,0)};return g(m)}return{add:c,force:u}};function l0(){var e={},t=0,n=0,r=0;function i(f,c){c||(c=f,f=0),f>n?n=f:f<r&&(r=f),e[f]||(e[f]=[]),e[f].push(c),t++}function a(){for(var f=r;f<=n;f++)for(var c=e[f],l=0;l<c.length;l++){var u=c[l];u()}}function s(){return t}return{add:i,process:a,size:s}}var Xl="_erd";function gk(e){return e[Xl]={},Jb(e)}function Jb(e){return e[Xl]}function mk(e){delete e[Xl]}var bk={initState:gk,getState:Jb,cleanState:mk},Mi=Kb,yk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,u){function d(){u(l)}if(Mi.isIE(8))r(l).object={proxy:d},l.attachEvent("onresize",d);else{var h=f(l);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function a(l){var u=e.important?" !important; ":"; ";return(l.join(u)+u).trim()}function s(l,u,d){d||(d=u,u=l,l=null),l=l||{},l.debug;function h(p,m){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,v=window.getComputedStyle(p),_=p.offsetWidth,x=p.offsetHeight;r(p).startSize={width:_,height:x};function y(){function w(){if(v.position==="static"){p.style.setProperty("position","relative",l.important?"important":"");var T=function(I,A,M,N){function D(E){return E.replace(/[^-\d\.]/g,"")}var P=M[N];P!=="auto"&&D(P)!=="0"&&(I.warn("An element that is positioned static has style."+N+"="+P+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+N+" will be set to 0. Element: ",A),A.style.setProperty(N,"0",l.important?"important":""))};T(t,p,v,"top"),T(t,p,v,"right"),T(t,p,v,"bottom"),T(t,p,v,"left")}}function k(){b||w();function T(A,M){if(!A.contentDocument){var N=r(A);N.checkForObjectDocumentTimeoutId&&window.clearTimeout(N.checkForObjectDocumentTimeoutId),N.checkForObjectDocumentTimeoutId=setTimeout(function(){N.checkForObjectDocumentTimeoutId=0,T(A,M)},100);return}M(A.contentDocument)}var I=this;T(I,function(M){m(p)})}v.position!==""&&(w(),b=!0);var S=document.createElement("object");S.style.cssText=g,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=k,Mi.isIE()||(S.data="about:blank"),r(p)&&(p.appendChild(S),r(p).object=S,Mi.isIE()&&(S.data="about:blank"))}n?n.add(y):y()}Mi.isIE(8)?d(u):h(u,d)}function f(l){return r(l).object}function c(l){if(r(l)){var u=f(l);u&&(Mi.isIE(8)?l.detachEvent("onresize",u.proxy):l.removeChild(u),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:c}},_k=Yb.forEach,vk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=u(),s="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function c(y){d(y,s,f)}c(window.document);function l(y){var w=e.important?" !important; ":"; ";return(y.join(w)+w).trim()}function u(){var y=500,w=500,k=document.createElement("div");k.style.cssText=l(["position: absolute","width: "+y*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+y+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-y*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(k),document.body.insertBefore(S,document.body.firstChild);var T=y-S.clientWidth,I=w-S.clientHeight;return document.body.removeChild(S),{width:T,height:I}}function d(y,w,k){function S(M,N){N=N||function(P){y.head.appendChild(P)};var D=y.createElement("style");return D.innerHTML=M,D.id=w,N(D),D}if(!y.getElementById(w)){var T=k+"_animation",I=k+"_animation_active",A=`/* Created by the element-resize-detector library. */
`;A+="."+k+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,A+="."+I+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+T,"animation-name: "+T])+` }
`,A+="@-webkit-keyframes "+T+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,A+="@keyframes "+T+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(A)}}function h(y){y.className+=" "+f+"_animation_active"}function p(y,w,k){if(y.addEventListener)y.addEventListener(w,k);else if(y.attachEvent)y.attachEvent("on"+w,k);else return t.error("[scroll] Don't know how to add event listeners.")}function m(y,w,k){if(y.removeEventListener)y.removeEventListener(w,k);else if(y.detachEvent)y.detachEvent("on"+w,k);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(y){return r(y).container.childNodes[0].childNodes[0].childNodes[0]}function b(y){return r(y).container.childNodes[0].childNodes[0].childNodes[1]}function v(y,w){var k=r(y).listeners;if(!k.push)throw new Error("Cannot add listener to an element that is not detectable.");r(y).listeners.push(w)}function _(y,w,k){k||(k=w,w=y,y=null),y=y||{};function S(){if(y.debug){var C=Array.prototype.slice.call(arguments);if(C.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,C);else for(var z=0;z<C.length;z++)t.log(C[z])}}function T(C){function z(W){var F=W.getRootNode&&W.getRootNode().contains(W);return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)||F}return!z(C)||window.getComputedStyle(C)===null}function I(C){var z=r(C).container.childNodes[0],W=window.getComputedStyle(z);return!W.width||W.width.indexOf("px")===-1}function A(){var C=window.getComputedStyle(w),z={};return z.position=C.position,z.width=w.offsetWidth,z.height=w.offsetHeight,z.top=C.top,z.right=C.right,z.bottom=C.bottom,z.left=C.left,z.widthCSS=C.width,z.heightCSS=C.height,z}function M(){var C=A();r(w).startSize={width:C.width,height:C.height},S("Element start size",r(w).startSize)}function N(){r(w).listeners=[]}function D(){if(S("storeStyle invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var C=A();r(w).style=C}function P(C,z,W){r(C).lastWidth=z,r(C).lastHeight=W}function E(C){return g(C).childNodes[0]}function j(){return 2*a.width+1}function Z(){return 2*a.height+1}function re(C){return C+10+j()}function J(C){return C+10+Z()}function Y(C){return C*2+j()}function H(C){return C*2+Z()}function X(C,z,W){var F=g(C),ce=b(C),fe=re(z),de=J(W),pe=Y(z),U=H(W);F.scrollLeft=fe,F.scrollTop=de,ce.scrollLeft=pe,ce.scrollTop=U}function K(){var C=r(w).container;if(!C){C=document.createElement("div"),C.className=f,C.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=C,h(C),w.appendChild(C);var z=function(){r(w).onRendered&&r(w).onRendered()};p(C,"animationstart",z),r(w).onAnimationStart=z}return C}function O(){function C(){var $e=r(w).style;if($e.position==="static"){w.style.setProperty("position","relative",y.important?"important":"");var vt=function(Zt,Nt,Or,Sn){function L(Ee){return Ee.replace(/[^-\d\.]/g,"")}var oe=Or[Sn];oe!=="auto"&&L(oe)!=="0"&&(Zt.warn("An element that is positioned static has style."+Sn+"="+oe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Sn+" will be set to 0. Element: ",Nt),Nt.style[Sn]=0)};vt(t,w,$e,"top"),vt(t,w,$e,"right"),vt(t,w,$e,"bottom"),vt(t,w,$e,"left")}}function z($e,vt,Zt,Nt){return $e=$e?$e+"px":"0",vt=vt?vt+"px":"0",Zt=Zt?Zt+"px":"0",Nt=Nt?Nt+"px":"0",["left: "+$e,"top: "+vt,"right: "+Nt,"bottom: "+Zt]}if(S("Injecting elements"),!r(w)){S("Aborting because element has been uninstalled");return}C();var W=r(w).container;W||(W=K());var F=a.width,ce=a.height,fe=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(z(-(1+F),-(1+ce),-ce,-F))),pe=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),U=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ge=l(["position: absolute","left: 0","top: 0"]),Se=l(["position: absolute","width: 200%","height: 200%"]),Be=document.createElement("div"),Pe=document.createElement("div"),Pt=document.createElement("div"),Ze=document.createElement("div"),sn=document.createElement("div"),Je=document.createElement("div");Be.dir="ltr",Be.style.cssText=fe,Be.className=f,Pe.className=f,Pe.style.cssText=de,Pt.style.cssText=pe,Ze.style.cssText=ge,sn.style.cssText=U,Je.style.cssText=Se,Pt.appendChild(Ze),sn.appendChild(Je),Pe.appendChild(Pt),Pe.appendChild(sn),Be.appendChild(Pe),W.appendChild(Be);function B(){var $e=r(w);$e&&$e.onExpand?$e.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function ie(){var $e=r(w);$e&&$e.onShrink?$e.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}p(Pt,"scroll",B),p(sn,"scroll",ie),r(w).onExpandScroll=B,r(w).onShrinkScroll=ie}function ne(){function C(pe,U,ge){var Se=E(pe),Be=re(U),Pe=J(ge);Se.style.setProperty("width",Be+"px",y.important?"important":""),Se.style.setProperty("height",Pe+"px",y.important?"important":"")}function z(pe){var U=w.offsetWidth,ge=w.offsetHeight,Se=U!==r(w).lastWidth||ge!==r(w).lastHeight;S("Storing current size",U,ge),P(w,U,ge),n.add(0,function(){if(Se){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}if(y.debug){var Pe=w.offsetWidth,Pt=w.offsetHeight;(Pe!==U||Pt!==ge)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}C(w,U,ge)}}),n.add(1,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}X(w,U,ge)}),Se&&pe&&n.add(2,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!W()){S("Aborting because element container has not been initialized");return}pe()})}function W(){return!!r(w).container}function F(){function pe(){return r(w).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var U=r(w);if(pe()&&U.lastWidth===U.startSize.width&&U.lastHeight===U.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(U.lastWidth===U.lastNotifiedWidth&&U.lastHeight===U.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),U.lastNotifiedWidth=U.lastWidth,U.lastNotifiedHeight=U.lastHeight,_k(r(w).listeners,function(ge){ge(w)})}function ce(){if(S("startanimation triggered."),I(w)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var pe=g(w),U=b(w);(pe.scrollLeft===0||pe.scrollTop===0||U.scrollLeft===0||U.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),z(F))}function fe(){if(S("Scroll detected."),I(w)){S("Scroll event fired while unrendered. Ignoring...");return}z(F)}if(S("registerListenersAndPositionElements invoked."),!r(w)){S("Aborting because element has been uninstalled");return}r(w).onRendered=ce,r(w).onExpand=fe,r(w).onShrink=fe;var de=r(w).style;C(w,de.width,de.height)}function le(){if(S("finalizeDomMutation invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var C=r(w).style;P(w,C.width,C.height),X(w,C.width,C.height)}function V(){k(w)}function se(){S("Installing..."),N(),M(),n.add(0,D),n.add(1,O),n.add(2,ne),n.add(3,le),n.add(4,V)}S("Making detectable..."),T(w)?(S("Element is detached"),K(),S("Waiting until element is attached..."),r(w).onRendered=function(){S("Element is now attached"),se()}):se()}function x(y){var w=r(y);w&&(w.onExpandScroll&&m(g(y),"scroll",w.onExpandScroll),w.onShrinkScroll&&m(b(y),"scroll",w.onShrinkScroll),w.onAnimationStart&&m(w.container,"animationstart",w.onAnimationStart),w.container&&y.removeChild(w.container))}return{makeDetectable:_,addListener:v,uninstall:x,initDocument:c}},Ii=Yb.forEach,wk=ok,xk=sk,Sk=fk,kk=ck,Mk=lk,u0=Kb,Ak=pk,Rn=bk,Ek=yk,Tk=vk;function d0(e){return Array.isArray(e)||e.length!==void 0}function h0(e){if(Array.isArray(e))return e;var t=[];return Ii(e,function(n){t.push(n)}),t}function p0(e){return e&&e.nodeType===1}var Ck=function(e){e=e||{};var t;if(e.idHandler)t={get:function(_){return e.idHandler.get(_,!0)},set:e.idHandler.set};else{var n=Sk(),r=kk({idGenerator:n,stateHandler:Rn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=Mk(a)}var s=$n(e,"batchProcessor",Ak({reporter:i})),f={};f.callOnAdd=!!$n(e,"callOnAdd",!0),f.debug=!!$n(e,"debug",!1);var c=xk(t),l=wk({stateHandler:Rn}),u,d=$n(e,"strategy","object"),h=$n(e,"important",!1),p={reporter:i,batchProcessor:s,stateHandler:Rn,idHandler:t,important:h};if(d==="scroll"&&(u0.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):u0.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=Tk(p);else if(d==="object")u=Ek(p);else throw new Error("Invalid strategy name: "+d);var m={};function g(_,x,y){function w(M){var N=c.get(M);Ii(N,function(P){P(M)})}function k(M,N,D){c.add(N,D),M&&D(N)}if(y||(y=x,x=_,_={}),!x)throw new Error("At least one element required.");if(!y)throw new Error("Listener required.");if(p0(x))x=[x];else if(d0(x))x=h0(x);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,T=$n(_,"callOnAdd",f.callOnAdd),I=$n(_,"onReady",function(){}),A=$n(_,"debug",f.debug);Ii(x,function(N){Rn.getState(N)||(Rn.initState(N),t.set(N));var D=t.get(N);if(A&&i.log("Attaching listener to element",D,N),!l.isDetectable(N)){if(A&&i.log(D,"Not detectable."),l.isBusy(N)){A&&i.log(D,"System busy making it detectable"),k(T,N,y),m[D]=m[D]||[],m[D].push(function(){S++,S===x.length&&I()});return}return A&&i.log(D,"Making detectable..."),l.markBusy(N,!0),u.makeDetectable({debug:A,important:h},N,function(E){if(A&&i.log(D,"onElementDetectable"),Rn.getState(E)){l.markAsDetectable(E),l.markBusy(E,!1),u.addListener(E,w),k(T,E,y);var j=Rn.getState(E);if(j&&j.startSize){var Z=E.offsetWidth,re=E.offsetHeight;(j.startSize.width!==Z||j.startSize.height!==re)&&w(E)}m[D]&&Ii(m[D],function(J){J()})}else A&&i.log(D,"Element uninstalled before being detectable.");delete m[D],S++,S===x.length&&I()})}A&&i.log(D,"Already detecable, adding listener."),k(T,N,y),S++}),S===x.length&&I()}function b(_){if(!_)return i.error("At least one element is required.");if(p0(_))_=[_];else if(d0(_))_=h0(_);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Ii(_,function(x){c.removeAllListeners(x),u.uninstall(x),Rn.cleanState(x)})}function v(_){u.initDocument&&u.initDocument(_)}return{listenTo:g,removeListener:c.removeListener,removeAllListeners:c.removeAllListeners,uninstall:b,initDocument:v}};function $n(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const Nk=Qx(Ck);Nk({strategy:"scroll"});function Dk(e,t,n){let r,i;to(e,a0,f=>n(2,r=f)),to(e,o0,f=>n(3,i=f));let a=[];function s(f,c){a=f??a,console.log("in query update.... ",f,c),at(o0,i[c]=a,i),c=="defaults_q"&&at(a0,r=a.map(l=>({chirps_early:{start:l.chirps_early_first,end:l.chirps_early_last},chirps_late:{start:l.chirps_late_first,end:l.chirps_late_last}})),r)}return[s]}class Ik extends mt{constructor(t){super(),bt(this,t,Dk,null,yt,{render:0})}get render(){return this.$$.ctx[0]}}function Lk(e){let t,n;return{c(){t=Q("div"),n=by("svg"),this.h()},l(r){t=ee(r,"DIV",{class:!0});var i=te(t);n=yy(i,"svg",{id:!0,viewBox:!0,width:!0,height:!0});var a=te(n);a.forEach(q),i.forEach(q),this.h()},h(){$(n,"id","svgcontainer"),$(n,"viewBox","372 130 30 30"),$(n,"width","100%"),$(n,"height","100%"),$(t,"class","w-5/5 h-5/5")},m(r,i){xe(r,t,i),G(t,n),e[4](t)},p:Ne,i:Ne,o:Ne,d(r){r&&q(t),e[4](null)}}}function Ok(e,t,n){let{spec:r}=t,{theplot:i=null}=t,a,s=[],f;function c(u,d){if(!u||u.length==0)return;d=="overlay"||(s=u??s),console.log("map data to plot: ",s);let h={projection:"equirectangular",color:{type:"quantile",n:9,scheme:"blues"},marks:[Jx(s,{strokeOpacity:.5,strokeWidth:.01,precision:.01,fill:m=>m.properties.OBJECTID})]};n(1,i=Hl(h)),f=i.children[1];let p=document.getElementById("svgcontainer");p.innerHTML="",p.append(f)}function l(u){Er[u?"unshift":"push"](()=>{a=u,n(0,a)})}return e.$$set=u=>{"spec"in u&&n(2,r=u.spec),"theplot"in u&&n(1,i=u.theplot)},[a,i,r,c,l]}let Fk=class extends mt{constructor(t){super(),bt(this,t,Ok,Lk,yt,{spec:2,theplot:1,render:3})}get spec(){return this.$$.ctx[2]}set spec(t){this.$$set({spec:t}),ae()}get theplot(){return this.$$.ctx[1]}set theplot(t){this.$$set({theplot:t}),ae()}get render(){return this.$$.ctx[3]}};const Pk=Object.freeze(Object.defineProperty({__proto__:null,Alert:ik,BarGrouped:RS,Container:wS,CropCal:qS,DropDown:KS,Header:$y,Line:MS,Login:QS,Map:Fk,MatchingTable:HS,MatchingTableBackend:Fy,OverlayBackend:Py,QueryBackend:By,QueryUpdate:Ik,Slider:FS,Spinner:jy,Textbox:nk},Symbol.toStringTag,{value:"Module"}));let Bk=Of(Pk,l6);function ja(e,t){if(!e)throw new Error(t)}function Rk(e){let t=e.replaceAll(/\$\w+/g,n=>`o['${n.substring(1)}']`);return new Function("o",`return ${t}`)}const Qb=Bf(I0(Re(Array),Re(Object)),On(e=>Qb(e)),Rk);let Tf={};class $k{constructor(t,n){this.magic=t,this.config=n,this.backends={},this.interactions={},this.views={},this.viewIdToViews,this.deferred=[],this._deferredMode=!1;const r=a=>s=>{let f=this.magic.backend[a](s);return f.type=a,f};["overlay","duckdb","array","identity"].forEach(a=>this[a]=r(a)),this.root=document.createElement("div"),document.body.appendChild(this.root),this.loadBackends(n.backends??[]),this.loadViews(n.views??[]),this._deferredMode=!0,this.deferred.forEach(a=>a())}defer(t,n){if(this._deferredMode)throw new Error(n);this.deferred.push(t.bind(this))}async init(){for(let t of ln(this.backends))t.type=="duckdb"&&await t.init();await this.loadDependencies(this.config.dependencies??[]);for(let t of ln(this.backends))switch(t.type){case"array":t.execute();break;case"query":await t.execute();break;case"matching":await t.execute();break}cn((t,n)=>{var r;(r=this.views[n])==null||r.load(t())},this.magic.dependencies.defaults);for(let t of ln(this.backends))t.save&&this.magic.saveBackends(t)}newName(t="name"){return Tf[t]=Tf[t]??0,`${t}${Tf[t]++}`}loadBackends(t){let n=uu(this.createBackend.bind(this));return x0(r=>r.type=="duckdb",t).forEach(n),N0(r=>r.type=="duckdb",t).forEach(n),this}createBackend(t){let n=t.name??(t.type?this.newName(t.type):this.newName("backend"));if(this.backends[n])throw new Error(`Backend ${n} already exists`);let r=null;if(t.type)r=this[t.type](t);else if(t.query)r=this.query(t);else if(t.matching)r=this.matching(t);else{if(t.backend)return this.backends[t.backend];if(t.interaction){r=this.identity();let i=this.interactions[t.interaction];Ae(i)&&this.defer(()=>this.createBackend(t),`Interaction ${t.interaction} not found`),r&&i&&this.magic.connect(r,i)}else if(t.array)r=this.array({...t,data:t.array});else throw new Error("Can't initialize backend config:",t)}return ja(!Ae(r),`Backend is null ${r.type}`),ja(!Ae(r.type),`New Backend must have type attr ${JSON.stringify(t)}`),r.save=t.save,this.backends[n]=r,r}matching({name:t,ignore_cols:n,default_func:r,backend:i,matching:a,defaults:s={}}){i=Re(String,i)?this.backends[i]:i,t=t??this.newName("matching");let f=this.magic.backend.matching({id:t,backend:i,default_func:r,matching:a,ignore_cols:n,defaults:s});return f.type="matching",f}query({name:t,query:n,defaults:r={},db:i="duckdb"}){i=Re(String,i)?this.backends[i]:i,t=t??this.newName("query");let a=this.magic.backend.query({id:t,backend:i,query:n,name:t,defaults:r});return a.type="query",a}loadViews(t){t=t??[];let n=t.map(r=>{let i=this.canonicalizeData(r.data),a=this.makeView(r);return this.views[r.name]=a,this.magic.view(a),a.backends=$i(a.backends??[],i??[]),a.backends.forEach(s=>{this.magic.render(s,a)}),a});q2(t,n).forEach(([r,i])=>{(r.interactions??[]).forEach(s=>{this.connectInteractions(i,s)})})}connectInteractions(t,{to:n,name:r,type:i,defaults:a}){let s=t.interactions[i];if(Ae(s))throw new Error(`Interaction ${i} not found in View ${t.id}`);if(this.interactions[r]=s,Ae(a)||this.magic.dependencies.setDefault(t,()=>a),Ae(n)||ht(n)){this.magic.connect(null,s,null);return}(Re(Array,n)?n:[n]).forEach(c=>{c=Re(String,c)?{backend:c}:c;let l=this.backends[c.backend],u=Qb(du(["opts","backend","view"],c));if(Ae(l)){let d=c.view;if(/\w+\.\d+/.test(d)){let[h,p]=d.split(".");l=this.views[h].backends[parseInt(p)],ja(!Ae(l),`Backend not found ${d}`)}else{let h=this.views[d];Ae(h)&&this.defer(()=>this.connectInteractions(t,{to:c,name:r,type:i,defaults:a}),`Interaction references nonexistent backend ${c.backend} and view ${d}`),l=this.identity(),this.magic.render(l,h)}}this.magic.connect(l,s,u)})}makeView(t){let n=t.type,r=du(["data","interactions"],t);r.id=r.id??r.name??this.newName(n);let i=null;t.selector?i=document.querySelector(t.selector):(i=document.createElement("div"),this.root.appendChild(i)),console.log("new View",n,r);let a=new Bk[n]({target:i,props:r});return a.el=i,a}canonicalizeData(t){if(Re(String,t)){let n=this.backends[t];return ja(!Ae(n),`Backend named ${t} not found`),[n]}return t=Re(Array,t)?t:[t],jc(yr(qy,t[0]),["query","matching","backend","interaction"])||(t=[{array:t}]),t.map(uu(this.createBackend.bind(this)))}async loadDependencies(t){(t??[]).forEach(({source:n,attr:r,target:i})=>{let a=null;if(a=this.interactions[n],Ae(a)&&/\w+\.\w+/.test(n)){let[f,c]=n.split(".");a=this.views[f].interactions[c]}if(Ae(a))throw new Error(`Interaction not found ${n}`);(Re(Array,i)?i:[i]).forEach(async f=>{f=Re(String,f)?{view:f}:f;let c=f.view,l=this.views[c];if(Ae(l))throw new Error("View not found: ",c);let u;if(yr("function")(f.defaults)){let d=await this.backends[f.defaults.backend].execute();u=new Function("e","a",f.defaults.function).bind(d)}else u=f.defaults?()=>f.defaults:null;this.magic.dependencies.add(a.get(r),l,null,u)})})}}class Wo{constructor(t){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=t}get array(){return this._array}}const ey=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Wo(i),f=new Wo(a),c=s.compPos(f.array),l=f.getPos(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},ty=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Wo(i),f=new Wo(a),c=s.compZero(f.array),l=f.getZero(),u=c.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},jk=function(e,t,n,r){return ey(e,t,n,r)},qk=function(e,t,n,r){return ty(e,t,n,r)},zk=function(e,t,n,r){let i=Number(ey(e,t,n,r)),a=Number(ty(e,t,n,r));return((i+a)/2).toFixed(2)};let Uk=[{"true positive":jk,"true negative":qk,"average matching":zk}];const Hk=`backends:
- type: duckdb
  name: duckdb
  sources:
  - parquet: "admin_raw.parquet"
    name: "admin_raw"
  - parquet: "chirps_raw.parquet"
    name: "chirps_raw"
  - parquet: "crop_cal_raw.parquet"
    name: crop_cal_raw
  - parquet: "badyear_raw.parquet"
    name: badyear_raw
- type: query
  name: climatology
  # query doesn't have source/sources -- assumes all data is loaded already
  db: duckdb
  query: "" # if query name is in model out, will pull query from there, replacing this text 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 24
    crop: "Groundnuts"
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: payout_combined 
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: badyear 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: matching 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal_dropdown_query
  db: duckdb
  query: ""
  defaults:
    region: 1128
- type: matching
  name: mtb 
  ignore_cols:
    - year
    - gid
    - value
  default_func: "true positive" 
  backend: matching
  #TODO: how to integrate functions into yaml 
  matching: ""
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: default_q 
  db: duckdb
  query: "SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last FROM admin_raw ORDER BY gid"
- type: overlay
  name: overlay
views:
- type: Login
  name: Login
  selector: "#login"
  dataTable: Nigeria_Data
  stateTable: Nigeria_State
- type: Line
  name: climatology_chart
  selector: "#chart-1"
  xAttr: dekad 
  yAttr: average_value
  data:
  - backend: climatology
  - backend: overlay
    target: overlay
- type: CropCal 
  name: crop_calendar 
  selector: "#chart-2"
  xDomainMin: 1
  xDomainMax: 36
  data:
  - backend: crop_cal
  - backend: overlay
    target: overlay
- type: BarGrouped
  name: payout_combined
  selector: "#chart-3"
  xAttr: year
  yAttr: value
  yMax: 1
  xDomainMin: 1990
  xDomainMax: 2024
  groupNames:
    - sum_early
    - sum_late
    - combined_payout
  data:
  - backend: payout_combined
  - backend: badyear
  - backend: overlay
    target: overlay
- type: MatchingTable
  name: matching_table
  selector: "#chart-4"
  data:
  - backend: mtb
- type: DropDown
  name: Region_Dropdown
  selector: "#dropdown-1"
  interactions:
    - type: change
      name: ddc
      defaults:
        region: 1128
      to:
        - backend: climatology
          region: $gid
        - backend: mtb
          region: $gid
        - backend: crop_cal
          region: $gid
        - backend: payout_combined 
          region: $gid
        - backend: badyear
          region: $gid
        - backend: crop_cal_dropdown_query
          region: $gid
  index: 0
  dropdown_key: district
  data: 
  - query: "SELECT gid, district FROM admin_raw ORDER BY gid"
- type: DropDown
  name: Crop_Calendar_Dropdown
  selector: "#dropdown-3"
  interactions:
    - type: change
      name: ddc-crop-cal
      to:
        - backend: crop_cal
          crop: $crop
  index: 0
  dropdown_key: crop
  data:
  - backend: crop_cal_dropdown_query
- type: DropDown
  name: Matching_Dropdown
  selector: "#dropdown-2"
  interactions:
    - type: change
      name: ddc-matching
      to:
        - backend: mtb
          func_elected: $value
  index: 0
  dropdown_key: value
  data:
  - query: "SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);"
- type: Slider
  name: PlantEarly
  selector: "#slider-1"
  min: 1
  max: 36
  description: "CHIRPS sum early"
  interactions:
  - type: change
    to: 
    - backend: payout_combined 
      sum_early_first: $left
      sum_early_last: $right
    - backend: mtb 
      sum_early_first: $left
      sum_early_last: $right
    - backend: overlay
      sum_early:
        left: $left
        right: $right
- type: Slider
  name: PlantLate
  selector: "#slider-2"
  min: 1
  max: 36
  description: "CHIRPS sum late"
  interactions:
  - type: change
    to: 
    - backend: payout_combined
      sum_late_first: $left
      sum_late_last: $right
    - backend: mtb 
      sum_late_first: $left
      sum_late_last: $right
    - backend: overlay
      sum_late:
        left: $left
        right: $right
#- type: Alert
#  name: Alert
#  selector: "#alert"
#  threshold_string: "1.0"
#  key: "combined_payout"
#  data:
#    - backend: payout_combined
#  interactions:
#  - type: valid
dependencies:
- source: ddc
  attr: "gid"
  target:
    - view: PlantEarly
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_early_first,  right: row.chirps_early_last}
        ;"
    - view: PlantLate
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_late_first,  right: row.chirps_late_last}
        ;"
`,qa="1.11.0";var hn=[],jt=[],Vk=Uint8Array,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var zr=0,Wk=Cf.length;zr<Wk;++zr)hn[zr]=Cf[zr],jt[Cf.charCodeAt(zr)]=zr;jt["-".charCodeAt(0)]=62;jt["_".charCodeAt(0)]=63;function Yk(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Xk(e,t,n){return(t+n)*3/4-n}function Yo(e){var t,n=Yk(e),r=n[0],i=n[1],a=new Vk(Xk(e,r,i)),s=0,f=i>0?r-4:r,c;for(c=0;c<f;c+=4)t=jt[e.charCodeAt(c)]<<18|jt[e.charCodeAt(c+1)]<<12|jt[e.charCodeAt(c+2)]<<6|jt[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=jt[e.charCodeAt(c)]<<2|jt[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=jt[e.charCodeAt(c)]<<10|jt[e.charCodeAt(c+1)]<<4|jt[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function Gk(e){return hn[e>>18&63]+hn[e>>12&63]+hn[e>>6&63]+hn[e&63]}function Kk(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(Gk(r));return i.join("")}function Xo(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(Kk(e,s,s+a>f?f:s+a));return r===1?(t=e[n-1],i.push(hn[t>>2]+hn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(hn[t>>10]+hn[t>>4&63]+hn[t<<2&63]+"=")),i.join("")}function za(e){if(e===void 0)return{};if(!ny(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function Zk(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);if(!(e.indexOf("127.0.0.1")!==-1||e.indexOf("localhost")!==-1)&&!e.endsWith(".convex.cloud"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${e}".`)}function ny(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const ry=!0,ci=BigInt("-9223372036854775808"),Gl=BigInt("9223372036854775807"),Ic=BigInt("0"),Jk=BigInt("8"),Qk=BigInt("256");function iy(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function eM(e){e<Ic&&(e-=ci+ci);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=Jk;return Xo(n)}function tM(e){const t=Yo(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Ic,r=Ic;for(const i of t)n+=BigInt(i)*Qk**r,r++;return n>Gl&&(n+=ci+ci),n}function nM(e){if(e<ci||Gl<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Xo(new Uint8Array(t))}function rM(e){const t=Yo(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const iM=DataView.prototype.setBigInt64?nM:eM,aM=DataView.prototype.getBigInt64?rM:tM,g0=1024;function Lc(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>g0)throw new Error(`Field name ${e} exceeds maximum field name length ${g0}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function dr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>dr(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Yo(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return aM(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Yo(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,ry);if(!iy(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))Lc(r),n[r]=dr(i);return n}function Kr(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function Go(e,t,n,r){var s;if(e===void 0){const f=n&&` (present at path ${n} in original object ${Kr(t)})`;throw new Error(`undefined is not a valid Convex value${f}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ci||Gl<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:iM(e)}}if(typeof e=="number")if(iy(e)){const f=new ArrayBuffer(8);return new DataView(f).setFloat64(0,e,ry),{$float:Xo(new Uint8Array(f))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Xo(new Uint8Array(e))};if(Array.isArray(e))return e.map((f,c)=>Go(f,t,n+`[${c}]`,!1));if(e instanceof Set)throw new Error(Nf(n,"Set",[...e],t));if(e instanceof Map)throw new Error(Nf(n,"Map",[...e],t));if(!ny(e)){const f=(s=e==null?void 0:e.constructor)==null?void 0:s.name,c=f?`${f} `:"";throw new Error(Nf(n,c,e,t))}const i={},a=Object.entries(e);a.sort(([f,c],[l,u])=>f===l?0:f<l?-1:1);for(const[f,c]of a)c!==void 0?(Lc(f),i[f]=Go(c,t,n+`.${f}`,!1)):r&&(Lc(f),i[f]=oM(c,t,n+`.${f}`));return i}function Nf(e,t,n,r){return e?`${t}${Kr(n)} is not a supported Convex type (present at path ${e} in original object ${Kr(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Kr(n)} is not a supported Convex type.`}function oM(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${Kr(e)} but original value is undefined`);return Go(e,t,n,!1)}function Ua(e){return Go(e,e,"",!1)}var ay;const sM=Symbol.for("ConvexError");class Ha extends Error{constructor(t){super(typeof t=="string"?t:Kr(t)),this.name="ConvexError",this[ay]=!0,this.data=t}}ay=sM;const fM="color:rgb(0, 145, 255)";function cM(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function Va(e,t,n,r){const i=cM(t);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),e==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,fM,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const oy=Symbol.for("functionName");function Wa(e){if(typeof e=="string")return e;const t=e[oy];if(!t)throw new Error(`${e} is not a functionReference`);return t}function sy(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return sy(i)}else if(r===oy){if(e.length<2){const s=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}sy();const Ya=560;class lM{constructor(t){Zk(t),this.address=`${t}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${t}:${i}`}else this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}setFetchOptions(t){this.fetchOptions=t}async query(t,...n){const r=za(n[0]),i=Wa(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ua(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qa}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/query`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Ya)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Va("info","query",i,u);switch(l.status){case"success":return dr(l.value);case"error":throw l.errorData!==void 0?Xa(l.errorData,new Ha(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async mutation(t,...n){const r=za(n[0]),i=Wa(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ua(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qa}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Ya)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Va("info","mutation",i,u);switch(l.status){case"success":return dr(l.value);case"error":throw l.errorData!==void 0?Xa(l.errorData,new Ha(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async action(t,...n){const r=za(n[0]),i=Wa(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Ua(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qa}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/action`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Ya)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Va("info","action",i,u);switch(l.status){case"success":return dr(l.value);case"error":throw l.errorData!==void 0?Xa(l.errorData,new Ha(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async function(t,...n){const r=za(n[0]),i=typeof t=="string"?t:Wa(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:Ua(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${qa}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=await fetch(`${this.address}/function`,{...this.fetchOptions,body:a,method:"POST",headers:s,credentials:"include"});if(!c.ok&&c.status!==Ya)throw new Error(await c.text());const l=await c.json();if(this.debug)for(const u of l.logLines??[])Va("info","any",i,u);switch(l.status){case"success":return dr(l.value);case"error":throw l.errorData!==void 0?Xa(l.errorData,new Ha(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}}function Xa(e,t){return t.data=dr(e),t}function uM(e){let t,n,r,i,a,s,f,c,l,u,d,h,p,m,g,b,v,_,x,y,w,k,S,T,I;return{c(){t=Q("div"),n=ke(),r=Q("div"),i=Q("div"),a=Q("div"),s=ke(),f=Q("div"),c=ke(),l=Q("div"),u=Q("div"),d=ke(),h=Q("div"),p=ke(),m=Q("div"),g=ke(),b=Q("div"),v=ke(),_=Q("div"),x=ke(),y=Q("div"),w=Q("div"),k=ke(),S=Q("div"),T=ke(),I=Q("div"),this.h()},l(A){t=ee(A,"DIV",{id:!0}),te(t).forEach(q),n=Me(A),r=ee(A,"DIV",{class:!0});var M=te(r);i=ee(M,"DIV",{class:!0});var N=te(i);a=ee(N,"DIV",{id:!0}),te(a).forEach(q),s=Me(N),f=ee(N,"DIV",{id:!0}),te(f).forEach(q),N.forEach(q),c=Me(M),l=ee(M,"DIV",{});var D=te(l);u=ee(D,"DIV",{id:!0}),te(u).forEach(q),d=Me(D),h=ee(D,"DIV",{id:!0}),te(h).forEach(q),p=Me(D),m=ee(D,"DIV",{id:!0}),te(m).forEach(q),g=Me(D),b=ee(D,"DIV",{id:!0}),te(b).forEach(q),v=Me(D),_=ee(D,"DIV",{id:!0}),te(_).forEach(q),D.forEach(q),x=Me(M),y=ee(M,"DIV",{});var P=te(y);w=ee(P,"DIV",{id:!0}),te(w).forEach(q),k=Me(P),S=ee(P,"DIV",{id:!0}),te(S).forEach(q),T=Me(P),I=ee(P,"DIV",{id:!0}),te(I).forEach(q),P.forEach(q),M.forEach(q),this.h()},h(){$(t,"id","alert"),$(a,"id","login"),$(f,"id","dropdown-1"),$(i,"class","col-span-2"),$(u,"id","chart-1"),$(h,"id","dropdown-3"),$(m,"id","chart-2"),$(b,"id","slider-1"),$(_,"id","slider-2"),$(w,"id","chart-3"),$(S,"id","dropdown-2"),$(I,"id","chart-4"),$(r,"class","grid grid-cols-2")},m(A,M){xe(A,t,M),xe(A,n,M),xe(A,r,M),G(r,i),G(i,a),G(i,s),G(i,f),G(r,c),G(r,l),G(l,u),G(l,d),G(l,h),G(l,p),G(l,m),G(l,g),G(l,b),G(l,v),G(l,_),G(r,x),G(r,y),G(y,w),G(y,k),G(y,S),G(y,T),G(y,I)},p:Ne,i:Ne,o:Ne,d(A){A&&q(t),A&&q(n),A&&q(r)}}}function dM(e,t,n){let r;to(e,su,l=>n(1,r=l));let i=lM;const a=new i("https://rightful-anteater-150.convex.cloud");a.mutation("saveParams"),a.query("getParams");let s=Q5(Hk,"utf8");console.log(s),at(su,r=new Ry,r);let f=new rS(r),c;return _y(async()=>{(s.backends??[]).forEach(l=>{l.type==="matching"?l.matching=Uk:yr(l.name)(fu)&&(l.query=fu[l.name].query)}),(s.views??[]).forEach(l=>{l.type==="Login"&&(l.magic=f,l.exportFunc="saveToConvex",l.importFunc="getFromConvex",l.client=a)}),c=new $k(f,s),await c.init()}),[]}class wM extends mt{constructor(t){super(),bt(this,t,dM,uM,yt,{})}}export{wM as default};
